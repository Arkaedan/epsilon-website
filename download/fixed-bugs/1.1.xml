<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/bugzilla.dtd">

<bugzilla version="4.2.5"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
          exporter="dkolovos@cs.york.ac.uk"
>

    <bug>
          <bug_id>414675</bug_id>
          
          <creation_ts>2013-08-08 11:03:00 -0400</creation_ts>
          <short_desc>EPackage registry does not load properly</short_desc>
          <delta_ts>2013-08-28 05:30:20 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows XP</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>minor</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>0</everconfirmed>
          <reporter name="Gaëtan Pruvost">gaetan.pruvost@thalesgroup.com</reporter>
          <assigned_to name="Antonio Garcia-Dominguez">nyoescape@gmail.com</assigned_to>
          <cc>dkolovos@cs.york.ac.uk</cc>
    
    <cc>nyoescape@gmail.com</cc>
          
          <votes>0</votes>

      
          <token>1377789456-2a97e857399446a097e7c9f5a9de2b73</token>

      

      

          <long_desc isprivate="0">
            <commentid>2292790</commentid>
            <who name="Gaëtan Pruvost">gaetan.pruvost@thalesgroup.com</who>
            <bug_when>2013-08-08 11:03:31 -0400</bug_when>
            <thetext>To reproduce the bug:
- Register one of your EPackage
- Restart Eclipse
- Run a script using the aforementioned EPackage
=&gt; Script crashes with &quot;could not find metamodel with URI ...&quot;

Workaround:
Any interaction with the Epsilon EMF registry will make it update by itself. You can either register an EPackage again or go to the &quot;EPackage registry view&quot; and click on the &quot;Refresh&quot; button.
Your script should work then...


Configuration:
Epsilon 
  v1.0 stable release (1.0.0.201211082326)
Eclipse
  Version: Juno Service Release 2
  Build id: 20130225-0426</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2294610</commentid>
            <who name="Gaëtan Pruvost">gaetan.pruvost@thalesgroup.com</who>
            <bug_when>2013-08-14 05:13:55 -0400</bug_when>
            <thetext>I also got errors saying that the concept X was not found (note that the metamodel in which it is declared was found) whereas it was properly declared in the corresponding metamodel (and could be seen in the EPackage registry view). 

This problem appeared randomly when running the script from the launch config (never when run from standalone java). I&apos;m sure it is not a problem with the script itself as it suddenly worked with no change to the script or metamodel, just by re-running it...


The Epsilon runtime EPackage registry seems quite unstable on my setup (i.e Windows XP, no matter what version of Eclipse). See for instance the bug report #415037 which could be related.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2295323</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2013-08-15 13:23:50 -0400</bug_when>
            <thetext>Could you try again after you fix the issue I identified in one of your metamodels on bug #415037?</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2295510</commentid>
            <who name="Gaëtan Pruvost">gaetan.pruvost@thalesgroup.com</who>
            <bug_when>2013-08-16 04:29:52 -0400</bug_when>
            <thetext>I still have the problem so it isn&apos;t related to bug #415037.

After testing, I realize I was partly wrong in my first comment, refreshing the &quot;EPcakage registry view&quot; doesn&apos;t update the Epsilon registry, if you want to work the problem around you can either:
- click &quot;apply&quot; in the Epsilon EMF Registry preferences window.
- register any EPackage in your workspace.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2295549</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2013-08-16 06:40:30 -0400</bug_when>
            <thetext>Can you confirm that this still happens with Kepler and the latest interim? A sample project would also be useful for reproducing this issue.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2295598</commentid>
              <attachid>234484</attachid>
            <who name="Gaëtan Pruvost">gaetan.pruvost@thalesgroup.com</who>
            <bug_when>2013-08-16 08:43:54 -0400</bug_when>
            <thetext>Created attachment 234484
Test project (run the ECLIPSE_basicTransform.launch)

Attached is a project that can be used to reproduce the bug.

I tried on kepler, last interim and had the same problem.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2295601</commentid>
              <attachid>234485</attachid>
            <who name="Gaëtan Pruvost">gaetan.pruvost@thalesgroup.com</who>
            <bug_when>2013-08-16 08:47:44 -0400</bug_when>
            <thetext>Created attachment 234485
Eclipse Startup

I attach the list of elements that are in the startup menu of Eclipse.

I&apos;m pretty sure it&apos;s a problem with &quot;lazy&quot; loading of the plugin.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2296186</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2013-08-19 07:55:04 -0400</bug_when>
            <thetext>I&apos;m sorry, but I cannot reproduce this on Kepler + latest Epsilon interim on Windows. I&apos;ve followed these steps:

- Launch Eclipse with your project.
- Go to the Epsilon registry preferences page and clear all entries.
- Register the metamodels.
- Restart Eclipse.
- Launch ECLIPSE_basicTransform.launch.

However, the script launches just fine with no errors, according to the console. Am I missing something?</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2296579</commentid>
              <attachid>234563</attachid>
            <who name="Gaëtan Pruvost">gaetan.pruvost@thalesgroup.com</who>
            <bug_when>2013-08-20 03:58:46 -0400</bug_when>
            <thetext>Created attachment 234563
Stack trace of the error

Well, I don&apos;t think you have missed anything. That&apos;s exactly what I do and I get the attached error trace...


Maybe it&apos;s something wrong with my setup (but I tried with 3 different eclipse so it&apos;d be weird).

Maybe it&apos;s a collision with another feature. I think the only other features installed are EmfAtic and MTC Flow (but the project doesn&apos;t have the mtc nature).

Maybe it&apos;s a problem appearing only on Windows XP. Have you tried on linux or windows 7?</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2297484</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2013-08-21 13:53:16 -0400</bug_when>
            <thetext>I have tried to reproduce the bug with Linux and Windows 7. I don&apos;t have access to a Windows XP installation, but I don&apos;t really see how it should affect Eclipse in this case :-/.

This may be a timing issue, however. Looking at the code for EmfUtilPlugin#earlyStartup(), it seems that metamodels registered by Epsilon are &quot;re-registered&quot; on a separate thread after the workbench initializes. If you have a computer with 1 or 2 cores, you could be launching the script *before* this code is run. I have a quad-core machine, so that might explain why I can&apos;t reproduce your issue.

Could you try waiting a minute or two after Eclipse has started before launching the script? If that works, then what we need is a way to either avoid this timing issue or let the user know that they should wait a bit.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2297685</commentid>
            <who name="Gaëtan Pruvost">gaetan.pruvost@thalesgroup.com</who>
            <bug_when>2013-08-22 03:50:19 -0400</bug_when>
            <thetext>I tried to wait a few minutes at startup and that doesn&apos;t help. I also have a quad core and eclipse was running &quot;alone&quot;.

I do believe the code EmfUtilPlugin#earlyStartup() never gets called until I do something with the registry. 

It&apos;s more as if the plugin was getting loaded lazily instead of automatically at startup. I&apos;ve taken a look at my eclipse preferences -&gt; general -&gt; startup and I don&apos;t see any plugin relating to emf registry... Should I see one?

The only I have that relate to Epsilon are (cf. attachment 234485 in comment 6):
- Epsilon concordance
- EVL EMF Validation Integration Plug-in</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2297926</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2013-08-22 11:25:41 -0400</bug_when>
            <thetext>Finally, after some more testing I&apos;ve managed to reproduce the bug.

It seems that the emf.dt plugin.xml file did not mention the &quot;org.eclipse.ui.startup&quot; extension that is needed to make Eclipse run the #earlyStartup() method in the main class of the plugin.

Adding the extension fixes the problem for me.

Marking as confirmed and fixed in SVN r2362. I&apos;ll try and put up an interim release today or tomorrow :-).</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2297962</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2013-08-22 11:55:37 -0400</bug_when>
            <thetext>Fixed in the latest interim release.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2299615</commentid>
            <who name="Gaëtan Pruvost">gaetan.pruvost@thalesgroup.com</who>
            <bug_when>2013-08-27 11:29:15 -0400</bug_when>
            <thetext>Ok, the interim release works for me.

However it is only available for Kepler, could you push a new interim release for Juno please?</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2299762</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-08-27 17:41:41 -0400</bug_when>
            <thetext>The Kepler interim update site should work fine with Juno, except for the EUnit EMF Compare Integration feature (which depends on the version of EMF Compare that ships with Kepler and which introduced API-breaking changes compared to the Juno version). 

Given that we&apos;re now heading towards Luna, we&apos;re inclined not to maintain the Juno-dependent EMF Compare Integration feature but please let us know if you need this and we&apos;ll work out something.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2299878</commentid>
            <who name="Gaëtan Pruvost">gaetan.pruvost@thalesgroup.com</who>
            <bug_when>2013-08-28 04:36:33 -0400</bug_when>
            <thetext>Does that mean that you won&apos;t provide support for older versions than Kepler?
Kepler is still in RC, very few people have switched and we certainly haven&apos;t (and won&apos;t before a few months).

We where targeting at Juno currently (since it is the current stable) but I assume moving to Kepler won&apos;t be too painful.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2299895</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2013-08-28 05:30:20 -0400</bug_when>
            <thetext>The only difference between Juno and Kepler for Epsilon is the EMF Compare integration plugin. If you don&apos;t use that, the Kepler interims and the future 1.1 release should work perfectly in Juno as well :-).</thetext>
          </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>234484</attachid>
            <date>2013-08-16 08:43:00 -0400</date>
            <delta_ts>2013-08-16 08:43:54 -0400</delta_ts>
            <desc>Test project (run the ECLIPSE_basicTransform.launch)</desc>
            <filename>forum.tests.zip</filename>
            <type>application/zip</type>
            <size>14336</size>
            <attacher>gaetan.pruvost@thalesgroup.com</attacher>
            
              <token>1377789457-0dd17438adc9cbe55d41091333f60f37</token>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>234485</attachid>
            <date>2013-08-16 08:47:00 -0400</date>
            <delta_ts>2013-08-16 08:47:44 -0400</delta_ts>
            <desc>Eclipse Startup</desc>
            <filename>eclipse_startup.jpeg</filename>
            <type>image/jpeg</type>
            <size>50725</size>
            <attacher>gaetan.pruvost@thalesgroup.com</attacher>
            
              <token>1377789457-ef889d33ce9ed4dfa29c8aa450e18841</token>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>234563</attachid>
            <date>2013-08-20 03:58:00 -0400</date>
            <delta_ts>2013-08-20 03:58:46 -0400</delta_ts>
            <desc>Stack trace of the error</desc>
            <filename>error_trace.txt</filename>
            <type>text/plain</type>
            <size>4494</size>
            <attacher>gaetan.pruvost@thalesgroup.com</attacher>
            
              <token>1377789457-329df2978aafc94d13bd3ac4347c2851</token>

          </attachment>
      

    </bug>
    <bug>
          <bug_id>414766</bug_id>
          
          <creation_ts>2013-08-09 08:34:00 -0400</creation_ts>
          <short_desc>Java standalone produces invalid model cross-references</short_desc>
          <delta_ts>2013-08-22 11:56:12 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows XP</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>blocker</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Gaëtan Pruvost">gaetan.pruvost@thalesgroup.com</reporter>
          <assigned_to name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</assigned_to>
          <cc>nyoescape@gmail.com</cc>
          
          <votes>0</votes>

      
          <token>1377789457-ecf3bdfb945810dc4e9b4af2942207e7</token>

      

      

          <long_desc isprivate="0">
            <commentid>2293177</commentid>
              <attachid>234264</attachid>
            <who name="Gaëtan Pruvost">gaetan.pruvost@thalesgroup.com</who>
            <bug_when>2013-08-09 08:34:16 -0400</bug_when>
            <thetext>Created attachment 234264
Minimal example to reproduce serialization issue

When an EOL module is run from Java and when that module produces cross-references between models, the models are not properly serialized.

STEPS TO REPRODUCE:

- Import attached project

- Run the ECLIPSE_basicTransform.launch 
  Open the files in tests/target/*. They should all be valid XMI

- Run the JAVA_forum.tests.launch
  Open the files in tests/target/*. The file trace-from-java.model is different from trace-from-eclipse.model.
Open it with Exeed or EMF editor, right-click and validate, there will be proxy resolution errors. Open the file with text editor, you&apos;ll see that cross-references are serialized as absolute path instead of relative path.


TESTED VERSIONS:
Epsilon 1.0 stable release on Eclipse Juno service pack 2
Epsilon Interim release on Eclipse Kepler RC3
=&gt; both on Windows XP</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2293185</commentid>
            <who name="Gaëtan Pruvost">gaetan.pruvost@thalesgroup.com</who>
            <bug_when>2013-08-09 08:43:32 -0400</bug_when>
            <thetext>The java code is inspired by the &quot;standalone&quot; example so it &quot;should be correct&quot;.

My investigations gave me that:

- I looked at the src for executing module from a launch configuration. The main difference I saw was the call to load models:
In standalone:    model.load(properties, null);
In the plugin:    model.load(properties, EclipseUtil.getWorkspacePath());
After adding the corresponding code in my standalone test, I had no change. The string seems to be ignored by the EmfModel class...

- My guess 1: At some point, the serialization of the model involves calling EclipseUtil.getWorkspacePath() which is known to fail from a standalone app and return an empty string. Unfortunately this must be in Epsilon source code and I don&apos;t see how to force a relative path from its API ...

- My guess 2: I guess serialization is delegated to EMF, so it must be a wrong configuration of the EMF Resource (maybe at load time and not at store time). I looked at the code but couldn&apos;t find it as I&apos;m no expert in that domain.


That&apos;s a pretty annoying problem in my case since it prevents me from using epsilon right now as I HAVE to use it from Java.

Thanks for your help.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2293656</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2013-08-12 07:28:15 -0400</bug_when>
            <thetext>I cannot reproduce this issue on my Eclipse Kepler RC3 installation using Epsilon SVN r2358 from Linux.

I will now try them again on the latest Epsilon interim release of a clean Eclipse Kepler installation.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2293763</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2013-08-12 10:56:40 -0400</bug_when>
            <thetext>I have tried the example again with the latest Kepler interim release on a clean Kepler RC3 installation (build ID 20130606-0932) from Linux. I have been unable to reproduce the problem as well.

I&apos;ll try it on Windows, then. I&apos;m afraid I only have access to a Windows 7 installation, though.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2293786</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2013-08-12 11:27:57 -0400</bug_when>
            <thetext>Interestingly enough, it does happen on Windows 7. Seems to be a Windows-specific issue, then.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2293788</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2013-08-12 11:37:55 -0400</bug_when>
            <thetext>Seems there was a problem in the Java code you were using, and particularly in the way in which the model URI was being passed to Epsilon.

The issue here is that Windows and Unix (e.g. Linux and Mac OS) file URIs are slightly different, and the example had some code that would only work properly on Unix systems. To fix the proble, simply replace this bit of code in EpsilonUtils#model_byMMuri:

  properties.put(EmfModel.PROPERTY_MODEL_URI,
    &quot;file:/&quot; + getFile(model).getAbsolutePath());

With this:

  properties.put(EmfModel.PROPERTY_MODEL_URI,
    getFile(model).toURI().toString());

Oh, and you don&apos;t need this line anymore:

  properties.put(EmfModel.PROPERTY_IS_METAMODEL_FILE_BASED, &quot;false&quot;);

We&apos;ll review the examples to make sure nobody trips on this again. Sorry for the trouble!</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2293795</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2013-08-12 11:51:02 -0400</bug_when>
            <thetext>I&apos;ve fixed the example in SVN r2359.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2293825</commentid>
            <who name="Gaëtan Pruvost">gaetan.pruvost@thalesgroup.com</who>
            <bug_when>2013-08-12 13:05:49 -0400</bug_when>
            <thetext>It works like a charm.
Thanks!</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2297964</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2013-08-22 11:56:12 -0400</bug_when>
            <thetext>Just pushed out a new interim release which should include the fix for this issue.</thetext>
          </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>234264</attachid>
            <date>2013-08-09 08:34:00 -0400</date>
            <delta_ts>2013-08-09 08:34:16 -0400</delta_ts>
            <desc>Minimal example to reproduce serialization issue</desc>
            <filename>forum.tests.zip</filename>
            <type>application/zip</type>
            <size>23137</size>
            <attacher>gaetan.pruvost@thalesgroup.com</attacher>
            
              <token>1377789457-6330992a9a85c14f523db1eace4fec46</token>

          </attachment>
      

    </bug>
    
    <bug>
          <bug_id>382640</bug_id>
          
          <creation_ts>2012-06-14 10:58:00 -0400</creation_ts>
          <short_desc>No protection against invalid constraints property in org.eclipse.epsilon.evl.emf.validation extension point</short_desc>
          <delta_ts>2013-06-01 03:46:45 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows XP</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>0</everconfirmed>
          <reporter name="Jason Hampson">Jason.Hampson.jvaec2@Rolls-royce.com</reporter>
          <assigned_to name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</assigned_to>
          
          
          <votes>0</votes>

      
          <token>1377789458-4dd3a1027b33240f03a749e27db939ae</token>

      

      

          <long_desc isprivate="0">
            <commentid>2124338</commentid>
            <who name="Jason Hampson">Jason.Hampson.jvaec2@Rolls-royce.com</who>
            <bug_when>2012-06-14 10:58:57 -0400</bug_when>
            <thetext>Build Identifier: Build id: 20100218-1602

If the constraints property is not valid in org.eclipse.epsilon.evl.emf.validation extension point (e.g. the EVL script is omitted in the exported plug-in), then there is no checks made before loading the resource. An error is returned which be difficult to trace the root cause:

java.lang.NullPointerException
at org.eclipse.epsilon.evl.emf.validation.EValidatorPopulator.earlyStartup(EValidatorPopulator.java:51)
at org.eclipse.ui.internal.EarlyStartupRunnable.runEarlyStartup(EarlyStartupRunnable.java:87)
at org.eclipse.ui.internal.EarlyStartupRunnable.run(EarlyStartupRunnable.java:66)
at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42)
at org.eclipse.ui.internal.Workbench$55.run(Workbench.java:2192)
at org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)

Reproducible: Always</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249839</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-29 09:59:48 -0400</bug_when>
            <thetext>Fixed in the SVN.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2266567</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-06-01 03:46:45 -0400</bug_when>
            <thetext>Fixed in the latest interim version.</thetext>
          </long_desc>
    </bug>
    <bug>
          <bug_id>382228</bug_id>
          
          <creation_ts>2012-06-11 07:29:00 -0400</creation_ts>
          <short_desc>EOL Parse Error</short_desc>
          <delta_ts>2013-04-27 05:44:57 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows XP</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Jason Hampson">Jason.Hampson.jvaec2@Rolls-royce.com</reporter>
          <assigned_to name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</assigned_to>
          
          
          <votes>0</votes>

      
          <token>1377789459-81d8749efd0f7c27df710693557ed077</token>

      

      

          <long_desc isprivate="0">
            <commentid>2122362</commentid>
            <who name="Jason Hampson">Jason.Hampson.jvaec2@Rolls-royce.com</who>
            <bug_when>2012-06-11 07:29:07 -0400</bug_when>
            <thetext>Build Identifier: Build id: 20100218-1602

1. The parser confuses assignment and equality operators, so the following will produce different outputs:
      var a = true;
      a = false and a;
      a.println();
      
      var b = true;
      b = (b and false);
      b.println();

2. The parser does not detect the syntax error in the following snippet (There should be a condition after the second &apos;=&apos;). This code runs, but it looks like the second&apos;OR&apos; statement is ignored:

operation equality(name : String) : Boolean{
	return name.toLowerCase()=&quot;abc&quot; or
	       name.toLowerCase()=;
}

Reproducible: Always

Steps to Reproduce:
1. Copy code samples into an EOL file
2. Run
3.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2240660</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-07 15:05:27 -0400</bug_when>
            <thetext>The 2nd issue has been fixed in the SVN - r2194</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2240693</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-07 18:52:59 -0400</bug_when>
            <thetext>Fixed in the SVN - r2195</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249333</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-27 05:44:57 -0400</bug_when>
            <thetext>Fixed in the latest interim version (1.0.0.201304211529).</thetext>
          </long_desc>
    </bug>
    <bug>
          <bug_id>406506</bug_id>
          
          <creation_ts>2013-04-25 02:53:00 -0400</creation_ts>
          <short_desc>Setting label.placement=&quot;none&quot; to skip having to use label is causing an error.</short_desc>
          <delta_ts>2013-08-02 04:24:03 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows 7</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>0</everconfirmed>
          <reporter name="Mårten Carlzon">marten.czon@gmail.com</reporter>
          <assigned_to name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</assigned_to>
          
          
          <votes>0</votes>

      
          <token>1377789457-15fbc4d4ecf58fd26d0b52ee573c726d</token>

      

      

          <long_desc isprivate="0">
            <commentid>2248216</commentid>
              <attachid>230102</attachid>
            <who name="Mårten Carlzon">marten.czon@gmail.com</who>
            <bug_when>2013-04-25 02:53:43 -0400</bug_when>
            <thetext>Created attachment 230102
My emf file

Since I couldn&apos;t use a reference&apos;s name to a label I tried to remove the label all together by removing all label properties and setting &apos;label.placement=&quot;none&quot;&apos;.
This however caused an error saying: &quot;Method &apos;split&apos; not found&quot;.

I am attaching my .emf file (I am guessing that is the metamodel file I was asked to add :)). The settings related to this is on the class ObjectAttributeType but I seem to get when I try to use the setting on the other classes as well.

The version I am using is: interim-very-new-code</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2283809</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-07-12 05:46:04 -0400</bug_when>
            <thetext>I can&apos;t seem to be able to reproduce this using the latest interim version of Epsilon on Kepler (perhaps we&apos;ve fixed this somewhere along the way). Closing as resolved but please feel free to reopen if needed.</thetext>
          </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>230102</attachid>
            <date>2013-04-25 02:53:00 -0400</date>
            <delta_ts>2013-04-25 02:53:43 -0400</delta_ts>
            <desc>My emf file</desc>
            <filename>IiDsl.emf</filename>
            <type>application/octet-stream</type>
            <size>2670</size>
            <attacher>marten.czon@gmail.com</attacher>
            
              <token>1377789457-156cdce6a5627c89fe810db6cfca4201</token>

          </attachment>
      

    </bug>
    <bug>
          <bug_id>412901</bug_id>
          
          <creation_ts>2013-07-13 13:08:00 -0400</creation_ts>
          <short_desc>Storing cross reference whose source or target label contains single quote in Concordance</short_desc>
          <delta_ts>2013-08-02 04:23:37 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows 7</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>minor</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Bo AR">borice.arcier@gmail.com</reporter>
          <assigned_to name="Louis Rose">louis@cs.york.ac.uk</assigned_to>
          <cc>dkolovos@cs.york.ac.uk</cc>
    
    <cc>louis@cs.york.ac.uk</cc>
          
          <votes>0</votes>

      
          <token>1377789457-2c4c90a4e1e246b80f3c9365426c5afe</token>

      

      

          <long_desc isprivate="0">
            <commentid>2284154</commentid>
            <who name="Bo AR">borice.arcier@gmail.com</who>
            <bug_when>2013-07-13 13:08:31 -0400</bug_when>
            <thetext>Concordance try to compute cross reference source and target labels using the eobject &quot;name&quot; feature. Those labels contains single quotes then an org.h2.jdbc.JdbcSQLException is thrown when Concordance try to store this cross reference.

Stack trace:
org.eclipse.epsilon.concordance.db.common.H2DatabaseAccessException: Could not insert values into &apos;CROSSREFERENCES&apos; in H2 database at: ...\.metadata\.plugins\org.eclipse.epsilon.concordance.core\h2db
	at org.eclipse.epsilon.concordance.db.common.H2Table.insertRow(H2Table.java:60)
	at org.eclipse.epsilon.concordance.db.ConcordanceH2Database.addModel(ConcordanceH2Database.java:101)
	at org.eclipse.epsilon.concordance.db.ConcordanceH2DatabaseUpdater.modelAdded(ConcordanceH2DatabaseUpdater.java:34)
	at org.eclipse.epsilon.concordance.db.ConcordanceH2DatabaseUpdater.modelChanged(ConcordanceH2DatabaseUpdater.java:52)
	at org.eclipse.epsilon.concordance.reporter.model.ModelChangeReporter.notifyListeners(ModelChangeReporter.java:61)
	at org.eclipse.epsilon.concordance.reporter.model.ModelChangeReporter.notifyListeners(ModelChangeReporter.java:48)
	at org.eclipse.epsilon.concordance.reporter.model.ModelChangeReporter.reportChange(ModelChangeReporter.java:40)
	at org.eclipse.epsilon.concordance.dt.ConcordanceBuilder$2.visit(ConcordanceBuilder.java:103)
	at org.eclipse.core.internal.events.ResourceDelta.accept(ResourceDelta.java:69)
	at org.eclipse.core.internal.events.ResourceDelta.accept(ResourceDelta.java:80)
	at org.eclipse.core.internal.events.ResourceDelta.accept(ResourceDelta.java:49)
	at org.eclipse.epsilon.concordance.dt.ConcordanceBuilder.incrementalBuild(ConcordanceBuilder.java:92)
	at org.eclipse.epsilon.concordance.dt.ConcordanceBuilder.build(ConcordanceBuilder.java:54)
	at org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:726)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42)
	at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:199)
	at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:239)
	at org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:292)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42)
	at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:295)
	at org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:351)
	at org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:374)
	at org.eclipse.core.internal.events.AutoBuildJob.doBuild(AutoBuildJob.java:143)
	at org.eclipse.core.internal.events.AutoBuildJob.run(AutoBuildJob.java:241)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:53)
Caused by: org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement INSERT INTO CROSSREFERENCES(SOURCEMODEL,TARGETMODEL,SOURCEFRAGMENT,TARGETFRAGMENT,SOURCELABEL,TARGETLABEL,LABEL) VALUES(&apos;...&apos;,&apos;...&apos;,&apos;_TgKHN-uREeKYndg_j_yUqw&apos;,&apos;...&apos;,&apos;...&apos;,&apos;SentenceImpl@815544 (id: 20011705) (text: l&apos;air)&apos;,&apos;...&apos;);; 
SQL statement:
INSERT INTO CROSSREFERENCES(SOURCEMODEL,TARGETMODEL,SOURCEFRAGMENT,TARGETFRAGMENT,SOURCELABEL,TARGETLABEL,LABEL) VALUES(&apos;...&apos;,&apos;...&apos;,&apos;_TgKHN-uREeKYndg_j_yUqw&apos;,&apos;...&apos;,&apos;...&apos;,&apos;SentenceImpl@815544 (id: 20011705) (text: l&apos;air)&apos;,&apos;...&apos;); [42000-117]
	at org.h2.message.Message.getSQLException(Message.java:105)
	at org.h2.message.Message.getSQLException(Message.java:116)
	at org.h2.message.Message.getSQLException(Message.java:75)
	at org.h2.message.Message.getSyntaxError(Message.java:128)
	at org.h2.command.Parser.getSyntaxError(Parser.java:469)
	at org.h2.command.Parser.checkRunOver(Parser.java:2993)
	at org.h2.command.Parser.initialize(Parser.java:2917)
	at org.h2.command.Parser.parse(Parser.java:277)
	at org.h2.command.Parser.parse(Parser.java:266)
	at org.h2.command.Parser.prepareCommand(Parser.java:234)
	at org.h2.engine.Session.prepareLocal(Session.java:415)
	at org.h2.engine.Session.prepareCommand(Session.java:376)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1049)
	at org.h2.jdbc.JdbcPreparedStatement.&lt;init&gt;(JdbcPreparedStatement.java:74)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:233)
	at org.eclipse.epsilon.concordance.db.common.H2DatabaseQuerier.execute(H2DatabaseQuerier.java:48)
	at org.eclipse.epsilon.concordance.db.common.H2Table.insertRow(H2Table.java:57)
	... 24 more

Version : org.eclipse.epsilon.concordance.core 1.0.0.201306041959</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2286788</commentid>
            <who name="Louis Rose">louis@cs.york.ac.uk</who>
            <bug_when>2013-07-22 08:14:07 -0400</bug_when>
            <thetext>Thanks for reporting -- I&apos;ll take a look at fixing this in the next few days.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2287365</commentid>
            <who name="Louis Rose">louis@cs.york.ac.uk</who>
            <bug_when>2013-07-23 10:36:02 -0400</bug_when>
            <thetext>I&apos;ve now fixed this issue, which was caused by not correctly escaping values before handing them off to the H2 DBMS. I&apos;ve changed H2DatabaseQuerier to better utilise prepared statements, and I&apos;ve changed H2Table to escape all values that can be passed in from the user&apos;s workbench.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2290897</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-08-02 04:23:37 -0400</bug_when>
            <thetext>Fixed in the latest interim version. Fix will appear in 1.1.</thetext>
          </long_desc>
      
      

    </bug>
    <bug>
          <bug_id>387493</bug_id>
          
          <creation_ts>2012-08-17 11:51:00 -0400</creation_ts>
          <short_desc>Shorthand for Collect</short_desc>
          <delta_ts>2013-08-02 04:23:10 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows 7</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>enhancement</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>0</everconfirmed>
          <reporter name="Horacio Hoyos">arcanefoam@gmail.com</reporter>
          <assigned_to name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</assigned_to>
          <cc>arcanefoam@gmail.com</cc>
          
          <votes>0</votes>

      
          <token>1377789457-0ddd8fa59d535a07152824dae34fb42b</token>

      

      

          <long_desc isprivate="0">
            <commentid>2149570</commentid>
            <who name="Horacio Hoyos">arcanefoam@gmail.com</who>
            <bug_when>2012-08-17 11:51:49 -0400</bug_when>
            <thetext>I think eol should leverage OCL &quot;short hand&quot; for collect operations on collections, i.e. (taken from the OCL specification):

self.employee-&gt;collect(birthdate)
we can also write:
self.employee.birthdate</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2288548</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-07-25 17:49:07 -0400</bug_when>
            <thetext>Fixed in the SVN.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2290895</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-08-02 04:23:10 -0400</bug_when>
            <thetext>Fixed in the latest interim version. Fix will appear in 1.1.</thetext>
          </long_desc>
      
      

    </bug>
    <bug>
          <bug_id>335094</bug_id>
          
          <creation_ts>2011-01-22 16:35:00 -0500</creation_ts>
          <short_desc>Sentences between operations should be explicitly disallowed</short_desc>
          <delta_ts>2013-08-02 04:22:48 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>enhancement</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Antonio Garcia-Dominguez">nyoescape@gmail.com</reporter>
          <assigned_to name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</assigned_to>
          
          
          <votes>0</votes>

      
          <token>1377789457-829f80f041bce516735c8e9f60c1f3ab</token>

      

      

          <long_desc isprivate="0">
            <commentid>1871210</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2011-01-22 16:35:29 -0500</bug_when>
            <thetext>Build Identifier: 20100917-0705

A new user (or someone going back to Epsilon after a while) might write the following code, expecting it to print &quot;A&quot; and then &quot;B&quot;:

&quot;A&quot;.println();
operation f() {}
&quot;B&quot;.println();

However, the Epsilon book says in Section 3.1: &quot;Each
module defines a body and a number of operations. The body is a block of
statements that are evaluated when the module is executed.&quot;. From this, it can be (vaguely) understood that all statements outside the operations should be before any operation.

The reason for &quot;B&quot;.println() not being run seems to be StatementBlockExecutor#execute. Particularly, its check &quot;while (statementAst != null)&quot;: for the above code, statementAst is null when reaching the operator, and the loop completes without having reached &quot;B&quot;.println().

I understand that this is the desired behaviour, as interleaving code between the operations would not work as expected anyway. Instead of running  &quot;A&quot;.println(), parsing the operation and then running &quot;B&quot;.println(), what Epsilon does is 1) parse all operations, and then 2) run the global statement block.

Still, in order to avoid surprising new users, I would suggest that:
- statements interleaved between operations are explicitly marked as errors in
  the EOL editor.
- make this more explicit in Section 3.1 of the Epsilon book.

Regards. Antonio


Reproducible: Always

Steps to Reproduce:
1. Run the example EOL program.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>1871351</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2011-01-23 16:13:38 -0500</bug_when>
            <thetext>Many thanks for reporting this!</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2288549</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-07-25 17:50:53 -0400</bug_when>
            <thetext>Fixed in the SVN. Now the editor produces a warning if any statements appear after the first operation in an EOL/EGL file.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2290894</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-08-02 04:22:48 -0400</bug_when>
            <thetext>Fixed in the latest interim version. Fix will appear in 1.1.</thetext>
          </long_desc>
      
      

    </bug>
    <bug>
          <bug_id>414106</bug_id>
          
          <creation_ts>2013-07-31 05:33:00 -0400</creation_ts>
          <short_desc>Values in EPL pattern domains should be filtered using isOfKind instead of isOfType</short_desc>
          <delta_ts>2013-08-02 04:21:46 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Mac OS X</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</reporter>
          <assigned_to name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</assigned_to>
          
          
          <votes>0</votes>

      
          <token>1377789457-310270baad83b57bb85a53a91bed9e8e</token>

      

      

          <long_desc isprivate="0">
            <commentid>2290079</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-07-31 05:33:27 -0400</bug_when>
            <thetext>Currently, the following pattern doesn&apos;t work as expected as c.eAttributes is filtered for elements that are of type EStructuralFeature - which returns an empty list as EStructuralFeature is abstract.

pattern EClassWithEAttribute 
	c : EClass,
	a : EStructuralFeature 
		from: c.eAttributes  {
	
	onmatch {
		(c + &quot;-&gt;&quot; + a).println();
	}
	
}</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2290080</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-07-31 05:34:45 -0400</bug_when>
            <thetext>Fixed in the SVN (r2355).</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2290892</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-08-02 04:21:46 -0400</bug_when>
            <thetext>Fixed in the latest interim version. Fix will appear in 1.1.</thetext>
          </long_desc>
      
      

    </bug>
    <bug>
          <bug_id>332869</bug_id>
          
          <creation_ts>2010-12-17 12:49:00 -0500</creation_ts>
          <short_desc>[EOL] &apos;and&apos; and &apos;or&apos; operators have the same precedence</short_desc>
          <delta_ts>2013-07-26 04:03:21 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Antonio Garcia-Dominguez">nyoescape@gmail.com</reporter>
          <assigned_to name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</assigned_to>
          
          
          <votes>0</votes>

      
          <token>1377789457-6bbdb5ab1282b96f999e40989a0335a6</token>

      

      

          <long_desc isprivate="0">
            <commentid>1858538</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2010-12-17 12:49:52 -0500</bug_when>
            <thetext>Build Identifier: 20100917-0705

Normally, a Java or C programmer would expect this expression to yield &quot;true&quot;:

true or false and false

However, in Epsilon it is being evaluated to &quot;false&quot;. Apparently, it is being interpreted as

(true or false) and false

instead of

true or (false and false)

The problem appears to be in the grammar itself (EolParserRules.g). &apos;and&apos;, &apos;or&apos;, &apos;xor&apos; and &apos;implies&apos; are all lumped together:

expressionStatement
  :  logicalExpression &apos;;&apos;!
  ;

logicalExpression
  :  relationalExpression ((&apos;or&apos;|&apos;and&apos;|&apos;xor&apos;|&apos;implies&apos;)^ relationalExpression
       {if (root_0.getToken() != null) root_0.getToken().setType(OPERATOR);})*
  ;

In order to make EOL consistent with most programming languages, I would suggest that logical operators are divided into three levels of precedence: and, or+xor, and implies. Perhaps something like this would work. Please note that it is untested. I have been unable to run the &quot;Build EOL Parser&quot; launchers in the o.e.epsilon.eol.engine, as I&apos;m using GNU/Linux and I can&apos;t find the o.e.epsilon.antlr.dev project anywhere in the source code :-/.

expressionStatement
  :  logicalExpressionAnd &apos;;&apos;!
  ;

logicalExpressionAnd
  :  logicalExpressionOr (&apos;and&apos;^ logicalExpressionOr
       {if (root_0.getToken() != null) root_0.getToken().setType(OPERATOR);})*
  ;

logicalExpressionOr
  :  logicalExpressionImplies ((&apos;or&apos;|&apos;xor&apos;)^ logicalExpressionImplies
       {if (root_0.getToken() != null) root_0.getToken().setType(OPERATOR);})*
  ;

logicalExpressionImplies
  :  relationalExpression (&apos;implies&apos;^ relationalExpression
       {if (root_0.getToken() != null) root_0.getToken().setType(OPERATOR);})*
  ;


Reproducible: Always

Steps to Reproduce:
1. Run the EOL script in the patch.
2. Check the output in the console.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>1858539</commentid>
              <attachid>185448</attachid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2010-12-17 12:51:02 -0500</bug_when>
            <thetext>Created attachment 185448
Patch with an acceptance test case that illustrates the issue</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>1858540</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2010-12-17 12:51:45 -0500</bug_when>
            <thetext>I would also suggest that the precedence of the operators is documented in the Epsilon book.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>1858541</commentid>
              <attachid>185449</attachid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2010-12-17 12:53:08 -0500</bug_when>
            <thetext>Created attachment 185449
Fixed version of 185448 without ANSI escape sequences</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>1858547</commentid>
              <attachid>185450</attachid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2010-12-17 13:17:07 -0500</bug_when>
            <thetext>Created attachment 185450
Simple EOL script showing the precedence of &apos;or&apos;, &apos;and&apos; and &apos;=&apos;</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>1858550</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2010-12-17 13:22:21 -0500</bug_when>
            <thetext>The operator &apos;=&apos; (which deprecated &apos;:=&apos; as assignment operator a few releases ago, IIRC) also seems to have a wrong precedence. Normally, the assignment operator is always last, but according to the grammar, it has the same precedence as the relational operators. The &apos;:=&apos; and &apos;::=&apos; operators work fine, though.

I have attached a simple EOL script which illustrates these problems.

By the way, I think I got the order of the logicalExpression rules wrong: it&apos;s the other way around. Like this:

expressionStatement
  :  logicalExpressionImplies &apos;;&apos;!
  ;

logicalExpressionImplies
  :  logicalExpressionOr (&apos;implies&apos;^ logicalExpressionOr
       {if (root_0.getToken() != null) root_0.getToken().setType(OPERATOR);})*
  ;

logicalExpressionOr
  :  logicalExpressionAnd ((&apos;or&apos;|&apos;xor&apos;)^ logicalExpressionAnd
       {if (root_0.getToken() != null) root_0.getToken().setType(OPERATOR);})*
  ;

logicalExpressionAnd
  :  relationalExpression (&apos;and&apos;^ relationalExpression
       {if (root_0.getToken() != null) root_0.getToken().setType(OPERATOR);})*
  ;</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>1944256</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2011-06-04 05:06:38 -0400</bug_when>
            <thetext>Have any of these changes made it into the latest version of the EOL grammar in the SVN?</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>1944261</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2011-06-04 06:57:53 -0400</bug_when>
            <thetext>No, I have neither tested nor integrated these changes yet.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2240763</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-08 03:51:32 -0400</bug_when>
            <thetext>(In reply to comment #5)
&gt; The operator &apos;=&apos; (which deprecated &apos;:=&apos; as assignment operator a few
&gt; releases ago, IIRC) also seems to have a wrong precedence. Normally, the
&gt; assignment operator is always last, but according to the grammar, it has the
&gt; same precedence as the relational operators. The &apos;:=&apos; and &apos;::=&apos; operators
&gt; work fine, though.

The = issue has been fixed in r2195. Changing the precedence of operators at this stage could (rather inconspicuously) break existing code so I&apos;d be inclined to keep it as-is. Closing as fixed but please feel free to reopen if needed.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249331</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-27 05:44:00 -0400</bug_when>
            <thetext>Fixed in the latest interim version (1.0.0.201304211529).</thetext>
          </long_desc>
      
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>185448</attachid>
            <date>2010-12-17 12:51:00 -0500</date>
            <delta_ts>2010-12-17 12:53:08 -0500</delta_ts>
            <desc>Patch with an acceptance test case that illustrates the issue</desc>
            <filename>operator-precedence-test.patch</filename>
            <type>text/plain</type>
            <size>3751</size>
            <attacher>nyoescape@gmail.com</attacher>
            
              <token>1377789457-e3934636171fd051ae2bbbd7d89c666e</token>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>185449</attachid>
            <date>2010-12-17 12:53:00 -0500</date>
            <delta_ts>2013-07-26 04:03:21 -0400</delta_ts>
            <desc>Fixed version of 185448 without ANSI escape sequences</desc>
            <filename>operator-precedence-test.patch</filename>
            <type>text/plain</type>
            <size>3229</size>
            <attacher>nyoescape@gmail.com</attacher>
            
              <token>1377789457-5b051d0bef3669a0679145db8818fe61</token>
<flag name="iplog"
          id="58923"
          type_id="7"
          status="-"
          setter="dkolovos@cs.york.ac.uk"
    />
          </attachment>
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>185450</attachid>
            <date>2010-12-17 13:17:00 -0500</date>
            <delta_ts>2010-12-17 13:17:07 -0500</delta_ts>
            <desc>Simple EOL script showing the precedence of &apos;or&apos;, &apos;and&apos; and &apos;=&apos;</desc>
            <filename>tests-precedence.eol</filename>
            <type>application/octet-stream</type>
            <size>215</size>
            <attacher>nyoescape@gmail.com</attacher>
            
              <token>1377789457-035031441d18ce6a4e7f458400110c6c</token>

          </attachment>
      

    </bug>
    <bug>
          <bug_id>393417</bug_id>
          
          <creation_ts>2012-11-02 09:32:00 -0400</creation_ts>
          <short_desc>[Flock] EquivalenceFactory operates on fully qualified model (type) names, so mismatching EPackages (petrinets1 vs. petrinets2) won&apos;t give equivalences</short_desc>
          <delta_ts>2013-07-26 04:02:28 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Mac OS X</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          <see_also>https://bugs.eclipse.org/bugs/show_bug.cgi?id=404496</see_also>
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>0</everconfirmed>
          <reporter name="Stefan Sobernig">stefan.sobernig@wu.ac.at</reporter>
          <assigned_to name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</assigned_to>
          <cc>louis@cs.york.ac.uk</cc>
    
    <cc>nyoescape@gmail.com</cc>
          
          <votes>0</votes>

      
          <token>1377789457-950fcdb3f77d639d8ece49dd2fc5b621</token>

      

      

          <long_desc isprivate="0">
            <commentid>2178899</commentid>
              <attachid>223110</attachid>
            <who name="Stefan Sobernig">stefan.sobernig@wu.ac.at</who>
            <bug_when>2012-11-02 09:32:12 -0400</bug_when>
            <thetext>Created attachment 223110
Smoke patch to establish equivalences based on unqualified type names

Eclipse: Juno 20120620-165 
Epsilon/Flock: r2046

Out of curiosity, I tried to run org.eclipse.epsilon.examples.flock.petrinets (r1007). Much to my surprise, I ended up with an EOL exception upon firing Petrinets.mig:

Exception encountered while executing EOL block.
Called feature net on undefined object (.../org.eclipse.epsilon.examples.flock.petrinets/Petrinets.mig@6:27)

It turned out that the built-in &quot;migrated&quot; variable was not initialized. When stepping through the relevant code paths, I found that no equivalent model types (typeConformsToEvolvedMetamodel()) were reported for the Evolved metamodel. This turned out to be the case because typeConformsToEvolvedMetamodel() compared fully qualified model type names of the Original metamodel (&quot;petrinets1::Net&quot;) to fully qualified model type names of the Evolved metamodel (&quot;petrinets2::Net&quot;). 

For the time being, I patched my working copy to strip off the EPackage name (see patch). Though I am not an Epsilon intimus, I would not think that this is the authoritative way to fix this (probably, the ModelType/Model wrappers should keep the unqualified names as well?). 

Besides, I am not sure how the Flock notion of model migration is intended to cover/deal with EPackage heterogeneities (e.g., renamings). I skimmed your working paper, but it does not go into any details here. 

Finally: Am I supposed to check for uninitialized (i.e., declared but null valued) built-in variables in my mig scripts?</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2237438</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2013-03-27 16:38:46 -0400</bug_when>
            <thetext>I&apos;m not sure if it would be safe to strip the package part when computing type equivalences. However, we could allow users to manually specify this kind of changes, using something like:

repackage petrinets1 to petrinets2

This would implicitly retype every petrinets1::X type to petrinets2::X, providing petrinets2::X exists.

Dimitris, Louis: what do you think?</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2237480</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-03-27 18:15:17 -0400</bug_when>
            <thetext>I can&apos;t foresee any problems with this but I know just enough about the Flock internals to be dangerous.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2237482</commentid>
            <who name="Louis Rose">louis@cs.york.ac.uk</who>
            <bug_when>2013-03-27 18:21:14 -0400</bug_when>
            <thetext>I have vague recollections of trying to do this previously, and it went horribly wrong. Unfortunately, I can&apos;t remember how or why!

I will look into this, but not for a fortnight. My &quot;must-do-before-leaving-for-wedding&quot; list is already full, I&apos;m afraid :-(</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2237670</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2013-03-28 07:49:46 -0400</bug_when>
            <thetext>(In reply to comment #3)
&gt; I have vague recollections of trying to do this previously, and it went
&gt; horribly wrong. Unfortunately, I can&apos;t remember how or why!
&gt; 
&gt; I will look into this, but not for a fortnight. My
&gt; &quot;must-do-before-leaving-for-wedding&quot; list is already full, I&apos;m afraid :-(

There&apos;s plenty of time, don&apos;t worry :-). As long as we fix bug 404496, users will be able to do this manually by writing a bunch of &quot;retype&quot; statements anyway.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2254627</commentid>
            <who name="Louis Rose">louis@cs.york.ac.uk</who>
            <bug_when>2013-05-09 07:34:40 -0400</bug_when>
            <thetext>I&apos;ve added package-level retypings and deletions. The following would work for the scenario that Stefan describes:

retype package petrinets1 to petrinets2

There&apos;s also support for deletions at the package level:

delete package petrinets1

Both new constructs can have a guard. More details in the Epsilon book.

For now, only top-level packages are supported. For example, the following doesn&apos;t yet work:

retype package uml1::states to uml2::activities

If somebody eventually needs package-level retyping / deletion for nested packages, please do open a new feature request and assign it to me.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2266563</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-06-01 03:40:51 -0400</bug_when>
            <thetext>Fixed in the latest interim version.</thetext>
          </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>223110</attachid>
            <date>2012-11-02 09:32:00 -0400</date>
            <delta_ts>2013-07-26 04:02:28 -0400</delta_ts>
            <desc>Smoke patch to establish equivalences based on unqualified type names</desc>
            <filename>DefaultEquivalenceFactory.java.patch</filename>
            <type>text/plain</type>
            <size>1529</size>
            <attacher>stefan.sobernig@wu.ac.at</attacher>
            
              <token>1377789457-0dfc561383886d2a90cfda950522630a</token>
<flag name="iplog"
          id="58922"
          type_id="7"
          status="-"
          setter="dkolovos@cs.york.ac.uk"
    />
          </attachment>
      

    </bug>
    <bug>
          <bug_id>380769</bug_id>
          
          <creation_ts>2012-05-27 10:06:00 -0400</creation_ts>
          <short_desc>Prevent validating ecore constraints multiple times</short_desc>
          <delta_ts>2013-07-26 04:01:12 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>0</everconfirmed>
          <reporter name="Maarten Bezemer">maarten.bezemer@gmail.com</reporter>
          <assigned_to name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</assigned_to>
          
          
          <votes>0</votes>

      
          <token>1377789457-524c70f4c1c45c57be01e1540f86277b</token>

      

      

          <long_desc isprivate="0">
            <commentid>2114782</commentid>
            <who name="Maarten Bezemer">maarten.bezemer@gmail.com</who>
            <bug_when>2012-05-27 10:06:30 -0400</bug_when>
            <thetext>Build Identifier: 

My ecore models are &apos;extending&apos; my base ecore model. I have added some code to run the EVL validation for each package, so I am able to define constraints for the base ecore model and for the extending ecore model. (it would be nice if this happened automatically, but I do not think that would be possible, as it seems impossible to find super ecore models)

The only problem with this approach is that, for extending ecore models, the validators of EOBjectValidator are called multiple times. After this first time, the context contains ROOT_OBJECT and EObjectValidator#validate_NoCircularContainment() thinks a circular containment problem is found.

An easy solution would be to remove the ROOT_OBJECT key from context, but then the validators are executed multiple times.

So a nicer solution is to skip EObjectValidator if context contains ROOT_OBJECT. (see provided patch)

Reproducible: Always</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2114783</commentid>
              <attachid>216333</attachid>
            <who name="Maarten Bezemer">maarten.bezemer@gmail.com</who>
            <bug_when>2012-05-27 10:07:02 -0400</bug_when>
            <thetext>Created attachment 216333
Patch to solve this bug</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2188841</commentid>
            <who name="Maarten Bezemer">maarten.bezemer@gmail.com</who>
            <bug_when>2012-11-29 03:12:27 -0500</bug_when>
            <thetext>Note: This bug is also solved (in a better way IMHO) when the patch of bug #394872 is included in the code base.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2266579</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-06-01 05:03:23 -0400</bug_when>
            <thetext>This has been fixed in the SVN using the solution proposed in bug #394872.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2283387</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-07-11 10:54:52 -0400</bug_when>
            <thetext>Fixed in the latest interim version</thetext>
          </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>216333</attachid>
            <date>2012-05-27 10:07:00 -0400</date>
            <delta_ts>2013-07-26 04:01:12 -0400</delta_ts>
            <desc>Patch to solve this bug</desc>
            <filename>Prevent-redundant-ecore-validation.patch</filename>
            <type>text/plain</type>
            <size>1150</size>
            <attacher>maarten.bezemer@gmail.com</attacher>
            
              <token>1377789457-4ac549ba9f89964442cdf63c64d92988</token>
<flag name="iplog"
          id="58921"
          type_id="7"
          status="-"
          setter="dkolovos@cs.york.ac.uk"
    />
          </attachment>
      

    </bug>
    <bug>
          <bug_id>403275</bug_id>
          
          <creation_ts>2013-03-13 18:38:00 -0400</creation_ts>
          <short_desc>Why No Examples Projects?</short_desc>
          <delta_ts>2013-07-25 17:58:02 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows Vista</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>enhancement</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Ed Willink">ed@willink.me.uk</reporter>
          <assigned_to name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</assigned_to>
          
          
          <votes>0</votes>

      
          <token>1377789457-f4bd7b2d95decac529f18ce9dd0f6842</token>

      

      

          <long_desc isprivate="0">
            <commentid>2230946</commentid>
            <who name="Ed Willink">ed@willink.me.uk</who>
            <bug_when>2013-03-13 18:38:55 -0400</bug_when>
            <thetext>EMF provides a very simple mechanism for contributing canned examples projects.

These are readily available to users without SVN nightmares.

Please make examples available.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2230958</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-03-13 19:06:52 -0400</bug_when>
            <thetext>Sounds like a good idea! A quick Google search didn&apos;t reveal any articles/wiki pages discussing this so any pointers would be appreciated.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2231026</commentid>
            <who name="Ed Willink">ed@willink.me.uk</who>
            <bug_when>2013-03-14 02:25:50 -0400</bug_when>
            <thetext>Just find references to the org.eclipse.emf.common.ui.examples extension point.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2288552</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-07-25 17:58:02 -0400</bug_when>
            <thetext>Fixed in the latest interim version.</thetext>
          </long_desc>
      
      

    </bug>
    <bug>
          <bug_id>394872</bug_id>
          
          <creation_ts>2012-11-22 06:07:00 -0500</creation_ts>
          <short_desc>Provide choice to include the EMF/eCore validator</short_desc>
          <delta_ts>2013-07-25 17:35:57 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>enhancement</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Maarten Bezemer">maarten.bezemer@gmail.com</reporter>
          <assigned_to name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</assigned_to>
          <cc>maarten.bezemer@gmail.com</cc>
          
          <votes>0</votes>

      
          <token>1377789457-c848e34b77d871234bb4140ed4bc2ab9</token>

      

      

          <long_desc isprivate="0">
            <commentid>2186562</commentid>
              <attachid>223850</attachid>
            <who name="Maarten Bezemer">maarten.bezemer@gmail.com</who>
            <bug_when>2012-11-22 06:07:12 -0500</bug_when>
            <thetext>Created attachment 223850
Patch to support this feature request

Hi,

In my project I have &apos;inheriting&apos; meta-models. Also lots of meta-model elements are using inheritance. Therefore, I have multiple validators in multiple plug-ins available.

This all works fine, but... 
(there is always a but, I suppose)

By default the EValidatorPopulator adds EObjectValidator to the mix when a ecore package did not yet have any validators present yet.
Due to the multiple ecore models I have, EObjectValidator is invoked too much, resulting in &apos;an object may not circularly contain itself&apos; errors. This error is (accidentally) generated when EObjectValidator is invoked twice in the same context; EObjectValidator adds EObjectValidator.ROO_OBJECT to the context to check for circular containments.


A long story short: the attached patch adds an element to the extension point that can be used to manually add EObjectValidator to the validation chain.
EValidatorPopulator uses the value of this element to determine whether to add EObjectValidator or not.
By default EObjectValidator is added, so this patch does not change the current behaviour.

Currently, I am using this patch in my application and it seem to be working nicely.

Thanks,
  Maarten

PS Epsilon 1.0 works great! Thanks for your work!</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2188414</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2012-11-28 07:56:02 -0500</bug_when>
            <thetext>Thanks for reporting this. I&apos;ll try to integrate the patch later on today.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2188842</commentid>
            <who name="Maarten Bezemer">maarten.bezemer@gmail.com</who>
            <bug_when>2012-11-29 03:14:26 -0500</bug_when>
            <thetext>I saw that the provided patch would solve the problem of bug #380769 as well. At least when the proposed extension point is incorporated and the user uses it to prevent checking the ecore constraints multiple times.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2266578</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-06-01 05:02:32 -0400</bug_when>
            <thetext>This has been fixed in the SVN (r2263)</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2283385</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-07-11 10:54:26 -0400</bug_when>
            <thetext>Fixed in the latest interim version</thetext>
          </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>223850</attachid>
            <date>2012-11-22 06:07:00 -0500</date>
            <delta_ts>2013-07-25 17:35:57 -0400</delta_ts>
            <desc>Patch to support this feature request</desc>
            <filename>choose_emfecore_validator_inclusion.patch</filename>
            <type>application/octet-stream</type>
            <size>3107</size>
            <attacher>maarten.bezemer@gmail.com</attacher>
            
              <token>1377789457-453b004cbb3f61a58ce70ed7faa9f3c1</token>
<flag name="iplog"
          id="58920"
          type_id="7"
          status="+"
          setter="dkolovos@cs.york.ac.uk"
    />
          </attachment>
      

    </bug>
    <bug>
          <bug_id>393988</bug_id>
          
          <creation_ts>2012-11-09 10:32:00 -0500</creation_ts>
          <short_desc>EGL template contents not processed after operation definition</short_desc>
          <delta_ts>2013-07-12 05:25:45 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows 7</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Joost van Pinxten">joostvanpinxten@gmail.com</reporter>
          <assigned_to name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</assigned_to>
          <cc>louis@cs.york.ac.uk</cc>
          
          <votes>0</votes>

      
          <token>1377789457-dd7db349e23b42d79eccd3b2a1eb07aa</token>

      

      

          <long_desc isprivate="0">
            <commentid>2181911</commentid>
              <attachid>223404</attachid>
            <who name="Joost van Pinxten">joostvanpinxten@gmail.com</who>
            <bug_when>2012-11-09 10:32:50 -0500</bug_when>
            <thetext>Created attachment 223404
Small test template which behaves strangely

Whenever an operation is defined in a template, any static output after the first definition is not processed (i.e. does not show up in output file).

I call attached test.egl from an entry point egl file. Test.egl is loaded via de TemplateFactory and is then processed by [%=t.process()%].

Expected output would be:

static output before block of statements
 0 1 2 3 4 5 6 7 8 9 10
static output before operation definition
static output after operation definition
 0 1 2 3 4 5 6 7 8 9 10

But the last two lines are never written. When I remove the (dummy) operation definition, the output is as expected.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2181920</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2012-11-09 10:43:16 -0500</bug_when>
            <thetext>This is the expected behaviour: in EGL templates, operations need to be defined below all static/dynamic content. Clearly, producing error markers when this is not the case instead of silently ignoring any subsequent content would help :)</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2182139</commentid>
            <who name="Joost van Pinxten">joostvanpinxten@gmail.com</who>
            <bug_when>2012-11-10 04:58:18 -0500</bug_when>
            <thetext>Ok, I do understand that it would not be best practice to define operations before the output of content. However, I had problems with a operation that was not registered, but was defined later in the same template. I will revisit that particular piece of code today.

I just reread the relevant part of the Epsilon book (i.e. the EGL chapter), but I did not come across the description of this behavior. Could you point me to the corresponding section?

Making this behavior non-silent will not be easy, as even trailing whitespace can lead to this message, which might also be confusing? 

A warning saying something similar to &quot;Static content which occurs after an operation definition will be ignored&quot; would have made it clear to me, indeed.

P.S. I file these bug reports as I believe they are problems that need to be addressed to mature the project; if you believe it would be better to post these on the forum first, then I will do so.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2182140</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2012-11-10 05:19:43 -0500</bug_when>
            <thetext>I&apos;m afraid this is not discussed in the book. I&apos;ll discuss this with Louis Rose (CC&apos;ed) who is the principal developer of EGL and we&apos;ll try to come up with a solution for this.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2283295</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-07-11 09:20:15 -0400</bug_when>
            <thetext>This has been fixed in the SVN [r2314] i.e. the EGL editor now produces a warning in such cases. Could you please confirm that it&apos;s working for you when you get a chance?</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2283302</commentid>
            <who name="Joost van Pinxten">joostvanpinxten@gmail.com</who>
            <bug_when>2013-07-11 09:28:18 -0400</bug_when>
            <thetext>Is this in the current interim version? I don&apos;t have a SVN version and do not intend to set this up any time soon ;-) If this is in the interim, I will also check the issue with the EGL editor crashing.

On another note, is this behaviour now included in the Epsilon Book? Haven&apos;t found a reference to it (checked just now in the latest version at http://www.eclipse.org/epsilon/doc/book/).</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2283376</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-07-11 10:50:27 -0400</bug_when>
            <thetext>It is now :)</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2283653</commentid>
            <who name="Joost van Pinxten">joostvanpinxten@gmail.com</who>
            <bug_when>2013-07-11 17:26:31 -0400</bug_when>
            <thetext>(In reply to comment #6)
&gt; It is now :)

I guess that you mean it is available on the Kepler Interim update site? (That&apos;s the only one with a build date of today (i.e. 07-11 15:37)).

I have verified that it will now show the &quot;Loose statements after first operation&quot;

And perhaps I&apos;ve just read past the bit in the book, but could you please indicate which section it currently is in?

I wasn&apos;t seeing the error at first, but the following errors showed up in the Error log view part:
org.eclipse.jface.text.BadLocationException
	at org.eclipse.jface.text.TreeLineTracker.fail(TreeLineTracker.java:1055)
	at org.eclipse.jface.text.TreeLineTracker.offsetByLine(TreeLineTracker.java:334)
	at org.eclipse.jface.text.TreeLineTracker.getLineOffset(TreeLineTracker.java:1122)
	at org.eclipse.jface.text.AbstractLineTracker.getLineOffset(AbstractLineTracker.java:169)
	at org.eclipse.jface.text.AbstractDocument.getLineOffset(AbstractDocument.java:922)
	at org.eclipse.epsilon.common.dt.editor.AbstractModuleEditor.parseModule(AbstractModuleEditor.java:410)
	at org.eclipse.epsilon.common.dt.editor.AbstractModuleEditor$1.run(AbstractModuleEditor.java:333)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:53)

I will add the corresponding .egl file in an attachment.

Cheers!</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2283654</commentid>
              <attachid>233387</attachid>
            <who name="Joost van Pinxten">joostvanpinxten@gmail.com</who>
            <bug_when>2013-07-11 17:27:26 -0400</bug_when>
            <thetext>Created attachment 233387
Another test-case that throws an exception and shows no warning</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2283656</commentid>
              <attachid>233388</attachid>
            <who name="Joost van Pinxten">joostvanpinxten@gmail.com</who>
            <bug_when>2013-07-11 17:33:20 -0400</bug_when>
            <thetext>Created attachment 233388
Annotations also trigger the warning (I believe incorrectly!)

Either the annotations are not taken into account properly (as in, are not correctly applied), or the warning about loose statements should not complain about these annotations.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2283765</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-07-12 04:21:58 -0400</bug_when>
            <thetext>Thanks - annotations completely slipped my mind. I&apos;ve fixed this in the SVN and the Kepler interim update site and added a sentence to the EGL chapter of the book (the keyword is &quot;loose&quot;).</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2283783</commentid>
            <who name="Joost van Pinxten">joostvanpinxten@gmail.com</who>
            <bug_when>2013-07-12 05:03:00 -0400</bug_when>
            <thetext>(In reply to comment #10)
&gt; Thanks - annotations completely slipped my mind. I&apos;ve fixed this in the SVN
&gt; and the Kepler interim update site and added a sentence to the EGL chapter
&gt; of the book (the keyword is &quot;loose&quot;).

Thanks, at least now it is documented behaviour! One question though, why is this EGL specific (in the book)? The warning is also shown in plain .eol files (or .etl files for that matter), as the same construction applies here; after an operation definition, anything that is not contained in a rule/operation/wizard etc. will be ignored.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2283789</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-07-12 05:12:48 -0400</bug_when>
            <thetext>It&apos;s probably worth adding a note about this in the EOL chapter as well. In the rest of the languages (e.g. ETL, EWL), loose statements are not permitted anyway by the respective grammars.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2283796</commentid>
            <who name="Joost van Pinxten">joostvanpinxten@gmail.com</who>
            <bug_when>2013-07-12 05:20:50 -0400</bug_when>
            <thetext>Cheers, have not worked with any of the other languages. I did not know that neither of them allows for loose statements.

I have verified that this is all fixed in the latest interim version, marking the bug as CLOSED, FIXED.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2283803</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-07-12 05:25:45 -0400</bug_when>
            <thetext>Thanks. Changing the status back to resolved in accordance with the (largely ad-hoc) conventions prescribed in [1]. Will close when we release 1.1

[1] http://eclipse.org/epsilon/doc/articles/resolved-bugs/</thetext>
          </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>223404</attachid>
            <date>2012-11-09 10:32:00 -0500</date>
            <delta_ts>2012-11-09 10:32:50 -0500</delta_ts>
            <desc>Small test template which behaves strangely</desc>
            <filename>test.egl</filename>
            <type>application/octet-stream</type>
            <size>333</size>
            <attacher>joostvanpinxten@gmail.com</attacher>
            
              <token>1377789458-2401402b7592148ce0ab54dea5da0e7c</token>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>233387</attachid>
            <date>2013-07-11 17:27:00 -0400</date>
            <delta_ts>2013-07-11 17:27:26 -0400</delta_ts>
            <desc>Another test-case that throws an exception and shows no warning</desc>
            <filename>test.egl</filename>
            <type>application/octet-stream</type>
            <size>348</size>
            <attacher>joostvanpinxten@gmail.com</attacher>
            
              <token>1377789458-fd6401a7381107ccaaa8ba86744999d0</token>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>233388</attachid>
            <date>2013-07-11 17:33:00 -0400</date>
            <delta_ts>2013-07-11 17:33:20 -0400</delta_ts>
            <desc>Annotations also trigger the warning (I believe incorrectly!)</desc>
            <filename>annotationtest.egl</filename>
            <type>application/octet-stream</type>
            <size>97</size>
            <attacher>joostvanpinxten@gmail.com</attacher>
            
              <token>1377789458-65e93efab04a4aa11fd6d42ace7c8fa1</token>

          </attachment>
      

    </bug>
    <bug>
          <bug_id>394474</bug_id>
          
          <creation_ts>2012-11-16 10:45:00 -0500</creation_ts>
          <short_desc>EGL Editor freezes</short_desc>
          <delta_ts>2013-07-11 17:41:44 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows 7</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Joost van Pinxten">joostvanpinxten@gmail.com</reporter>
          <assigned_to name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</assigned_to>
          <cc>sk996@york.ac.uk</cc>
          
          <votes>0</votes>

      
          <token>1377789458-f4fd26e1e852f50ed75462cec726adbc</token>

      

      

          <long_desc isprivate="0">
            <commentid>2184529</commentid>
            <who name="Joost van Pinxten">joostvanpinxten@gmail.com</who>
            <bug_when>2012-11-16 10:45:33 -0500</bug_when>
            <thetext>It occured a few times that my Eclipse instance stopped responding, while editing an EGL file with the EGL editor. I&apos;ve kept it running for 30+ minutes but it just did not respond anymore. The memory in use by Eclipse is steady and it uses no CPU anymore. 

I have worked in the Java, and Xtext and Ecore editors a lot and the problem did not occur even once. I am unsure about EOL and will post here when I do get the problem. I think it might be related to trying to get a content proposal for external functions (located in EOL files), but I am not certain.

I know that it is not much to go by and therefore would like to know how I can provide more specific information about the crash.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2185021</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2012-11-19 05:48:56 -0500</bug_when>
            <thetext>Thanks for reporting this. I&apos;ve never ran across this and I&apos;m afraid there&apos;s indeed little we can do if we don&apos;t have a consistent way of reproducing this. I&apos;m inclined to close this as WORKSFORME for now and revisit this when we can find a way to reproduce it consistently.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2185035</commentid>
            <who name="Joost van Pinxten">joostvanpinxten@gmail.com</who>
            <bug_when>2012-11-19 06:31:51 -0500</bug_when>
            <thetext>It&apos;s strange, as I have this effect on both my desktop and my laptop (both running Juno 4.2.1 on W7 64bit). 

I will keep an eye out for the cause of this bug; if I cannot find a way to reproduce this within a week, this bug can be closed as WORKSFORME.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2189842</commentid>
            <who name="Joost van Pinxten">joostvanpinxten@gmail.com</who>
            <bug_when>2012-12-03 04:06:01 -0500</bug_when>
            <thetext>Odd, did not see this behavior anymore, and don&apos;t know of anything that I changed. I&apos;ll just mark it as WORKSFORME.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2236532</commentid>
            <who name="Joost van Pinxten">joostvanpinxten@gmail.com</who>
            <bug_when>2013-03-26 04:56:19 -0400</bug_when>
            <thetext>I&apos;ve picked up the Epsilon transformation again today, and while trying to write the command brackets (i.e. [% %]) the editor froze again.

This is on a completely fresh installation of Windows 7 x64 (installed last week) and Eclipse 4.2.2 (installed yesterday) with the latest stable Epsilon tools (installed yesterday). Also, this install uses the latest JDK 7u17 and 6u43 (both x64 and installed yesterday).

As there are no other reports(?) on this problem, I&apos;m drifting towards thinking that it must be a hardware issue; however, I have experienced this problem on two different systems (my desktop and my laptop).</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2238589</commentid>
              <attachid>229239</attachid>
            <who name="Joost van Pinxten">joostvanpinxten@gmail.com</who>
            <bug_when>2013-04-02 08:50:06 -0400</bug_when>
            <thetext>Created attachment 229239
.metadata/.log of the moment that the editor froze

After the editor froze again, I checked the .metadata/.log and found that there are many entries related to:

org.eclipse.swt.SWTError: No more handles

It makes sense that if I have a second Eclipse open, that there are less handles available than when I don&apos;t, so that the bug occurs more often.

Quite annoying, the EGL editor is almost unusable for me at the moment.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2238602</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-02 09:03:40 -0400</bug_when>
            <thetext>A possible cause for this may be the fact that we&apos;re using too many icons in the outline view but are not disposing of them so that SWT can get back its handles. We&apos;ve recently committed some changes to the EGL outline view so that it now only displays operations and markers [*-Marker*] so it should use far fewer icons than before. Could you perhaps try the latest version from the SVN and let me know if it solves the issue you&apos;re encountering (I could put together an interim version if it makes things easier)? In any event, this needs further investigation on our side.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2238617</commentid>
            <who name="Joost van Pinxten">joostvanpinxten@gmail.com</who>
            <bug_when>2013-04-02 09:24:26 -0400</bug_when>
            <thetext>Sounds like that might very well fix it. In the mean time, I&apos;ve closed the outline view and have not had a freeze yet.

Too bad that there is no CI update site for things like this, but I can take the time to use the Interim update site. Unfortunately, I don&apos;t have time to try building it from SVN myself (don&apos;t know if I would run into problems there, as I&apos;ve not yet built Epsilon myself).</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2239025</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-03 05:17:12 -0400</bug_when>
            <thetext>I believe Antonio is looking at CI so things may get better in this respect soon. I&apos;ll try to fix this properly within the next few days and release a new interim version.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2240509</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-06 07:21:42 -0400</bug_when>
            <thetext>Fixed in the SVN in r2186.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249327</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-27 05:39:54 -0400</bug_when>
            <thetext>Fixed in the latest interim version (1.0.0.201304211529).</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2280972</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-07-05 04:47:21 -0400</bug_when>
            <thetext>*** Bug 412314 has been marked as a duplicate of this bug. ***</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2283658</commentid>
            <who name="Joost van Pinxten">joostvanpinxten@gmail.com</who>
            <bug_when>2013-07-11 17:41:44 -0400</bug_when>
            <thetext>I have not had any problem with this with the latest interim version (on a Kepler x64 installation). But I did not extensively test this. If it pops back up, then I will definitely post it here (or in another bug, if it does not seem related to the SWT widgets).</thetext>
          </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>229239</attachid>
            <date>2013-04-02 08:50:00 -0400</date>
            <delta_ts>2013-04-02 08:50:06 -0400</delta_ts>
            <desc>.metadata/.log of the moment that the editor froze</desc>
            <filename>.log</filename>
            <type>application/octet-stream</type>
            <size>659167</size>
            <attacher>joostvanpinxten@gmail.com</attacher>
            
              <token>1377789458-11dafc89a367300c2a95e46fe883e1a3</token>

          </attachment>
      

    </bug>
    <bug>
          <bug_id>410002</bug_id>
          
          <creation_ts>2013-06-05 15:39:00 -0400</creation_ts>
          <short_desc>Bad documentation links</short_desc>
          <delta_ts>2013-07-11 10:53:37 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows Vista</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Ed Willink">ed@willink.me.uk</reporter>
          <assigned_to name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</assigned_to>
          
          
          <votes>0</votes>

      
          <token>1377789458-c9d7f88811850859a82d8d5285a9344d</token>

      

      

          <long_desc isprivate="0">
            <commentid>2268854</commentid>
            <who name="Ed Willink">ed@willink.me.uk</who>
            <bug_when>2013-06-05 15:39:31 -0400</bug_when>
            <thetext>The pages provided by Help Contents have links such as:

http://www.eclipse.org/gmt/epsilon/doc/examples.php</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2269579</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-06-06 19:26:27 -0400</bug_when>
            <thetext>Thanks for reporting this. I&apos;ve fixed the broken links in the SVN (r2266).</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2283383</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-07-11 10:53:37 -0400</bug_when>
            <thetext>Fixed in the latest interim version</thetext>
          </long_desc>
      
      

    </bug>
    <bug>
          <bug_id>410403</bug_id>
          
          <creation_ts>2013-06-10 23:27:00 -0400</creation_ts>
          <short_desc>Issues with Cache, IdentityBasedWeakReference and EolCollectionType#isKindOf</short_desc>
          <delta_ts>2013-07-11 10:51:34 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Antonio Garcia-Dominguez">nyoescape@gmail.com</reporter>
          <assigned_to name="Antonio Garcia-Dominguez">nyoescape@gmail.com</assigned_to>
          <cc>dkolovos@cs.york.ac.uk</cc>
          
          <votes>0</votes>

      
          <token>1377789458-924f3c5f32eb5d165364c27c5d5f601c</token>

      

      

          <long_desc isprivate="0">
            <commentid>2270873</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2013-06-10 23:27:44 -0400</bug_when>
            <thetext>I seem to have hit a snag in the way EOL checks return types in high load situations. I am currently using an old laptop and it is a bit lacking on memory, so the JVMs have been trying to reuse as much memory as possible.

In particular, I have an intensive comparative performance study in which I create and discard a large number of collections. After some time, the script aborts saying that some function should have returned a Sequence (the collection type), but returned an EolSequence (the class name). Funnily enough, according to the cache in EolCollectionType that EolSequence has the type OrderedSet.

I have been wondering how could the collection type change during execution, and I think it is because of the collectionTypeCache in EolCollectionType. The problem is that we&apos;re basing the IdentityBasedWeakReference on System.identityHashCode(...), which is traditionally implemented by using the memory address of the object.

This works most of the time, but in high load situtations we might end up creating an object at the same address we created a previous one and look it up in the collection type cache before the GC can remove the entry with the weak reference to the previous object that had the same address (whew!). So, apparently, at some point an OrderedSet was created at the exact address this EolSequence was created, and Epsilon still thinks it is an ordered set. See this (old) mailing list thread for problems related to System.identityHashCode:

http://tech.groups.yahoo.com/group/java-linux/message/14512

I think the only way to really fix this is to avoid using a cache. I think we could switch around the order of the checks on EolCollectionType#getTypeOf(...) to make it reasonably fast:

1. Do an instanceof check on some supertype of all EOL collections which defines an abstract method that reports the EOL collection type.

2. Do the instanceof checks for standard Java collection interfaces.

3. Try the collection type resolvers if that doesn&apos;t work.

&quot;instanceof&quot; is pretty cheap by now (0.863ns on a reasonably modern computer). Here is my little test program:

https://gist.github.com/bluezio/4642290

% java -cp . TestInstanceOf
Total time in ns: 0.862693119
Number of As (half of instanceof calls): 500000000</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2270874</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2013-06-10 23:28:36 -0400</bug_when>
            <thetext>Apparently, the cache was implemented in SVN r2185, according to bug 404536:

https://bugs.eclipse.org/bugs/show_bug.cgi?id=404536</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2270875</commentid>
              <attachid>232205</attachid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2013-06-10 23:29:43 -0400</bug_when>
            <thetext>Created attachment 232205
Patch removing caching for collection types and reorganizing checks to make them less expensive

Here is the proposed patch, after some discussion with Dimitris over email.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2270877</commentid>
              <attachid>232206</attachid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2013-06-10 23:31:26 -0400</bug_when>
            <thetext>Created attachment 232206
Revised patch mentioning this bug report</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2273807</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2013-06-18 06:15:25 -0400</bug_when>
            <thetext>Commited on SVN r2274.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2283378</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-07-11 10:51:34 -0400</bug_when>
            <thetext>Fixed in the latest interim version</thetext>
          </long_desc>
      
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>232205</attachid>
            <date>2013-06-10 23:29:00 -0400</date>
            <delta_ts>2013-06-10 23:31:26 -0400</delta_ts>
            <desc>Patch removing caching for collection types and reorganizing checks to make them less expensive</desc>
            <filename>EolCollectionType-do-not-use-cache.patch</filename>
            <type>text/plain</type>
            <size>3727</size>
            <attacher>nyoescape@gmail.com</attacher>
            
              <token>1377789458-faf4e955d7306469a4d0476923339365</token>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>232206</attachid>
            <date>2013-06-10 23:31:00 -0400</date>
            <delta_ts>2013-06-10 23:31:26 -0400</delta_ts>
            <desc>Revised patch mentioning this bug report</desc>
            <filename>EolCollectionType-do-not-use-cache.patch</filename>
            <type>text/plain</type>
            <size>3730</size>
            <attacher>nyoescape@gmail.com</attacher>
            
              <token>1377789458-0f69c6ddea1bc79663e0edc225dd58b9</token>

          </attachment>
      

    </bug>
    <bug>
          <bug_id>410741</bug_id>
          
          <creation_ts>2013-06-13 11:42:00 -0400</creation_ts>
          <short_desc>Epsilon Compare breaks EMF Compare on Kepler</short_desc>
          <delta_ts>2013-07-11 10:51:09 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows Vista</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>critical</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Ed Willink">ed@willink.me.uk</reporter>
          <assigned_to name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</assigned_to>
          
          
          <votes>0</votes>

      
          <token>1377789458-a07c5a3c82ff74c99eb45477b8ccd8a8</token>

      

      

          <long_desc isprivate="0">
            <commentid>2272476</commentid>
            <who name="Ed Willink">ed@willink.me.uk</who>
            <bug_when>2013-06-13 11:42:12 -0400</bug_when>
            <thetext>Epsilon Compare uses EMF Compare 1.x which cannot be mixed with EMF Compare 2.x, so installing it on Kepler breaks EMF Compare. See Bug 410738.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2281442</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-07-07 19:50:29 -0400</bug_when>
            <thetext>This has been now fixed in the SVN and in the latest interim release [1]. A stable version (1.1) will follow shortly.

[1] http://eclipse.org/epsilon/download/</thetext>
          </long_desc>
      
      

    </bug>
    <bug>
          <bug_id>320608</bug_id>
          
          <creation_ts>2010-07-22 06:21:00 -0400</creation_ts>
          <short_desc>ETL parameterised equivalent(rule) causes array store exception</short_desc>
          <delta_ts>2013-06-01 03:58:42 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>Macintosh</rep_platform>
          <op_sys>Mac OS X - Carbon (unsup.)</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Colin Snook">cfs@ecs.soton.ac.uk</reporter>
          <assigned_to name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</assigned_to>
          
          
          <votes>0</votes>

      
          <token>1377789458-313462d9b5f6a9b7f703f16f2ef7fa2d</token>

      

      

          <long_desc isprivate="0">
            <commentid>1786739</commentid>
            <who name="Colin Snook">cfs@ecs.soton.ac.uk</who>
            <bug_when>2010-07-22 06:21:50 -0400</bug_when>
            <thetext>re: http://www.eclipse.org/forums/index.php?t=tree&amp;th=172367&amp;start=0&amp;
 
Using 2 guarded rules for  2 alternative cases and populating  relevant containments by parameterised equivalent(&quot;rule&quot;) operations. It works fine if I only have one or other case but as soon as I have both cases I get an ArrayStoreException. (I also tried using the target type as the parameter instead of the rule name but this gives exactly the same problem).

context.sets = tbuml_model.classes.equivalent(&quot;class2set&quot;); //CORE!CarrierSet);
context.constants = tbuml_model.classes.equivalent(&quot;class2constant&quot;); //CORE!Constant);


rule class2set
transform class : TBUML!Class
to set : CORE!CarrierSet {

guard : not class.generalization.isDefined() 

set.name = class.name;
}


rule class2constant
transform class : TBUML!Class
to constant : CORE!Constant {

guard : class.generalization.isDefined()

constant.name = class.name;
}


Here is the exception:

Internal error: java.lang.ArrayStoreException
at org.eclipse.emf.common.util.BasicEList.assign[BasicEList.jav a:124]
at org.eclipse.emf.common.util.BasicEList.addUnique[BasicEList. java:424]
at org.eclipse.emf.common.notify.impl.NotifyingListImpl.doAddUn ique[NotifyingListImpl.java:331]
at org.eclipse.emf.common.notify.impl.NotifyingListImpl.addUniq ue[NotifyingListImpl.java:288]
at org.eclipse.emf.common.util.AbstractEList.add[AbstractEList. java:307]
at org.eclipse.epsilon.emc.emf.EmfPropertySetter.copyCollection Values[EmfPropertySetter.java:80]
at org.eclipse.epsilon.emc.emf.EmfPropertySetter.invoke[EmfProp ertySetter.java:63]
at org.eclipse.epsilon.eol.execute.AssignExecutor.execute[Assig nExecutor.java:55]
at org.eclipse.epsilon.eol.execute.ExecutorFactory.executeAST[E xecutorFactory.java:178]
at org.eclipse.epsilon.eol.execute.StatementBlockExecutor.execu te[StatementBlockExecutor.java:33]
at org.eclipse.epsilon.eol.execute.ExecutorFactory.executeAST[E xecutorFactory.java:178]
at org.eclipse.epsilon.eol.EolOperation.executeBody[EolOperatio n.java:262]
at org.eclipse.epsilon.eol.EolOperation.execute[EolOperation.ja va:235]
at org.eclipse.epsilon.eol.EolOperation.execute[EolOperation.ja va:193]
at org.eclipse.epsilon.eol.EolOperations.execute[EolOperations. java:144]
at org.eclipse.epsilon.eol.execute.PointExecutor.executeOperati on[PointExecutor.java:161]
at org.eclipse.epsilon.eol.execute.PointExecutor.execute[PointE xecutor.java:67]
at org.eclipse.epsilon.eol.execute.PointExecutor.execute[PointE xecutor.java:37]
at org.eclipse.epsilon.eol.execute.PointExecutor.execute[PointE xecutor.java:123]
at org.eclipse.epsilon.eol.execute.ExecutorFactory.executeAST[E xecutorFactory.java:178]
at org.eclipse.epsilon.eol.execute.ParametersExecutor.execute[P arametersExecutor.java:29]
at org.eclipse.epsilon.eol.execute.ExecutorFactory.executeAST[E xecutorFactory.java:178]
at org.eclipse.epsilon.eol.execute.PointExecutor.executeOperati on[PointExecutor.java:155]
at org.eclipse.epsilon.eol.execute.PointExecutor.execute[PointE xecutor.java:67]
at org.eclipse.epsilon.eol.execute.PointExecutor.execute[PointE xecutor.java:37]
at org.eclipse.epsilon.eol.execute.PointExecutor.execute[PointE xecutor.java:123]
at org.eclipse.epsilon.eol.execute.ExecutorFactory.executeAST[E xecutorFactory.java:178]
at org.eclipse.epsilon.eol.execute.StatementBlockExecutor.execu te[StatementBlockExecutor.java:33]
at org.eclipse.epsilon.eol.execute.ExecutorFactory.executeAST[E xecutorFactory.java:178]
at org.eclipse.epsilon.etl.TransformRule.executeSuperRulesAndBo dy[TransformRule.java:314]
at org.eclipse.epsilon.etl.TransformRule.transform[TransformRul e.java:257]
at org.eclipse.epsilon.etl.strategy.FastTransformationStrategy. executeTransformations[FastTransformationStrategy.java:172]
at org.eclipse.epsilon.etl.strategy.FastTransformationStrategy. transformModels[FastTransformationStrategy.java:164]
at org.eclipse.epsilon.etl.EtlModule.execute[EtlModule.java:187 ]
at ac.soton.eventb.importer.translations.AbstractETLTranslation .execute[AbstractETLTranslation.java:99]
at ac.soton.eventb.importer.translations.AbstractETLTranslation .execute[AbstractETLTranslation.java:85]
at ac.soton.eventb.importer.actions.UML2EventBAction.run[UML2Ev entBAction.java:49]
at org.eclipse.ui.internal.PluginAction.runWithEvent[PluginActi on.java:251]
at org.eclipse.jface.action.ActionContributionItem.handleWidget Selection[ActionContributionItem.java:584]
at org.eclipse.jface.action.ActionContributionItem.access$2[Act ionContributionItem.java:501]
at org.eclipse.jface.action.ActionContributionItem$5.handleEven t[ActionContributionItem.java:411]
at org.eclipse.swt.widgets.EventTable.sendEvent[EventTable.java :84]
at org.eclipse.swt.widgets.Widget.sendEvent[Widget.java:1598]
at org.eclipse.swt.widgets.Widget.sendEvent[Widget.java:1622]
at org.eclipse.swt.widgets.Widget.sendEvent[Widget.java:1607]
at org.eclipse.swt.widgets.Widget.notifyListeners[Widget.java:1 396]
at org.eclipse.swt.widgets.Display.runDeferredEvents[Display.ja va:3484]
at org.eclipse.swt.widgets.Display.readAndDispatch[Display.java :3068]
at org.eclipse.ui.internal.Workbench.runEventLoop[Workbench.jav a:2405]
at org.eclipse.ui.internal.Workbench.runUI[Workbench.java:2369]
at org.eclipse.ui.internal.Workbench.access$4[Workbench.java:22 21]
at org.eclipse.ui.internal.Workbench$5.run[Workbench.java:500]
at org.eclipse.core.databinding.observable.Realm.runWithDefault [Realm.java:332]
at org.eclipse.ui.internal.Workbench.createAndRunWorkbench[Work bench.java:493]
at org.eclipse.ui.PlatformUI.createAndRunWorkbench[PlatformUI.j ava:149]
at org.eclipse.ui.internal.ide.application.IDEApplication.start [IDEApplication.java:113]
at org.eclipse.equinox.internal.app.EclipseAppHandle.run[Eclips eAppHandle.java:194]
at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher .runApplication[EclipseAppLauncher.java:110]
at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher .start[EclipseAppLauncher.java:79]
at org.eclipse.core.runtime.adaptor.EclipseStarter.run[EclipseS tarter.java:368]
at org.eclipse.core.runtime.adaptor.EclipseStarter.run[EclipseS tarter.java:179]
at sun.reflect.NativeMethodAccessorImpl.invoke0[Native Method]
at sun.reflect.NativeMethodAccessorImpl.invoke[NativeMethodAcce ssorImpl.java:39]
at sun.reflect.DelegatingMethodAccessorImpl.invoke[DelegatingMe thodAccessorImpl.java:25]
at java.lang.reflect.Method.invoke[Method.java:592]
at org.eclipse.equinox.launcher.Main.invokeFramework[Main.java: 559]
at org.eclipse.equinox.launcher.Main.basicRun[Main.java:514]
at org.eclipse.equinox.launcher.Main.run[Main.java:1311]
at org.eclipse.equinox.launcher.Main.main[Main.java:1287]
(/Volumes/Code/Galileo/CodeWorkspaces/INESS/ac.soton.eventb. importer/transformations/tbUML2EventB.etl@53:17)
at org.eclipse.emf.common.util.BasicEList.assign(BasicEList.jav a:124)
at org.eclipse.emf.common.util.BasicEList.addUnique(BasicEList. java:424)
at org.eclipse.emf.common.notify.impl.NotifyingListImpl.doAddUn ique(NotifyingListImpl.java:331)
at org.eclipse.emf.common.notify.impl.NotifyingListImpl.addUniq ue(NotifyingListImpl.java:288)
at org.eclipse.emf.common.util.AbstractEList.add(AbstractEList. java:307)
at org.eclipse.epsilon.emc.emf.EmfPropertySetter.copyCollection Values(EmfPropertySetter.java:80)
at org.eclipse.epsilon.emc.emf.EmfPropertySetter.invoke(EmfProp ertySetter.java:63)
at org.eclipse.epsilon.eol.execute.AssignExecutor.execute(Assig nExecutor.java:55)
at org.eclipse.epsilon.eol.execute.ExecutorFactory.executeAST(E xecutorFactory.java:178)
at org.eclipse.epsilon.eol.execute.StatementBlockExecutor.execu te(StatementBlockExecutor.java:33)
at org.eclipse.epsilon.eol.execute.ExecutorFactory.executeAST(E xecutorFactory.java:178)
at org.eclipse.epsilon.eol.EolOperation.executeBody(EolOperatio n.java:262)
at org.eclipse.epsilon.eol.EolOperation.execute(EolOperation.ja va:235)
at org.eclipse.epsilon.eol.EolOperation.execute(EolOperation.ja va:193)
at org.eclipse.epsilon.eol.EolOperations.execute(EolOperations. java:144)
at org.eclipse.epsilon.eol.execute.PointExecutor.executeOperati on(PointExecutor.java:161)
at org.eclipse.epsilon.eol.execute.PointExecutor.execute(PointE xecutor.java:67)
at org.eclipse.epsilon.eol.execute.PointExecutor.execute(PointE xecutor.java:37)
at org.eclipse.epsilon.eol.execute.PointExecutor.execute(PointE xecutor.java:123)
at org.eclipse.epsilon.eol.execute.ExecutorFactory.executeAST(E xecutorFactory.java:178)
at org.eclipse.epsilon.eol.execute.ParametersExecutor.execute(P arametersExecutor.java:29)
at org.eclipse.epsilon.eol.execute.ExecutorFactory.executeAST(E xecutorFactory.java:178)
at org.eclipse.epsilon.eol.execute.PointExecutor.executeOperati on(PointExecutor.java:155)
at org.eclipse.epsilon.eol.execute.PointExecutor.execute(PointE xecutor.java:67)
at org.eclipse.epsilon.eol.execute.PointExecutor.execute(PointE xecutor.java:37)
at org.eclipse.epsilon.eol.execute.PointExecutor.execute(PointE xecutor.java:123)
at org.eclipse.epsilon.eol.execute.ExecutorFactory.executeAST(E xecutorFactory.java:178)
at org.eclipse.epsilon.eol.execute.StatementBlockExecutor.execu te(StatementBlockExecutor.java:33)
at org.eclipse.epsilon.eol.execute.ExecutorFactory.executeAST(E xecutorFactory.java:178)
at org.eclipse.epsilon.etl.TransformRule.executeSuperRulesAndBo dy(TransformRule.java:314)
at org.eclipse.epsilon.etl.TransformRule.transform(TransformRul e.java:257)
at org.eclipse.epsilon.etl.strategy.FastTransformationStrategy. executeTransformations(FastTransformationStrategy.java:172)
at org.eclipse.epsilon.etl.strategy.FastTransformationStrategy. transformModels(FastTransformationStrategy.java:164)
at org.eclipse.epsilon.etl.EtlModule.execute(EtlModule.java:187 )
at ac.soton.eventb.importer.translations.AbstractETLTranslation .execute(AbstractETLTranslation.java:99)
at ac.soton.eventb.importer.translations.AbstractETLTranslation .execute(AbstractETLTranslation.java:85)
at ac.soton.eventb.importer.actions.UML2EventBAction.run(UML2Ev entBAction.java:49)
at org.eclipse.ui.internal.PluginAction.runWithEvent(PluginActi on.java:251)
at org.eclipse.jface.action.ActionContributionItem.handleWidget Selection(ActionContributionItem.java:584)
at org.eclipse.jface.action.ActionContributionItem.access$2(Act ionContributionItem.java:501)
at org.eclipse.jface.action.ActionContributionItem$5.handleEven t(ActionContributionItem.java:411)
at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java :84)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1598)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1622)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1607)
at org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:1 396)
at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.ja va:3484)
at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java :3068)
at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.jav a:2405)
at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2369)
at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:22 21)
at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:500)
at org.eclipse.core.databinding.observable.Realm.runWithDefault (Realm.java:332)
at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Work bench.java:493)
at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.j ava:149)
at org.eclipse.ui.internal.ide.application.IDEApplication.start (IDEApplication.java:113)
at org.eclipse.equinox.internal.app.EclipseAppHandle.run(Eclips eAppHandle.java:194)
at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher .runApplication(EclipseAppLauncher.java:110)
at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher .start(EclipseAppLauncher.java:79)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseS tarter.java:368)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseS tarter.java:179)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAcce ssorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMe thodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:592)
at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java: 559)
at org.eclipse.equinox.launcher.Main.basicRun(Main.java:514)
at org.eclipse.equinox.launcher.Main.run(Main.java:1311)
at org.eclipse.equinox.launcher.Main.main(Main.java:1287)</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>1786756</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2010-07-22 06:46:19 -0400</bug_when>
            <thetext>Thanks for reporting this. I&apos;ll have a look at it and provide a fix shortly.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>1787037</commentid>
            <who name="Colin Snook">cfs@ecs.soton.ac.uk</who>
            <bug_when>2010-07-22 12:30:01 -0400</bug_when>
            <thetext>Possibly related:-

I also found a similar exception when adding a set of equivalents to a containment....e.g.

	machine.events.add(tbuml_model.signals.equivalent());

I did this instead which works...
	machine.events = tbuml_model.signals.equivalent(CORE!Event);
	machine.events.add(0,machine.initialisation(tbuml_model));</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2266571</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-06-01 03:58:42 -0400</bug_when>
            <thetext>Fixed in the latest interim version.</thetext>
          </long_desc>
      
      

    </bug>
    <bug>
          <bug_id>288616</bug_id>
          
          <creation_ts>2009-09-04 04:59:00 -0400</creation_ts>
          <short_desc>ModeLink Drag&apos;n&apos;Drop</short_desc>
          <delta_ts>2013-06-01 03:47:30 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>All</rep_platform>
          <op_sys>Unix All</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="James Williams">jamesrobertwilliams@gmail.com</reporter>
          <assigned_to name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</assigned_to>
          
          
          <votes>0</votes>

      
          <token>1377789458-0fe25850a5c9f58f22ee5a47a4e61e92</token>

      

      

          <long_desc isprivate="0">
            <commentid>1590601</commentid>
            <who name="James Williams">jamesrobertwilliams@gmail.com</who>
            <bug_when>2009-09-04 04:59:38 -0400</bug_when>
            <thetext>This bug is only in Linux and Mac.  Windows works fine.

Drag&apos;n&apos;drop in ModeLink is not working.

Steps to recreate:
- Open Eclipse in Linux
- Follow the screencast: http://www.eclipse.org/gmt/epsilon/cinema/ModeLink_part1.htm
- When you get to the stage of dragging and dropping objects between models, it will fail.  Instead of being offered a choice of how to associate the dragged object with the target object, nothing happens.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>1591713</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2009-09-08 11:29:10 -0400</bug_when>
            <thetext>This seems to be tracing down to how DnD in Linux. I&apos;ve put a couple of hours on trying to fix it but with no luck. If you have any time to spare on it, the DnD behaviour of Exeed is located in org.eclipse.epsilon.dt.exeed/src/org/eclipse/epsilon/dt/exeed/ExeedEditingDomainViewerDropAdapter.java</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>1592268</commentid>
            <who name="James Williams">jamesrobertwilliams@gmail.com</who>
            <bug_when>2009-09-09 08:41:06 -0400</bug_when>
            <thetext>Some information:

This is a post about DND not working in Linux:
http://dev.eclipse.org/newslists/news.eclipse.modeling.gmf/msg03116.html

The bug referenced in the post (https://bugs.eclipse.org/bugs/show_bug.cgi?id=39151) has been set to fixed, so this might not be the issue, but it might provide an interesting test.

I&apos;ll carry on seeing if I can find anything else out.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249364</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-27 08:14:49 -0400</bug_when>
            <thetext>Fixed in the SVN - r2222</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2266569</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-06-01 03:47:30 -0400</bug_when>
            <thetext>Fixed in the latest interim version.</thetext>
          </long_desc>
      
      

    </bug>
    <bug>
          <bug_id>313762</bug_id>
          
          <creation_ts>2010-05-20 12:31:00 -0400</creation_ts>
          <short_desc>epsilon.loadModel expand feature error</short_desc>
          <delta_ts>2013-06-01 03:47:13 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows XP</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Chris Holmes">holmeschrisk@gmail.com</reporter>
          <assigned_to name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</assigned_to>
          
          
          <votes>0</votes>

      
          <token>1377789458-46c7034b84fea59a8d65acc1865c4305</token>

      

      

          <long_desc isprivate="0">
            <commentid>1742757</commentid>
            <who name="Chris Holmes">holmeschrisk@gmail.com</who>
            <bug_when>2010-05-20 12:31:11 -0400</bug_when>
            <thetext>The epsilon.loadModel expand attribute allows clients to access models that are ref&apos;d (rather than owned). The syntax for using this feature is:
&lt;epsilon.loadModel name=&quot;${MyModel}&quot; type=&quot;EMF&quot;&gt;
	&lt;parameter name=&quot;expand&quot;          value=&quot;true&quot;/&gt;
	&lt;parameter name=&quot;modelFile&quot;       file=&quot;${MyModelModel}&quot;/&gt;
	&lt;parameter name=&quot;metamodelUri&quot;    value=&quot;${MyMetamodelUri}&quot;/&gt;
	&lt;parameter name=&quot;readOnLoad&quot;      value=&quot;true&quot;/&gt;
	&lt;parameter name=&quot;storeOnDisposal&quot; value=&quot;false&quot;/&gt;
&lt;/epsilon.loadModel&gt;

If two instances of the same model are loaded under different aliases then the expand feature does not operate correctly and it is not possible to navigate from the named model instance to the ref&apos;d model.

Item &apos;Navigation of ref&apos;d associations posted on 07-May-2010 to the epsilon newsgroup refers.

Error demonstrated to Dimitris on 20-May-2010 and this bug report raised at his request.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249832</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-29 09:52:50 -0400</bug_when>
            <thetext>I&apos;ve tried to reproduce this but haven&apos;t managed to (hopefully, it&apos;s been fixed somewhere along the way). Closing as fixed but please feel free to re-open if encountered again.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2266568</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-06-01 03:47:13 -0400</bug_when>
            <thetext>Fixed in the latest interim version.</thetext>
          </long_desc>
      
      

    </bug>
    
    <bug>
          <bug_id>402210</bug_id>
          
          <creation_ts>2013-03-02 09:08:00 -0500</creation_ts>
          <short_desc>[EGL] Error when adding Enumeration Classes to the UML Model</short_desc>
          <delta_ts>2013-06-01 03:46:27 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows 7</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Patricia Fernández">patricia.fernandez.pardo@gmail.com</reporter>
          <assigned_to name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</assigned_to>
          
          
          <votes>0</votes>

      
          <token>1377789458-bd46ac00826a364db135578ce1e79086</token>

      

      

          <long_desc isprivate="0">
            <commentid>2224963</commentid>
              <attachid>227844</attachid>
            <who name="Patricia Fernández">patricia.fernandez.pardo@gmail.com</who>
            <bug_when>2013-03-02 09:08:52 -0500</bug_when>
            <thetext>Created attachment 227844
Minimal of the project.

If I run my main template (ProjectCreation.egl) onces it gives me an error but if I try and run it again, it works perfectly. Minimal attached.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249390</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-27 10:58:28 -0400</bug_when>
            <thetext>I&apos;m afraid I can&apos;t reproduce this. Under the latest interim version of Epsilon I get the following exception every time (which in itself is interesting as the UML editor seems to be opening Pruebas.uml without a problem)

Internal error: org.eclipse.emf.ecore.resource.Resource$IOWrappedException: Value &apos;org.eclipse.uml2.uml.internal.impl.EnumerationImpl@80c8fe2 [name: DaysOfWeek, visibility: &lt;unset&gt;] [isLeaf: false, isAbstract: false, isFinalSpecialization: false]&apos; is not legal. [platform:/resource/Minimal/Model/Pruebas.uml, 28, 114]
	at org.eclipse.emf.ecore.xmi.impl.XMLLoadImpl.handleErrors[XMLLoadImpl.java:77]
	at org.eclipse.emf.ecore.xmi.impl.XMLLoadImpl.load[XMLLoadImpl.java:185]
	at org.eclipse.emf.ecore.xmi.impl.XMLResourceImpl.doLoad[XMLResourceImpl.java:240]
	at org.eclipse.emf.ecore.resource.impl.ResourceImpl.load[ResourceImpl.java:1505]
	at org.eclipse.emf.ecore.resource.impl.ResourceImpl.load[ResourceImpl.java:1284]</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249616</commentid>
            <who name="Patricia Fernández">patricia.fernandez.pardo@gmail.com</who>
            <bug_when>2013-04-29 04:21:21 -0400</bug_when>
            <thetext>I updated Epsilon version as well because some assertions I needed were added so now I tried this minimal again and it&apos;s also giving me that same excepction.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249751</commentid>
              <attachid>230250</attachid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-29 08:17:38 -0400</bug_when>
            <thetext>Created attachment 230250
Updated launch configuration</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249752</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-29 08:18:11 -0400</bug_when>
            <thetext>I&apos;ve investigated a bit and it turns out that UML models are a bit more &quot;special&quot; than plain EMF models (i.e. their resource set needs a bit of massaging - see [1]).

As such, I&apos;ve put together a new UML-specific EMC driver and released a new bleeding-edge version under.

http://download.eclipse.org/epsilon/interim-uml/

Could you please update to this version, replace the EMF model with a UML one in your launch configuration (I&apos;ve attached my modified copy) and let me know if this works for you? 

[1] https://dev.eclipse.org/svnroot/modeling/org.eclipse.epsilon/trunk/plugins/org.eclipse.epsilon.emc.uml/src/org/eclipse/epsilon/emc/uml/UmlModel.java</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249783</commentid>
            <who name="Patricia Fernández">patricia.fernandez.pardo@gmail.com</who>
            <bug_when>2013-04-29 09:02:44 -0400</bug_when>
            <thetext>Hi Dimitris,

Just updated to that version, thanks.

Now if I have an Enumeration Class in my UML model (without any literals declared) it generates the enum class as expected.

But if I add literals to my enumeration class (f.e. DaysOfWeek: Monday, Tuesday...) it throws the following exception:

Internal error: org.eclipse.emf.ecore.resource.Resource$IOWrappedException: Value &apos;org.eclipse.uml2.uml.internal.impl.EnumerationImpl@1044435 [name: DaysOfWeek, visibility: &lt;unset&gt;] [isLeaf: false, isAbstract: false, isFinalSpecialization: false]&apos; is not legal. [platform:/resource/Minimal/Model/Pruebas.uml, 28, 114]
	at org.eclipse.emf.ecore.xmi.impl.XMLLoadImpl.handleErrors[XMLLoadImpl.java:77]
	at org.eclipse.emf.ecore.xmi.impl.XMLLoadImpl.load[XMLLoadImpl.java:185]
	at org.eclipse.emf.ecore.xmi.impl.XMLResourceImpl.doLoad[XMLResourceImpl.java:240]
	at org.eclipse.emf.ecore.resource.impl.ResourceImpl.load[ResourceImpl.java:1505]
	at org.eclipse.emf.ecore.resource.impl.ResourceImpl.load[ResourceImpl.java:1284]
	at org.eclipse.epsilon.emc.emf.EmfModel.loadModelFromUri[EmfModel.java:254]
	at org.eclipse.epsilon.emc.emf.EmfModel.loadModel[EmfModel.java:167]
	at org.eclipse.epsilon.eol.models.CachedModel.load[CachedModel.java:147]
	at org.eclipse.epsilon.emc.emf.EmfModel.load[EmfModel.java:151]
	at org.eclipse.epsilon.eol.dt.launching.EclipseContextManager.loadModels[EclipseContextManager.java:159]
	at org.eclipse.epsilon.eol.dt.launching.EclipseContextManager.setup[EclipseContextManager.java:85]
	at org.eclipse.epsilon.eol.dt.launching.EpsilonLaunchConfigurationDelegate.launch[EpsilonLaunchConfigurationDelegate.java:72]
	at org.eclipse.epsilon.eol.dt.launching.EpsilonLaunchConfigurationDelegate.launch[EpsilonLaunchConfigurationDelegate.java:56]
	at org.eclipse.debug.internal.core.LaunchConfiguration.launch[LaunchConfiguration.java:855]
	at org.eclipse.debug.internal.core.LaunchConfiguration.launch[LaunchConfiguration.java:704]
	at org.eclipse.debug.internal.ui.DebugUIPlugin.buildAndLaunch[DebugUIPlugin.java:1047]
	at org.eclipse.debug.internal.ui.DebugUIPlugin$8.run[DebugUIPlugin.java:1251]
	at org.eclipse.core.internal.jobs.Worker.run[Worker.java:53]
Caused by: org.eclipse.emf.ecore.xmi.IllegalValueException: Value &apos;org.eclipse.uml2.uml.internal.impl.EnumerationImpl@1044435 [name: DaysOfWeek, visibility: &lt;unset&gt;] [isLeaf: false, isAbstract: false, isFinalSpecialization: false]&apos; is not legal. [platform:/resource/Minimal/Model/Pruebas.uml, 28, 114]
	at org.eclipse.emf.ecore.xmi.impl.XMLHandler.setFeatureValue[XMLHandler.java:2658]
	at org.eclipse.emf.ecore.xmi.impl.XMLHandler.handleForwardReferences[XMLHandler.java:1144]
	at org.eclipse.emf.ecore.xmi.impl.XMLHandler.handleForwardReferences[XMLHandler.java:1025]
	at org.eclipse.uml2.uml.internal.resource.UMLHandler.endElement[UMLHandler.java:47]
	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement[AbstractSAXParser.java:601]
	at com.sun.org.apache.xerces.internal.parsers.AbstractXMLDocumentParser.emptyElement[AbstractXMLDocumentParser.java:180]
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement[XMLDocumentFragmentScannerImpl.java:1343]
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next[XMLDocumentFragmentScannerImpl.java:2755]
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next[XMLDocumentScannerImpl.java:648]
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument[XMLDocumentFragmentScannerImpl.java:511]
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse[XML11Configuration.java:808]
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse[XML11Configuration.java:737]
	at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse[XMLParser.java:119]
	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse[AbstractSAXParser.java:1205]
	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse[SAXParserImpl.java:522]
	at javax.xml.parsers.SAXParser.parse[SAXParser.java:395]
	at org.eclipse.emf.ecore.xmi.impl.XMLLoadImpl.load[XMLLoadImpl.java:175]
	... 16 more
Caused by: java.lang.UnsupportedOperationException
	at org.eclipse.emf.common.util.BasicEList$UnmodifiableEList.move[BasicEList.java:1009]
	at org.eclipse.emf.ecore.xmi.impl.XMLHelperImpl.setValue[XMLHelperImpl.java:1189]
	at org.eclipse.emf.ecore.xmi.impl.XMLHandler.setFeatureValue[XMLHandler.java:2653]
	... 32 more
Undefined variable, type or model: &apos;Model&apos; (C:\Users\Patricia\Documents\UNIVERSIDAD\PFC\Eclipse_1\Minimal\Templates\ProjectCreation.egl@5:19)
	Cause: Undefined variable, type or model: &apos;Model&apos; (C:\Users\Patricia\Documents\UNIVERSIDAD\PFC\Eclipse_1\Minimal\Templates\ProjectCreation.egl@5:19)</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249790</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-29 09:09:43 -0400</bug_when>
            <thetext>Are you encountering this behaviour with the example attached (this works fine for me after changing from an EMF to a UML model in the models tab of the launch configuration)? If so, could you perhaps try with a new launch configuration?</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249805</commentid>
            <who name="Patricia Fernández">patricia.fernandez.pardo@gmail.com</who>
            <bug_when>2013-04-29 09:30:31 -0400</bug_when>
            <thetext>Yes, I&apos;m using the example attached.

I tried it with the launch configuration I&apos;m using for other projects and also tried with the one you uploaded, but I keep getting the error I posted.

If I use your configuration the error is just the following lines (which are the same as the last two of the previous message).

Undefined variable, type or model: &apos;Model&apos;  
	Cause: Undefined variable, type or model: &apos;Model&apos;</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249814</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-29 09:40:08 -0400</bug_when>
            <thetext>UmlUtil.init(...) - which the new UML driver uses - appears to have been added in version 4.0 of the UML plugin and I noticed that your sample UML model uses the 3.0 UML nsURI. Could you perhaps try to update your version of UML / try with a copy of the latest Juno modelling release (SR2)?</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249840</commentid>
            <who name="Patricia Fernández">patricia.fernandez.pardo@gmail.com</who>
            <bug_when>2013-04-29 10:01:43 -0400</bug_when>
            <thetext>(In reply to comment #8)
&gt; Could you perhaps try to update your version
&gt; of UML / try with a copy of the latest Juno modelling release (SR2)?

Sorry but I&apos;m a bit lost here... do you mean update the &quot;Epsilon UML Integration&quot;? If so, I already did when I updated it.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249850</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-29 10:16:11 -0400</bug_when>
            <thetext>Sorry about that. I meant the Eclipse UML plugin itself (update site: http://download.eclipse.org/releases/juno/ - Modelling-&gt;UML2 Extender SDK).

(In reply to comment #9)
&gt; (In reply to comment #8)
&gt; &gt; Could you perhaps try to update your version
&gt; &gt; of UML / try with a copy of the latest Juno modelling release (SR2)?
&gt; 
&gt; Sorry but I&apos;m a bit lost here... do you mean update the &quot;Epsilon UML
&gt; Integration&quot;? If so, I already did when I updated it.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249877</commentid>
            <who name="Patricia Fernández">patricia.fernandez.pardo@gmail.com</who>
            <bug_when>2013-04-29 10:47:33 -0400</bug_when>
            <thetext>(In reply to comment #10)
&gt; Sorry about that. I meant the Eclipse UML plugin itself (update site:
&gt; http://download.eclipse.org/releases/juno/ - Modelling-&gt;UML2 Extender SDK).
&gt; 
I can&apos;t find &quot;UML2 Extender SDK&quot; under the modelling section.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249879</commentid>
            <who name="Patricia Fernández">patricia.fernandez.pardo@gmail.com</who>
            <bug_when>2013-04-29 10:49:03 -0400</bug_when>
            <thetext>So I just update/installed the whole Modelling section and tried it again, it keep giving me the same error.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249883</commentid>
            <who name="Patricia Fernández">patricia.fernandez.pardo@gmail.com</who>
            <bug_when>2013-04-29 10:55:04 -0400</bug_when>
            <thetext>Nevermind, it&apos;s working now with your launch configuration (not mine tho). I&apos;ll use yours instead.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249884</commentid>
            <who name="Patricia Fernández">patricia.fernandez.pardo@gmail.com</who>
            <bug_when>2013-04-29 10:55:36 -0400</bug_when>
            <thetext>Thank you so much for your time and help.

Cheers.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2250052</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-29 15:08:29 -0400</bug_when>
            <thetext>No problem. I&apos;m glad that it works well for you - please let us know if you come across any problems with this in the future.

(In reply to comment #14)
&gt; Thank you so much for your time and help.
&gt; 
&gt; Cheers.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2266566</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-06-01 03:46:27 -0400</bug_when>
            <thetext>Fixed in the latest interim version.</thetext>
          </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>227844</attachid>
            <date>2013-03-02 09:08:00 -0500</date>
            <delta_ts>2013-03-02 09:08:52 -0500</delta_ts>
            <desc>Minimal of the project.</desc>
            <filename>Minimal.zip</filename>
            <type>application/octet-stream</type>
            <size>515352</size>
            <attacher>patricia.fernandez.pardo@gmail.com</attacher>
            
              <token>1377789458-2eba289e25abb7fcbf25e06060a98c3d</token>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>230250</attachid>
            <date>2013-04-29 08:17:00 -0400</date>
            <delta_ts>2013-04-29 08:17:38 -0400</delta_ts>
            <desc>Updated launch configuration</desc>
            <filename>Test.launch</filename>
            <type>application/octet-stream</type>
            <size>1352</size>
            <attacher>dkolovos@cs.york.ac.uk</attacher>
            
              <token>1377789458-57d3b373a0eeb3bb01faf09941bd10ea</token>

          </attachment>
      

    </bug>
    <bug>
          <bug_id>404235</bug_id>
          
          <creation_ts>2013-03-24 10:33:00 -0400</creation_ts>
          <short_desc>Regression:Broken JAR-based imports</short_desc>
          <delta_ts>2013-06-01 03:41:47 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows 7</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>major</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</reporter>
          <assigned_to name="Louis Rose">louis@cs.york.ac.uk</assigned_to>
          <cc>louis@cs.york.ac.uk</cc>
    
    <cc>nyoescape@gmail.com</cc>
          
          <votes>0</votes>

      
          <token>1377789458-3e288c80b82c8773af1eb48ce40060e8</token>

      

      

          <long_desc isprivate="0">
            <commentid>2235975</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-03-24 10:33:28 -0400</bug_when>
            <thetext>I&apos;m working on a couple of small standalone EGL-based code generators and I&apos;m encountering an issue with the latest version of AbstractModule (r2129). In particular, loading imports of E*L files that reside in a Jar file doesn&apos;t seem to be working any more (I get a &quot;uri has authority component&quot; exception).</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2236014</commentid>
              <attachid>228975</attachid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-03-24 19:57:47 -0400</bug_when>
            <thetext>Created attachment 228975
Sample project demonstrating the problem</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2236015</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-03-24 20:01:27 -0400</bug_when>
            <thetext>I&apos;ve investigated a bit more and this seems to only be affecting EGL (EOL still works fine). 

To reproduce the problem, you can run bug404235.App using a launch configuration (works fine with both versions of AbstractModule) and then releng/buildandrunjar.xml (works fine with version 1994 of AbstractModule but cannot find the imported operation foo() with the latest version).</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2237326</commentid>
            <who name="Louis Rose">louis@cs.york.ac.uk</who>
            <bug_when>2013-03-27 13:09:04 -0400</bug_when>
            <thetext>Chaps,

I have a patch for this issue which involves making the following change: https://gist.github.com/louismrose/5256073

EglPreprocessorModule extends EolModule and relies on being able to set the sourceUri (and sourceFile attributes) before calling parse. This patch ensures that the sourceUri isn&apos;t cleared if it is already set.

All tests are passing, but do you anticipate any issues with this change? I shall commit the patch to SVN shortly, but feel free to revert and re-open this bug if so...

Cheers,
Louis.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2237328</commentid>
            <who name="Louis Rose">louis@cs.york.ac.uk</who>
            <bug_when>2013-03-27 13:12:26 -0400</bug_when>
            <thetext>Patch above applied in r2165.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2237378</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2013-03-27 14:29:07 -0400</bug_when>
            <thetext>sourceUri should be only reset when passing a null reference instead of a File to parse(String, File). I guess EGL is invoking parse(String), which does exactly this.

The patch looks fine to me :-).</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2237492</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-03-27 18:49:30 -0400</bug_when>
            <thetext>Thanks Louis! The patch works fine for me. I&apos;d expect that the following (commented out code in the attached sample) would also work

EglFileGeneratingTemplateFactory f = new EglFileGeneratingTemplateFactory();
EglFileGeneratingTemplate t = (EglFileGeneratingTemplate) f.load(App.class.getResource(&quot;main.egl&quot;).toURI());
t.generate(&quot;output.txt&quot;);

but I&apos;m getting the following exception instead:

Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: URI has an authority component
	at java.io.File.&lt;init&gt;(File.java:397)
	at org.eclipse.epsilon.egl.EglPersistentTemplate.resolveFile(EglPersistentTemplate.java:43)
	at org.eclipse.epsilon.egl.EglPersistentTemplate.generate(EglPersistentTemplate.java:117)
	at org.eclipse.epsilon.egl.EglPersistentTemplate.generate(EglPersistentTemplate.java:104)
	at bug404235.App.main(App.java:16)

I&apos;ll try to investigate a bit more over the next couple of weeks so I&apos;ve taken the liberty to reopen this bug.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2252360</commentid>
            <who name="Louis Rose">louis@cs.york.ac.uk</who>
            <bug_when>2013-05-04 04:54:39 -0400</bug_when>
            <thetext>Ahh yes, you&apos;re right Dimitris. I&apos;ve always expected clients to use the setOutputRoot on Egl(FileGenerating)TemplateFactory before invoking generate, and so I&apos;d not discovered this strange default behaviour. I&apos;ve now changed EglTemplateFactory to initialise the output root to the directory in which the first loaded template resides, unless the user has already called setOutputRoot. 

In short, the following code will now work:

    EglFileGeneratingTemplateFactory f = new EglFileGeneratingTemplateFactory();
    EglFileGeneratingTemplate t = (EglFileGeneratingTemplate) f.load(App.class.getResource(&quot;main.egl&quot;).toURI());
    t.generate(&quot;output.txt&quot;);
    
Please beware that this will generate output.txt into the bin directory rather than the src directory, which might not be what you intended. The following will instead cause EGL to generate to the src directory:

    EglFileGeneratingTemplateFactory f = new EglFileGeneratingTemplateFactory();
    f.setOutputRoot(FileUtil.getDirectoryOf(App.class).getAbsolutePath().replaceAll(&quot;/bin/&quot;, &quot;/src/&quot;));
		EglFileGeneratingTemplate t = (EglFileGeneratingTemplate) f.load(App.class.getResource(&quot;main.egl&quot;).toURI());
		t.generate(&quot;output.txt&quot;);</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2266565</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-06-01 03:41:47 -0400</bug_when>
            <thetext>Fixed in the latest interim version.</thetext>
          </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>228975</attachid>
            <date>2013-03-24 19:57:00 -0400</date>
            <delta_ts>2013-03-24 19:57:47 -0400</delta_ts>
            <desc>Sample project demonstrating the problem</desc>
            <filename>bug404235.zip</filename>
            <type>application/octet-stream</type>
            <size>5504</size>
            <attacher>dkolovos@cs.york.ac.uk</attacher>
            
              <token>1377789458-ae3c9761d4c721d6fdf4578e96d93ad4</token>

          </attachment>
      

    </bug>
    <bug>
          <bug_id>407183</bug_id>
          
          <creation_ts>2013-05-03 11:31:00 -0400</creation_ts>
          <short_desc>EugeniaActionDelegate does not work with Jazz RTC Source Control</short_desc>
          <delta_ts>2013-06-01 03:41:29 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows 7</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>0</everconfirmed>
          <reporter name="Kaspar  von Gunten">kvg@ergon.ch</reporter>
          <assigned_to name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</assigned_to>
          
          
          <votes>0</votes>

      
          <token>1377789458-5bb2b7aad48626f4662f650c62a33e3a</token>

      

      

          <long_desc isprivate="0">
            <commentid>2252115</commentid>
              <attachid>230462</attachid>
            <who name="Kaspar  von Gunten">kvg@ergon.ch</who>
            <bug_when>2013-05-03 11:31:14 -0400</bug_when>
            <thetext>Created attachment 230462
Patch that resolves the problem

If Eugenia is used in an environment that uses Jazz RTC Source control, the actions will not work since Jazz actively provides different URL&apos;s for files in the workspace.

The method file.getLocationURI() which is used to initialize the various FileSets of the action, does not return a &quot;file://&quot;-URI but something like &quot;sourcecontrol://jazz/default/projectname/file.xml?the-file-uri&quot; instead. As a result, the calculation of the URI&apos;s of the other models does not succeed/will result in non-existing files.

I don&apos;t really know, why the Eugenia Actions work with URIs and URI-Strings (instead of Eclipse Resource Files), but the Problem can be fixed with the attached patch (uses Java-File to get the URI and not the Eclipse Workspace File).</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2253935</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-05-08 06:38:18 -0400</bug_when>
            <thetext>Thanks for reporting this. I&apos;ve committed a fix to the SVN (r2237) which should make it into the next interim version.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2266564</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-06-01 03:41:17 -0400</bug_when>
            <thetext>Fixed in the latest interim version.</thetext>
          </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>230462</attachid>
            <date>2013-05-03 11:31:00 -0400</date>
            <delta_ts>2013-06-01 03:41:29 -0400</delta_ts>
            <desc>Patch that resolves the problem</desc>
            <filename>EugeniaActionDelegate.patch</filename>
            <type>application/octet-stream</type>
            <size>1027</size>
            <attacher>kvg@ergon.ch</attacher>
            
              <token>1377789459-2575e18c4c7cbc9aabdac95e79e12f29</token>
<flag name="iplog"
          id="58217"
          type_id="7"
          status="+"
          setter="dkolovos@cs.york.ac.uk"
    />
          </attachment>
      

    </bug>
    <bug>
          <bug_id>400391</bug_id>
          
          <creation_ts>2013-02-10 06:05:00 -0500</creation_ts>
          <short_desc>NPE when generating preserved region from template operation</short_desc>
          <delta_ts>2013-06-01 03:40:31 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Maarten Bezemer">maarten.bezemer@gmail.com</reporter>
          <assigned_to name="Louis Rose">louis@cs.york.ac.uk</assigned_to>
          <cc>dkolovos@cs.york.ac.uk</cc>
    
    <cc>louis@cs.york.ac.uk</cc>
          
          <votes>0</votes>

      
          <token>1377789459-95abdaecaa7991acfe4c97ca8013f330</token>

      

      

          <long_desc isprivate="0">
            <commentid>2214451</commentid>
            <who name="Maarten Bezemer">maarten.bezemer@gmail.com</who>
            <bug_when>2013-02-10 06:05:50 -0500</bug_when>
            <thetext>Hello,

I am trying to generate a preserved region from an EGL template. Using this minimal example from http://www.eclipse.org/forums/index.php/t/452781/

[%=t()%]

[%
@template
operation t() {%]

[%=out.startPreserve(&quot;//&quot;, &quot;&quot;, &quot;myRegion&quot;, true)%]
[%=out.stopPreserve()%]

[%
}
%]

results in the following NullPointerException:

Error encountered whilst processing template. (generate-files.eol@21:14)
Cause: Internal error: Internal error: Internal error: Internal error: java.lang.NullPointerException
at org.eclipse.epsilon.egl.output.OutputBuffer.startPreserve[OutputBuffer.java:181]
at sun.reflect.GeneratedMethodAccessor48.invoke[Unknown Source]
at sun.reflect.DelegatingMethodAccessorImpl.invoke[DelegatingMethodAccessorImpl.java:43]
at java.lang.reflect.Method.invoke[Method.java:601]
at org.eclipse.epsilon.eol.util.ReflectionUtil.executeMethod[ReflectionUtil.java:175]
at org.eclipse.epsilon.eol.util.ReflectionUtil.executeMethod[ReflectionUtil.java:157]
at org.eclipse.epsilon.eol.execute.PointExecutor.executeOperation[PointExecutor.java:154]
at org.eclipse.epsilon.eol.execute.PointExecutor.execute[PointExecutor.java:75]
at org.eclipse.epsilon.eol.execute.PointExecutor.execute[PointExecutor.java:44]
at org.eclipse.epsilon.eol.execute.PointExecutor.execute[PointExecutor.java:90]
at org.eclipse.epsilon.eol.execute.ExecutorFactory.executeAST[ExecutorFactory.java:226]
...and so on...

It seems that the context member variable is not set, when invoking the template operation, startPreserve() (and stopPreserve() also) makes use of context.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2214461</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-02-10 07:51:58 -0500</bug_when>
            <thetext>The problem appears to be in EglTemplateOperation

protected Object executeBody(IEolContext context) throws EolRuntimeException {
	OutputBuffer out = new OutputBuffer();

I suspect that this would be solved if we passed the context to the constructor of the OutputBuffer, but context here is an instance of EglPreprocessorContext while the constructor requires an instance of IEglContext.

Louis: any thoughts on how we could get an IEglContext from an EglPreprocessorContext?</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2256877</commentid>
            <who name="Louis Rose">louis@cs.york.ac.uk</who>
            <bug_when>2013-05-14 12:30:00 -0400</bug_when>
            <thetext>Thanks for reporting this Maarten and for investigating Dimitris.

I&apos;ve now fixed this be having the EglPreprocessorContext maintain a reference to its parent EglContext, which can be used to instantiate the OutputBuffer when executing a @template operation.

Maarten&apos;s code works as of svn r2252, and I&apos;ve added a regression test.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2266562</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-06-01 03:40:31 -0400</bug_when>
            <thetext>Fixed in the latest interim version.</thetext>
          </long_desc>
      
      

    </bug>
    <bug>
          <bug_id>307755</bug_id>
          
          <creation_ts>2010-03-31 12:12:00 -0400</creation_ts>
          <short_desc>[Eugenia] GenModel model is empty after applying FixGenModel.eol</short_desc>
          <delta_ts>2013-04-27 06:01:16 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows XP</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Christoph Wienands">cwienands@gmx.net</reporter>
          <assigned_to name="Antonio Garcia-Dominguez">nyoescape@gmail.com</assigned_to>
          <cc>dkolovos@cs.york.ac.uk</cc>
    
    <cc>nyoescape@gmail.com</cc>
          
          <votes>0</votes>

      
          <token>1377789459-cd24e4158060554813431a78ab29d5d7</token>

      

      

          <long_desc isprivate="0">
            <commentid>1703794</commentid>
            <who name="Christoph Wienands">cwienands@gmx.net</who>
            <bug_when>2010-03-31 12:12:24 -0400</bug_when>
            <thetext>Build Identifier: 20100218-1602

Under certain circumstances, a .genmodel model is emtpy after using the &apos;Synchronize EMF gen model&apos;. Below is a script that will execute without error, but afterwards the genmodel file it was applied to is empty (it&apos;s valid but all model elements were removed).

for (feature in GenModel!GenFeature.all)
{
    feature.ecoreFeature.println();
}

This behavior only occurs when ECore metamodel elements are accessed through GenModel model elements. For comparison, these two scripts do not cause the observed behavior.

for (attr in ECore!EAttribute.all) {
 attr.println();
}

for (feature in GenModel!GenFeature.all)
{
 feature.println();
}

Reproducible: Always

Steps to Reproduce:
1. Create a genmodel model.
2. Create FixGenModel.eol file and insert above EOL script.
3. Use &apos;right-click -&gt; Eugenia -&gt; Synchronize EMF gen model&apos;.
4. Open genmodel file, all elements were removed.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2216075</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2013-02-13 07:10:21 -0500</bug_when>
            <thetext>I&apos;ve confirmed and fixed the bug in SVN r2136. I ran into the same problem with the FixGmfGenDelegate as well last week, and the fix was also the same.

The ECore model the GenModel depended on was being disposed *before* the GenModel, so the GenModel was being saved as an empty XMI file.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249344</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-27 06:01:16 -0400</bug_when>
            <thetext>Fixed in the latest interim version (1.0.0.201304211529).</thetext>
          </long_desc>
      
      

    </bug>
    <bug>
          <bug_id>400569</bug_id>
          
          <creation_ts>2013-02-12 09:00:00 -0500</creation_ts>
          <short_desc>[Eugenia] List of new annotations</short_desc>
          <delta_ts>2013-04-27 06:00:39 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>enhancement</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Antonio Garcia-Dominguez">nyoescape@gmail.com</reporter>
          <assigned_to name="Antonio Garcia-Dominguez">nyoescape@gmail.com</assigned_to>
          <cc>dkolovos@cs.york.ac.uk</cc>
          
          <votes>0</votes>

      
          <token>1377789459-2e3d20022d3681e5b75861ab723b94d6</token>

      

      

          <long_desc isprivate="0">
            <commentid>2215409</commentid>
              <attachid>226919</attachid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2013-02-12 09:00:45 -0500</bug_when>
            <thetext>Created attachment 226919
Example for these new features

While I was reimplementing one of my oldest model editors with the latest version of EuGENia, I ported some of my polishing transformations to EuGENia. I&apos;ve added support for the following annotations:

* gmf.node: resizable (&quot;true&quot; / &quot;false&quot;, by default &quot;true&quot;), margin (by default &quot;5&quot;, measured according to the gmf.diagram &quot;units&quot;)

* &quot;label.pattern&quot; is now a shorthand for giving the same value to &quot;label.edit.pattern&quot; (the edit pattern) and &quot;label.view.pattern&quot; (the view pattern)

* Links can now use OCL constraints through the &quot;target.constraint&quot; and &quot;source.constraint&quot; annotations

* Labels can specify custom parsers through &quot;label.parser&quot;. By default, a &quot;predefined&quot; (i.e. based on MessageFormat) parser is generated. The user will need to customize the generated code by hand later on.

I&apos;ve attached an .emf file of an editor that uses all these features.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2215412</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2013-02-12 09:01:49 -0500</bug_when>
            <thetext>I&apos;ve documented these new annotations at the Epsilon website:

http://eclipse.org/epsilon/doc/articles/eugenia-gmf-tutorial/</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2215800</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2013-02-12 16:53:03 -0500</bug_when>
            <thetext>I&apos;ve added label.text to gmf.node, gmf.link (EClass-based) and gmf.label. It was already available in gmf.link (EReference-based) as `label`, so it&apos;s pretty much an alias in that case, but I&apos;ve added it as well to be consistent.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249343</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-27 06:00:39 -0400</bug_when>
            <thetext>Fixed in the latest interim version (1.0.0.201304211529).</thetext>
          </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>226919</attachid>
            <date>2013-02-12 09:00:00 -0500</date>
            <delta_ts>2013-02-12 09:00:45 -0500</delta_ts>
            <desc>Example for these new features</desc>
            <filename>sodmt_performance.emf</filename>
            <type>image/x-emf</type>
            <size>4704</size>
            <attacher>nyoescape@gmail.com</attacher>
            
              <token>1377789459-e6aa4d39aab088c388d56e5ebab9058a</token>

          </attachment>
      

    </bug>
    <bug>
          <bug_id>402538</bug_id>
          
          <creation_ts>2013-03-06 10:58:00 -0500</creation_ts>
          <short_desc>[EUnit JUnit integration] Support custom operation contributors in EUnitTestRunner</short_desc>
          <delta_ts>2013-04-27 05:59:52 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>enhancement</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Antonio Garcia-Dominguez">nyoescape@gmail.com</reporter>
          <assigned_to name="Antonio Garcia-Dominguez">nyoescape@gmail.com</assigned_to>
          <cc>dkolovos@cs.york.ac.uk</cc>
          
          <votes>0</votes>

      
          <token>1377789459-0a7861ecbf5a0a40a071cbd0db782ca1</token>

      

      

          <long_desc isprivate="0">
            <commentid>2226808</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2013-03-06 10:58:55 -0500</bug_when>
            <thetext>Since I switched to Tycho for my work, I have to run my EUnit unit tests using EUnitRunner, the specialized JUnit test runner in o.e.epsilon.eunit.junit. It is compatible with everything from EUnit, except for helper tasks, since these are based on invoking Ant tasks.

This is OK for testing EOL code, but I need to test EVL code as well, and there&apos;s no way to access EVL directly from EOL without some external help. For this reason, I think it would be useful to extend the IEUnitSuite interface with an optional &quot;getOperationContributor()&quot; method that provides whichever operations are needed by the tests.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2226831</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2013-03-06 11:17:06 -0500</bug_when>
            <thetext>Fixed in SVN r2139. SVN r2140 avoids a NPE when loading a EUnit script from a non-file:/// URL (which may happen with plug-in tests), and SVN r2141 adds a new example which illustrates how to use the EUnit-JUnit integration facilities.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249342</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-27 05:59:52 -0400</bug_when>
            <thetext>Fixed in the latest interim version (1.0.0.201304211529).</thetext>
          </long_desc>
      
      

    </bug>
    <bug>
          <bug_id>402542</bug_id>
          
          <creation_ts>2013-03-06 11:12:00 -0500</creation_ts>
          <short_desc>[EOL] &quot;xor&quot; operation does not produce the correct results</short_desc>
          <delta_ts>2013-04-27 05:59:29 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Antonio Garcia-Dominguez">nyoescape@gmail.com</reporter>
          <assigned_to name="Antonio Garcia-Dominguez">nyoescape@gmail.com</assigned_to>
          <cc>dkolovos@cs.york.ac.uk</cc>
          
          <votes>0</votes>

      
          <token>1377789459-3ec924f6a6dfd82ea0dc5e32561b9253</token>

      

      

          <long_desc isprivate="0">
            <commentid>2226824</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2013-03-06 11:12:58 -0500</bug_when>
            <thetext>The &quot;xor&quot; operation does not always produce the correct results. It is based on a simple object identity check which relies on the fact that autoboxing the primitive &quot;false&quot; and &quot;true&quot; values always results in the same two instances, respectively.

However, if a user tried the &quot;xor&quot; operator with two difference Boolean instances with the &quot;true&quot; value or the &quot;true&quot; value, they would obtain &quot;true&quot; instead of the expected &quot;false&quot; for this case.

This EUnit test case reproduces the issue:

@test
operation operatorXor() {
  assertFalse(newFalse() xor newFalse());
  assertTrue(newFalse() xor newTrue());
  assertTrue(newTrue() xor newFalse());
  assertFalse(newTrue() xor newTrue());
}

operation newTrue() {
  return new Native(&quot;java.lang.Boolean&quot;)(&quot;true&quot;);
}

operation newFalse() {
  return new Native(&quot;java.lang.Boolean&quot;)(&quot;false&quot;);
}</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2226832</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2013-03-06 11:17:39 -0500</bug_when>
            <thetext>Fixed in SVN r2142.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249341</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-27 05:59:29 -0400</bug_when>
            <thetext>Fixed in the latest interim version (1.0.0.201304211529).</thetext>
          </long_desc>
      
      

    </bug>
    <bug>
          <bug_id>376156</bug_id>
          
          <creation_ts>2012-04-05 05:41:00 -0400</creation_ts>
          <short_desc>Improve inserting automatically closing characters</short_desc>
          <delta_ts>2013-04-27 05:58:47 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Maarten Bezemer">maarten.bezemer@gmail.com</reporter>
          <assigned_to name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</assigned_to>
          
          
          <votes>0</votes>

      
          <token>1377789459-5884c3dd96bb9b3a6ac70d2801184386</token>

      

      

          <long_desc isprivate="0">
            <commentid>2090059</commentid>
            <who name="Maarten Bezemer">maarten.bezemer@gmail.com</who>
            <bug_when>2012-04-05 05:41:30 -0400</bug_when>
            <thetext>Build Identifier: I20110613-1736

The epsilon editor automatically inserts closing characters when a &apos;, &quot; etc is typed.

One always gets the closing character even when it is undesired.
For example, if I have this line:
  test
and I would like to get this:
  &quot;test&quot;
I move the focus to the start of the line and type &quot;, next move to the end and type another &quot;. But due to the automatically inserted closing &quot;, I get this when I type the first &quot;
  &quot;&quot;test

Another situation would be typing the second (closing) &quot; in the previous example, which would result in:
  &quot;test&quot;&quot;

Again, the additional (closing) &quot; is undesired.


Reproducible: Always</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2090653</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2012-04-06 06:59:45 -0400</bug_when>
            <thetext>Thanks for reporting this. This should also be fixed now in the SVN and in the latest interim version available at http://download.eclipse.org/epsilon/interim/ . Could you please confirm?</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2090883</commentid>
            <who name="Maarten Bezemer">maarten.bezemer@gmail.com</who>
            <bug_when>2012-04-08 05:09:04 -0400</bug_when>
            <thetext>I do not see any difference when using 0.9.1.201204060319?
Both situations I described still occur.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2093913</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2012-04-16 09:38:07 -0400</bug_when>
            <thetext>Sorry about that. Could you please give it another go (from the SVN or the interim update site) and confirm that this has now been solved?</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2094282</commentid>
            <who name="Maarten Bezemer">maarten.bezemer@gmail.com</who>
            <bug_when>2012-04-17 03:56:15 -0400</bug_when>
            <thetext>It works much better now!

The two described situations are solved, but I found another one:

If I have a . and want to make a string of it, I get &quot;&quot;.
It also holds for other punctuations like ( { , etc

Besides this issue, I could not find any other problems with the additional closing chars.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2095496</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2012-04-18 17:51:57 -0400</bug_when>
            <thetext>The same seems to be happening in the Java editor so I think that&apos;s the expected behaviour. Am I perhaps missing something?</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2095743</commentid>
            <who name="Maarten Bezemer">maarten.bezemer@gmail.com</who>
            <bug_when>2012-04-19 07:19:28 -0400</bug_when>
            <thetext>You are right: I never noticed that this behavior is also present in the other editors!
So, better leave it like it is in order to keep this same behavior.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2237913</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-03-28 19:12:32 -0400</bug_when>
            <thetext>Closing as fixed.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249339</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-27 05:58:47 -0400</bug_when>
            <thetext>Fixed in the latest interim version (1.0.0.201304211529).</thetext>
          </long_desc>
      
      

    </bug>
    <bug>
          <bug_id>404496</bug_id>
          
          <creation_ts>2013-03-27 16:33:00 -0400</creation_ts>
          <short_desc>[Flock] Cannot specify the package of a type in a &apos;migrate&apos; or &apos;retype&apos; rule</short_desc>
          <delta_ts>2013-04-27 05:46:38 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          <see_also>https://bugs.eclipse.org/bugs/show_bug.cgi?id=393417</see_also>
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Antonio Garcia-Dominguez">nyoescape@gmail.com</reporter>
          <assigned_to name="Antonio Garcia-Dominguez">nyoescape@gmail.com</assigned_to>
          <cc>dkolovos@cs.york.ac.uk</cc>
    
    <cc>louis@cs.york.ac.uk</cc>
          
          <votes>0</votes>

      
          <token>1377789459-9d8def14ad5019ce6b8a54c763361885</token>

      

      

          <long_desc isprivate="0">
            <commentid>2237436</commentid>
              <attachid>229131</attachid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2013-03-27 16:33:57 -0400</bug_when>
            <thetext>Created attachment 229131
Patch for the Flock grammar

I have two very similar metamodels. They only differ in the name of the main EPackage and a class or two. For the most part, the mapping is quite obvious: serviceProcess::InitialNode to serviceComposition::InitialNode and so on.

I ran into bug 393417, which confirms my suspicion that Flock doesn&apos;t automatically establish an equivalence between two types of the same name if they belong to packages with different names. I&apos;m not sure if stripping the package part during matching would be very safe, but at the very least users should be able to manually specify what they want to do with:

retype pkg1::A to pkg2::B

However, this is rejected by the current version of the Flock grammar. It is quite easy to fix, though, by applying the attached patch. Instead of using a simple NAME, it uses a restricted version of the EOL &apos;typeName&apos; symbol that only allows package segments (no metamodel or enumeration references are allowed).

I&apos;ve tried it out and it works fine. It passes all tests, too. Shall I go ahead and commit the change?</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2237477</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-03-27 18:10:50 -0400</bug_when>
            <thetext>Reusing &quot;pathName&quot; instead of defining &quot;flockTypeName&quot; would probably also work (the Flock execution engine would need to check that either the model is not specified or it matches the name of the migrated model). Ideally, I guess we&apos;d want to split pathName into pathName (no model) + modelAndPathName.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2237869</commentid>
              <attachid>229168</attachid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2013-03-28 15:18:33 -0400</bug_when>
            <thetext>Created attachment 229168
Patch for the Flock grammar (v3: split packagedType off from pathName and use it in Flock)

Here is a revised patch that splits off the &quot;NAME (&apos;::&apos; NAME)*&quot; bit from pathName into a new rule called packagedType. packagedType is then used in the Flock grammar to fix the bug.

I had to override the prepareForGUnit method in FlockParser so it would propagate the call to the delegated rules as well. Otherwise, several tests that checked that we detected certain syntax errors in Flock scripts would not pass.

I&apos;ve also taken the chance to remove a rule (&quot;modelElementType&quot;) that wasn&apos;t being used in any of the E*L languages.

After regenerating all the EOL-dependent parsers, all tests pass, so I think this should work fine. Dimitris, Louis: what do you think?</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2240233</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2013-04-05 11:39:28 -0400</bug_when>
            <thetext>Fix committed through SVN r2178-2181.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249336</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-27 05:46:38 -0400</bug_when>
            <thetext>Fixed in the latest interim version (1.0.0.201304211529).</thetext>
          </long_desc>
      
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>229131</attachid>
            <date>2013-03-27 16:33:00 -0400</date>
            <delta_ts>2013-03-28 15:18:33 -0400</delta_ts>
            <desc>Patch for the Flock grammar</desc>
            <filename>0001-flock.engine-allow-for-package-segments-in-type-name.patch</filename>
            <type>text/plain</type>
            <size>2078</size>
            <attacher>nyoescape@gmail.com</attacher>
            
              <token>1377789459-27629ed40e67d960923747df7d6fe0ad</token>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>229168</attachid>
            <date>2013-03-28 15:18:00 -0400</date>
            <delta_ts>2013-03-28 15:18:33 -0400</delta_ts>
            <desc>Patch for the Flock grammar (v3: split packagedType off from pathName and use it in Flock)</desc>
            <filename>flock-pkg-v3.diff</filename>
            <type>text/plain</type>
            <size>3327</size>
            <attacher>nyoescape@gmail.com</attacher>
            
              <token>1377789459-d0958334f4bf220e77dccb179eaf6dec</token>

          </attachment>
      

    </bug>
    <bug>
          <bug_id>404536</bug_id>
          
          <creation_ts>2013-03-28 05:38:00 -0400</creation_ts>
          <short_desc>Coherence cache issue with CollectionAnnotator&apos;s WeakHashMap</short_desc>
          <delta_ts>2013-04-27 05:46:12 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows XP</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords>consistency</keywords>
          <priority>P3</priority>
          <bug_severity>blocker</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Sébastien Latre">sebastien.latre@free.fr</reporter>
          <assigned_to name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</assigned_to>
          <cc>sebastien.latre@free.fr</cc>
          
          <votes>0</votes>

      
          <token>1377789459-d0052dfc174ab3ed6cea2a74b0ae0dd7</token>

      

      

          <long_desc isprivate="0">
            <commentid>2237626</commentid>
            <who name="Sébastien Latre">sebastien.latre@free.fr</who>
            <bug_when>2013-03-28 05:38:16 -0400</bug_when>
            <thetext>There seems to be a board effect of https://bugs.eclipse.org/bugs/show_bug.cgi?id=338087 which in some cases fails to act correctly due to the garbage collection. Tested with 0.9.1 and 1.0.0.

This bug is quite hard to reproduce because it depends on memory consumption (high memory consumption will make the garbage collection pass more frequently which can ease to repoduce this bug).
However, the problem is quite simple to understand.

The problem relies in collection annotation with EMF.
Here is a scenario that explains the bug which causes a NullPointerException breaking therefore the validation phase (that&apos;s why I put the bug as blocker):

# org.eclipse.epsilon.eol.execute.PointExecutor#execute(AST ast, IEolContext context, boolean returnSetter) line 42
## org.eclipse.epsilon.emc.emf.EmfPropertyGetter#invoke(Object object, String property)
LOGIC_1 to compute collection&apos;s kind:
collection (eObject) of type EObjectContainmentWithInverseEList
EStructuralFeature sf = EmfUtil.getEStructuralFeature(eObject.eClass(), property)
sf != null &amp;&amp; sf.isMany() &amp;&amp; sf.isOrdered() &amp;&amp; sf.isUnique() =&gt; annotation = OrderedSet
=&gt; CollectionAnnotators&apos;s cache is set to OrderedSet for the collection.
# org.eclipse.epsilon.eol.execute.PointExecutor#execute(AST ast, IEolContext context, boolean returnSetter) line 43
## org.eclipse.epsilon.eol.execute.operations.declarative.ExistsOperation#execute(Object obj, AST ast, IEolContext context) line 28
Collection selected = (Collection) selectOperation.execute(obj, ast, context);
### org.eclipse.epsilon.eol.types.EolCollectionType#createSameType(Collection c)
Test if it&apos;s Bag
#### org.eclipse.epsilon.eol.types.EolCollectionType#isType(Object o)
##### org.eclipse.epsilon.eol.types.EolCollectionType#getTypeOf(Collection c)
Check if annotation exists for collection in CollectionAnnotator&apos;s cache.
Got it: OrderedSet
=&gt; collection is not a Bag
### org.eclipse.epsilon.eol.types.EolCollectionType#createSameType(Collection c)
Test if it&apos;s Sequence
#### org.eclipse.epsilon.eol.types.EolCollectionType#isType(Object o)
##### org.eclipse.epsilon.eol.types.EolCollectionType#getTypeOf(Collection c)
Check if annotation exists for collection in CollectionAnnotator&apos;s cache.
Got it: OrderedSet
=&gt; collection is not a Sequence
### GARBAGE COLLECTION PASS and empties the CollectionAnnotator&apos;s cache (or at least reduce the size by removing the line concerning of the collection)
### org.eclipse.epsilon.eol.types.EolCollectionType#createSameType(Collection c)
Test if it&apos;s OrderedSet
#### org.eclipse.epsilon.eol.types.EolCollectionType#isType(Object o)
##### org.eclipse.epsilon.eol.types.EolCollectionType#getTypeOf(Collection c)
Check if annotation exists for collection in CollectionAnnotator&apos;s cache.
Cannot get it !
Try to rebuild the value with LOGIC_2
collection !instanceof EolSequence &amp;&amp; collection instanceof List &amp;&amp; !collection instanceof Set =&gt; New annotation is Sequence
=&gt; We have a different result: This sould be an OrderedSet!
=&gt; collection is not an OrderedSet.
### org.eclipse.epsilon.eol.types.EolCollectionType#createSameType(Collection c)
Test if it&apos;s Set
#### org.eclipse.epsilon.eol.types.EolCollectionType#isType(Object o)
##### org.eclipse.epsilon.eol.types.EolCollectionType#getTypeOf(Collection c)
Check if annotation exists for collection in CollectionAnnotator&apos;s cache.
Cannot get it !
Try to rebuild the value with LOGIC_2 =&gt; New annotation is Sequence
=&gt; collection is not a Set.
### org.eclipse.epsilon.eol.types.EolCollectionType#createSameType(Collection c)
=&gt; collection is not either a Bag, a Sequence, an OrderedSet or a Set =&gt; return null
## org.eclipse.epsilon.eol.execute.operations.declarative.ExistsOperation#execute(Object obj, AST ast, IEolContext context) line 30
return selected.size() &gt; 0; with selected == null =&gt; NullPointerException</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2237637</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-03-28 06:13:36 -0400</bug_when>
            <thetext>Many thanks for reporting this. I&apos;ve investigated a bit and the only clean solution I can see is to get rid of CollectionAnnotator altogether. It is currently only used to annotate EMF ELists but it should be possible to figure out uniqueness/ordering by checking to see if the list in question is an EcoreEList and then using its getEStructuralFeature() method to get access to the underlying structural feature.

This will require an additional extension point for collection type resolvers (the core of Epsilon is decoupled from EMF) so this may take a couple of weeks to fix and test.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2237808</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-03-28 11:56:25 -0400</bug_when>
            <thetext>I believe I&apos;ve now fixed this in the SVN (r2167). Could you please check and let me know whether it works for you?</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2240198</commentid>
            <who name="Sébastien Latre">sebastien.latre@free.fr</who>
            <bug_when>2013-04-05 10:41:08 -0400</bug_when>
            <thetext>I couldn&apos;t use the complete new version from the trunk as I have some other constraints but I merged your fix inside my version and so far I have not been able to reproduce the problem after several tries.
Your fix looks awesome and really simple. Fortunately you corrected it because I wouldn&apos;t have done this way (quite hard to understand at once the Epsilon split between engine and EMF...)

However, does the remove of the cache not harmful for the overall performances? With your fix it&apos;s quite easy to add a WeakHashMap agan inside EmfCollectionTypeResolver as we can build the the type again from the collection itself. That&apos;s just a question in fact.

Anyway, thanks very much for your reactivity!</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2240497</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-06 05:31:11 -0400</bug_when>
            <thetext>Many thanks for your feedback. Caching previously computed collection types sounds like a very good idea indeed. I&apos;ve implemented this at the level of EolCollectionType in R2185.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249335</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-27 05:46:12 -0400</bug_when>
            <thetext>Fixed in the latest interim version (1.0.0.201304211529).</thetext>
          </long_desc>
      
      

    </bug>
    <bug>
          <bug_id>361620</bug_id>
          
          <creation_ts>2011-10-21 04:39:00 -0400</creation_ts>
          <short_desc>epsilon.eugenia ant task has problems with ecore models that have packages in packages</short_desc>
          <delta_ts>2013-04-27 05:45:57 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows 7</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>blocker</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Ralph Gerbig">ralphgerbig@gmail.com</reporter>
          <assigned_to name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</assigned_to>
          
          
          <votes>0</votes>

      
          <token>1377789459-bac30e0c006228f6ff0e6ea94b33d4f5</token>

      

      

          <long_desc isprivate="0">
            <commentid>2014408</commentid>
            <who name="Ralph Gerbig">ralphgerbig@gmail.com</who>
            <bug_when>2011-10-21 04:39:49 -0400</bug_when>
            <thetext>I have the following .ecore model structure:

Package1
 |-Package2

I use the following ant task to generate the genmodel:

&lt;epsilon.eugenia src=&quot;../my.plugin.name/model.ecore&quot; firststep=&quot;genmodel&quot; laststep=&quot;genmodel&quot;&gt;&lt;/epsilon.eugenia&gt;

The generated genmodel has the following structure:

Package1
 |-Package2
Package2</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2024882</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2011-11-10 18:30:43 -0500</bug_when>
            <thetext>Ralph,

Thanks for reporting this. Using nested packages in Ecore is generally not a very good idea (Ed Merks himself has in several occasions advised against using this feature - I can dig out concrete pointers if needed). Would it be an option to flatten your Ecore model?</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2032483</commentid>
            <who name="Ralph Gerbig">ralphgerbig@gmail.com</who>
            <bug_when>2011-11-28 04:06:12 -0500</bug_when>
            <thetext>Hi,

I currently do not have this option. I would like to have to packages. Usually I would put these two in seperate meta-models. But in this case the elements from both packages reference each other. Hence, I would creare a circle dependency.

Ralph</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2240651</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-07 14:16:59 -0400</bug_when>
            <thetext>Fixed in the SVN - r2193</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249334</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-27 05:45:57 -0400</bug_when>
            <thetext>Fixed in the latest interim version (1.0.0.201304211529).</thetext>
          </long_desc>
      
      

    </bug>
    
    <bug>
          <bug_id>382860</bug_id>
          
          <creation_ts>2012-06-18 09:32:00 -0400</creation_ts>
          <short_desc>Parse error when additional assignment operator used when creating new objects</short_desc>
          <delta_ts>2013-04-27 05:44:28 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows XP</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>0</everconfirmed>
          <reporter name="Jason Hampson">Jason.Hampson.jvaec2@Rolls-royce.com</reporter>
          <assigned_to name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</assigned_to>
          
          
          <votes>0</votes>

      
          <token>1377789459-83399ed665e86d5950d673685bd884e9</token>

      

      

          <long_desc isprivate="0">
            <commentid>2125458</commentid>
            <who name="Jason Hampson">Jason.Hampson.jvaec2@Rolls-royce.com</who>
            <bug_when>2012-06-18 09:32:49 -0400</bug_when>
            <thetext>Build Identifier: Build id: M20100211-1343

The following does not register a syntax error:
var varOp1 = = new Output!Variability;

The script executes and generates an internal error:
&quot;Internall error. Expected either a SetterMethod or a Variable and got an falseinstead (D:\JasonHampson\ToolsSandbox\CC2 Tools\runtime-EclipseApplication\Variability\CreateVariabilityModel.eol@1:13)&quot;
 

Reproducible: Always</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2240694</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-07 18:55:32 -0400</bug_when>
            <thetext>Fixed in the SVN - r2195</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249332</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-27 05:44:28 -0400</bug_when>
            <thetext>Fixed in the latest interim version (1.0.0.201304211529).</thetext>
          </long_desc>
      
      

    </bug>
    <bug>
          <bug_id>404674</bug_id>
          
          <creation_ts>2013-04-01 12:30:00 -0400</creation_ts>
          <short_desc>Exeed &quot;Show structural info&quot; menu item not always effective</short_desc>
          <delta_ts>2013-04-27 05:40:17 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Mac OS X</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</reporter>
          <assigned_to name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</assigned_to>
          <cc>nyoescape@gmail.com</cc>
          
          <votes>0</votes>

      
          <token>1377789459-05508ea81e0abcef08dbf394de703969</token>

      

      

          <long_desc isprivate="0">
            <commentid>2238319</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-01 12:30:30 -0400</bug_when>
            <thetext>Starting from revision 1862 of ExeedEditor.java the &quot;Show Structural Info&quot; menu item is only effective when used with models not registered with other EMF editors. Steps to reproduce:

1. Create a .model that conforms to a local Ecore metamodel
2. Open the model and select Exeed-&gt;Show structural info
3. Structural info appears on the editor tree
4. Open a .gmfgraph model with Exeed and select Exeed-&gt;Show structural info
5. Nothing happens
6. Rename the .gmfgraph to .model
7. Open the model with Exeed and select Exeed-&gt;Show structural info
8. Nothing happens

I&apos;ve tried bringing back line 205 of ExeedEditor.java (extensionToFactoryMap.put(&quot;*&quot;, new IDXMIResourceFactoryImpl());) but this doesn&apos;t seem to be making a difference.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2240613</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-07 06:12:00 -0400</bug_when>
            <thetext>The culprit appears to be line 184 of ExeedEditor:

adapterFactory = new ComposedAdapterFactory(ComposedAdapterFactory.Descriptor.Registry.INSTANCE);

where the ComposedAdapterFactory is initialised with built-in adapters which take precedence over Exeed&apos;s custom adapter. Reverting to a call of the parameter-less constructor appears to be fixing this problem. Fixed in the SVN r2191.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249328</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-27 05:40:17 -0400</bug_when>
            <thetext>Fixed in the latest interim version (1.0.0.201304211529).</thetext>
          </long_desc>
      
      

    </bug>
    <bug>
          <bug_id>384846</bug_id>
          
          <creation_ts>2012-07-11 12:45:00 -0400</creation_ts>
          <short_desc>Internal error generated when accessing size method of sequence from chooseMany</short_desc>
          <delta_ts>2013-04-27 05:35:57 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows XP</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Jason Hampson">Jason.Hampson.jvaec2@Rolls-royce.com</reporter>
          <assigned_to name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</assigned_to>
          
          
          <votes>0</votes>

      
          <token>1377789459-0b3fa024bac7152bbb3dbd2cb473e0f9</token>

      

      

          <long_desc isprivate="0">
            <commentid>2135722</commentid>
            <who name="Jason Hampson">Jason.Hampson.jvaec2@Rolls-royce.com</who>
            <bug_when>2012-07-11 12:45:14 -0400</bug_when>
            <thetext>The chooseMany procedure returns a sequence of selected items. If the dialog is cancelled then an empty sequence is returned. The isDefined() and isEmpty()methods will return true, but if the size() property is tried then an intenral error is generated. 

If the same is tried for a sequence created using &apos;new Sequence&apos; then a size of 0 is returned. 

An EOL script of:
	var a := new Sequence;
	printDetails(a);
	&quot;-------------------&quot;.println();
	
	var options := Sequence {1..5};
	a := System.user.chooseMany(&quot;abc&quot;,options);
	printDetails(a);
	
	operation printDetails(a : Sequence){
		a.println();
		a.isDefined().println();
		a.isEmpty().println();
		a.size().println();
	}

Will ouput the following if the chooseMany box is cancelled or no items are selected:

Sequence {}
true
true
0
-------------------
Sequence {}
true
true
Internal error: java.lang.IllegalAccessException: Class org.eclipse.epsilon.eol.util.ReflectionUtil can not access a member of class java.util.Collections$EmptyList with modifiers &quot;public&quot;
	at sun.reflect.Reflection.ensureMemberAccess[Unknown Source]
	at java.lang.reflect.Method.invoke[Unknown Source]
	at org.eclipse.epsilon.eol.util.ReflectionUtil.executeMethod[ReflectionUtil.java:175]</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2135728</commentid>
            <who name="Jason Hampson">Jason.Hampson.jvaec2@Rolls-royce.com</who>
            <bug_when>2012-07-11 13:03:26 -0400</bug_when>
            <thetext>Actually, it looks like the size() method does not work on the chooseMany returned value at all. The type is java.util.Arrays$ArrayList rather than org.eclipse.epsilon.eol.types.EolSequence.

The ArrayList does have a size method.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2136994</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2012-07-15 11:10:49 -0400</bug_when>
            <thetext>Thanks for reporting this. I&apos;ll try to get this fixed as soon as possible.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2237912</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-03-28 19:02:04 -0400</bug_when>
            <thetext>Fixed in the SVN (r2169)</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249326</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-27 05:35:57 -0400</bug_when>
            <thetext>Fixed in the latest interim version (1.0.0.201304211529).</thetext>
          </long_desc>
      
      

    </bug>
    <bug>
          <bug_id>382136</bug_id>
          
          <creation_ts>2012-06-08 13:48:00 -0400</creation_ts>
          <short_desc>Multiple parsing modules sleeping</short_desc>
          <delta_ts>2013-04-27 05:35:38 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows Server 2008</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Horacio Hoyos">arcanefoam@gmail.com</reporter>
          <assigned_to name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</assigned_to>
          <cc>arcanefoam@gmail.com</cc>
          
          <votes>0</votes>

      
          <token>1377789459-5e73b03d3fed2edd709ee7414100e51b</token>

      

      

          <long_desc isprivate="0">
            <commentid>2121822</commentid>
            <who name="Horacio Hoyos">arcanefoam@gmail.com</who>
            <bug_when>2012-06-08 13:48:23 -0400</bug_when>
            <thetext>When I open several (5 or more) e?l files for editing it would seem that the many e?l parsers are started and in the progress window I get several &quot;Parsing Module (sleeping)&quot; messages (attached image). The effect of this is only noticeable when I navigate an ecore or a model in an editor. The editor window seems to be unresponsive and the small triangles that indicate expansion can not be seen. If y end all the parsing module processes the editor works fine.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2121935</commentid>
              <attachid>217104</attachid>
            <who name="Horacio Hoyos">arcanefoam@gmail.com</who>
            <bug_when>2012-06-08 16:39:51 -0400</bug_when>
            <thetext>Created attachment 217104
Image of the progress window</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2129385</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2012-06-26 15:42:58 -0400</bug_when>
            <thetext>(I think) I&apos;ve fixed this in the SVN. Could you perhaps update and check whether this works for you?</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2130396</commentid>
            <who name="Horacio Hoyos">arcanefoam@gmail.com</who>
            <bug_when>2012-06-28 09:14:51 -0400</bug_when>
            <thetext>Can I get this from the interim site? Or do I have to use the repo?</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2237906</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-03-28 18:23:37 -0400</bug_when>
            <thetext>This one seems to have fallen through the cracks :S Closing as fixed but please feel free to reopen if needed.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249325</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-27 05:35:38 -0400</bug_when>
            <thetext>Fixed in the latest interim version (1.0.0.201304211529).</thetext>
          </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>217104</attachid>
            <date>2012-06-08 16:39:00 -0400</date>
            <delta_ts>2012-06-08 16:39:51 -0400</delta_ts>
            <desc>Image of the progress window</desc>
            <filename>Captura.PNG</filename>
            <type>image/png</type>
            <size>9006</size>
            <attacher>arcanefoam@gmail.com</attacher>
            
              <token>1377789460-4e90786e6bca227ff82490f7dd04e2eb</token>

          </attachment>
      

    </bug>
    <bug>
          <bug_id>404302</bug_id>
          
          <creation_ts>2013-03-25 15:02:00 -0400</creation_ts>
          <short_desc>[EWL] Extra packages are collected from all configuration elements and not just the applicable ones</short_desc>
          <delta_ts>2013-04-27 05:35:19 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Antonio Garcia-Dominguez">nyoescape@gmail.com</reporter>
          <assigned_to name="Antonio Garcia-Dominguez">nyoescape@gmail.com</assigned_to>
          <cc>dkolovos@cs.york.ac.uk</cc>
          
          <votes>0</votes>

      
          <token>1377789460-ecdac2f371ca407fea7c988f5cae0101</token>

      

      

          <long_desc isprivate="0">
            <commentid>2236392</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2013-03-25 15:02:15 -0400</bug_when>
            <thetext>Throughout my plugins, I have three EWL extension elements that link a .ewl file to a certain kind of model. One of these EWL extension elements specifies several extra package URIs that are required for the correct operation of the .ewl file.

I have noticed that these extra packages are also loaded for the other .ewl files, rendering them unusable, as they refer to packages with classes that have the same names but from different packages.

I will refactor the AbstractContributeWizardsAction so the extraPackages are only retrieved from the applicable configuration elements. This logic is already available in the getEwlURIsForEObjects method, so I&apos;ll extract it to a private method and reuse the results in both places.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2236402</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2013-03-25 15:25:53 -0400</bug_when>
            <thetext>This bug has been fixed in SVN r2159.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249324</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-27 05:35:19 -0400</bug_when>
            <thetext>Fixed in the latest interim version (1.0.0.201304211529).</thetext>
          </long_desc>
      
      

    </bug>
    <bug>
          <bug_id>404086</bug_id>
          
          <creation_ts>2013-03-21 17:16:00 -0400</creation_ts>
          <short_desc>/model/org/epsilon/eol/models/emf/virtual/VirtualEMF.genmodel is missing</short_desc>
          <delta_ts>2013-04-27 05:35:00 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows Vista</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Ed Willink">ed@willink.me.uk</reporter>
          <assigned_to name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</assigned_to>
          <cc>louis@cs.york.ac.uk</cc>
          
          <votes>0</votes>

      
          <token>1377789460-554ad58c0d459e73ba5cc15819140c41</token>

      

      

          <long_desc isprivate="0">
            <commentid>2235244</commentid>
            <who name="Ed Willink">ed@willink.me.uk</who>
            <bug_when>2013-03-21 17:16:06 -0400</bug_when>
            <thetext>plugins with genmodels referenced in extension points should distribute the genmodel and ecore file to avoid registry search failures.

Ity would also help if the path was related tp the plugin.

Why is /model/org/epsilon/eol/models/emf/virtual/VirtualEMF.genmodel in org.eclipse.epsilon.emc.emf.virtual?</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2235246</commentid>
            <who name="Ed Willink">ed@willink.me.uk</who>
            <bug_when>2013-03-21 17:18:24 -0400</bug_when>
            <thetext>Ditto

/model/org/epsilon/hutn/model/config/HUTNConfig.genmodel</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2235388</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-03-22 05:52:25 -0400</bug_when>
            <thetext>Thanks for reporting this. I&apos;m afraid I don&apos;t fully understand the problem as both pairs of .genmodel/.ecore appear to be distributed with the respective plugins. Also, the .genmodel paths in the extension points appear to be consistent with the way paths are declared in org.eclipse.emf.ecore (they are only nested a bit deeper).</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2235392</commentid>
            <who name="Ed Willink">ed@willink.me.uk</who>
            <bug_when>2013-03-22 06:04:25 -0400</bug_when>
            <thetext>The problem is that build.properties does not include them in the binary build.

I think that in the end there were 6 missing genmodels.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2235421</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-03-22 06:44:30 -0400</bug_when>
            <thetext>I&apos;m probably missing something here but I&apos;ve had a look at build.properties of emc.emf.virtual and it seems to be including the model folder (which contains the .genmodel) in the build. I&apos;ve also downloaded a copy of org.eclipse.epsilon.emc.emf.virtual_1.0.0.201211082326.jar from the stable update site and the .genmodel appears to be included in it.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2235428</commentid>
            <who name="Ed Willink">ed@willink.me.uk</who>
            <bug_when>2013-03-22 06:58:46 -0400</bug_when>
            <thetext>build.properties includes

/org.eclipse.epsilon.emc.emf.virtual/model/org/eclipse/epsilon/eol/emc/emf/virtual/VirtualEMF.genmodel

(very unusual not to have them at /org.eclipse.epsilon.emc.emf.virtual/model/VirtualEMF.genmodel)

plugin.xml declares at

model/org/epsilon/eol/models/emf/virtual/VirtualEMF.genmodel

NB no &quot;eclipse&quot;, no &quot;emc&quot;, extra &quot;models&quot;</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2235506</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-03-22 10:24:46 -0400</bug_when>
            <thetext>You&apos;re right - this must have broken during the 1.0 restructuring. I&apos;ll try to fix it as soon as possible.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2236011</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-03-24 18:57:05 -0400</bug_when>
            <thetext>Thanks again for reporting this. I&apos;ve just committed a fix in the SVN (r2156).</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249323</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-27 05:35:00 -0400</bug_when>
            <thetext>Fixed in the latest interim version (1.0.0.201304211529).</thetext>
          </long_desc>
      
      

    </bug>
    <bug>
          <bug_id>400409</bug_id>
          
          <creation_ts>2013-02-10 16:14:00 -0500</creation_ts>
          <short_desc>Improve EGL outline view</short_desc>
          <delta_ts>2013-04-27 05:34:41 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Mac OS X</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</reporter>
          <assigned_to name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</assigned_to>
          <cc>louis@cs.york.ac.uk</cc>
          
          <votes>0</votes>

      
          <token>1377789460-e0f55e19a524857f25734246aab1ea5d</token>

      

      

          <long_desc isprivate="0">
            <commentid>2214531</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-02-10 16:14:42 -0500</bug_when>
            <thetext>The current EGL outline view is not very helpful. It&apos;d be nice to be able to define some sort of markers in templates e.g.

[*-&gt;Header*]
[*-&gt;Footer*]

and show these instead of the detailed AST.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2235068</commentid>
            <who name="Louis Rose">louis@cs.york.ac.uk</who>
            <bug_when>2013-03-21 12:35:55 -0400</bug_when>
            <thetext>Dimitris and I have now added this feature. The syntax is:

[*- Header *]
...
[*- Footer *]</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249322</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-27 05:34:41 -0400</bug_when>
            <thetext>Fixed in the latest interim version (1.0.0.201304211529).</thetext>
          </long_desc>
      
      

    </bug>
    <bug>
          <bug_id>380910</bug_id>
          
          <creation_ts>2012-05-29 10:45:00 -0400</creation_ts>
          <short_desc>Method &apos;satisfiesOne&apos; not found for ...</short_desc>
          <delta_ts>2013-04-27 05:31:04 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows 7</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>minor</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>0</everconfirmed>
          <reporter name="Horacio Hoyos">arcanefoam@gmail.com</reporter>
          <assigned_to name="Antonio Garcia-Dominguez">nyoescape@gmail.com</assigned_to>
          <cc>dkolovos@cs.york.ac.uk</cc>
    
    <cc>nyoescape@gmail.com</cc>
          
          <votes>0</votes>

      
          <token>1377789460-8e433e4285110f1749f192dcb5d06574</token>

      

      

          <long_desc isprivate="0">
            <commentid>2115463</commentid>
              <attachid>216404</attachid>
            <who name="Horacio Hoyos">arcanefoam@gmail.com</who>
            <bug_when>2012-05-29 10:45:49 -0400</bug_when>
            <thetext>Created attachment 216404
Model and evl files

the satisfiesOne method seems to fail. First time I use it so can&apos;t tell if it is a specific metamodel/model issue or a bug. I have attached the papyrus sysml metamodel, a sysml model, and the evl source.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2117478</commentid>
              <attachid>216634</attachid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2012-06-01 05:48:33 -0400</bug_when>
            <thetext>Created attachment 216634
Non-working project with shared run configuration

I&apos;ve tried to run your EVL script with the attached launch configuration, using the SysML metamodel you have attached, but loading the model fails with the message:

java.lang.ClassCastException: org.eclipse.emf.ecore.impl.DynamicEObjectImpl cannot be cast to org.eclipse.uml2.uml.PackageModel &apos;SysML&apos; not found

Could you please tell us which version of Eclipse, Papyrus and UML are you using? I&apos;m using Eclipse Juno 4.2.0 I20120518-2145, Papyrus 0.9.0.v201205250459 and org.eclipse.uml2 4.0.0.v20120521-0826.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2117636</commentid>
            <who name="Horacio Hoyos">arcanefoam@gmail.com</who>
            <bug_when>2012-06-01 09:44:15 -0400</bug_when>
            <thetext>Hi,

Eclipse Modeling Tools

Version: Indigo Service Release 2
Build id: 20120216-1857

Papyrus 0.8.2

I didn&apos;t attach a launch configuration :-O because in my workspace the mm, evl and model are in three different projects ...</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2117822</commentid>
            <who name="Horacio Hoyos">arcanefoam@gmail.com</who>
            <bug_when>2012-06-01 13:10:57 -0400</bug_when>
            <thetext>Ok, my bad. Seems the files I supplied are not enough for a minimal example. Let me work on this and provide a working group of files. Sorry for the inconvenience.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2118736</commentid>
            <who name="Horacio Hoyos">arcanefoam@gmail.com</who>
            <bug_when>2012-06-04 11:42:20 -0400</bug_when>
            <thetext>Hello,

For what I understood you have Papyrus installed, so I modified the model so that the metamodel is the one from the Papyrus plugin (metamodel is NOT file based). I attached the HiLeS profile and library which are imported by the model. I have attached a new zip with the project.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2118739</commentid>
              <attachid>216775</attachid>
            <who name="Horacio Hoyos">arcanefoam@gmail.com</who>
            <bug_when>2012-06-04 11:43:12 -0400</bug_when>
            <thetext>Created attachment 216775
Working project, metamodel NOT file based</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2240786</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-08 04:45:05 -0400</bug_when>
            <thetext>Fixed in the SVN - r2197</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249316</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-27 05:31:04 -0400</bug_when>
            <thetext>Fixed in the latest interim version (1.0.0.201304211529).</thetext>
          </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>216404</attachid>
            <date>2012-05-29 10:45:00 -0400</date>
            <delta_ts>2012-05-29 10:45:49 -0400</delta_ts>
            <desc>Model and evl files</desc>
            <filename>SugarCane.zip</filename>
            <type>application/x-zip-compressed</type>
            <size>116639</size>
            <attacher>arcanefoam@gmail.com</attacher>
            
              <token>1377789460-67700c0f7b2780bcf09953721c4e5df1</token>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>216634</attachid>
            <date>2012-06-01 05:48:00 -0400</date>
            <delta_ts>2012-06-01 05:48:33 -0400</delta_ts>
            <desc>Non-working project with shared run configuration</desc>
            <filename>bug-380910.zip</filename>
            <type>application/zip</type>
            <size>113002</size>
            <attacher>nyoescape@gmail.com</attacher>
            
              <token>1377789460-6fa8b1430be3f04ff8070a5074992fc0</token>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>216775</attachid>
            <date>2012-06-04 11:43:00 -0400</date>
            <delta_ts>2012-06-04 11:43:12 -0400</delta_ts>
            <desc>Working project, metamodel NOT file based</desc>
            <filename>bug380910.zip</filename>
            <type>application/x-zip-compressed</type>
            <size>45332</size>
            <attacher>arcanefoam@gmail.com</attacher>
            
              <token>1377789460-a8d443c3e3caa8a806d831a9f4e9afd2</token>

          </attachment>
      

    </bug>
    <bug>
          <bug_id>405001</bug_id>
          
          <creation_ts>2013-04-05 09:12:00 -0400</creation_ts>
          <short_desc>Enhancement: Introduce assertions for checking that some line of a file matches a certain expression</short_desc>
          <delta_ts>2013-04-27 05:30:44 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows 7</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>enhancement</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Patricia Fernández">patricia.fernandez.pardo@gmail.com</reporter>
          <assigned_to name="Antonio Garcia-Dominguez">nyoescape@gmail.com</assigned_to>
          <cc>dkolovos@cs.york.ac.uk</cc>
    
    <cc>nyoescape@gmail.com</cc>
          
          <votes>0</votes>

      
          <token>1377789460-a4b6c5dafc35dd145f25bea16a55ff28</token>

      

      

          <long_desc isprivate="0">
            <commentid>2240117</commentid>
            <who name="Patricia Fernández">patricia.fernandez.pardo@gmail.com</who>
            <bug_when>2013-04-05 09:12:04 -0400</bug_when>
            <thetext>Hello,

It would be great if you could introduce assertions for checking that some line of a file matches a certain regular expression. Example: 

Given a UML model, and going through a bunch of egl templates, I generate C# code. What I need to test is if the given classes from the model have name and if they don&apos;t, my template should throw an exception.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2240238</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2013-04-05 11:42:27 -0400</bug_when>
            <thetext>Hello Patricia,

I&apos;ve committed a fix in SVN r2182. You should be able to use something like this:

  assertMatchingLine(&quot;foo.cs&quot;, &quot;^ *class X *&quot;);

or this, if you prefer to have more verbose failure messages:

  assertMatchingLine(&quot;Must have class X somewhere in foo.cs&quot;, &quot;foo.cs&quot;, &quot;^ *class X *&quot;);

If it&apos;s OK, I&apos;ll update the documentation and the interim release within a day or two.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2240241</commentid>
            <who name="Patricia Fernández">patricia.fernandez.pardo@gmail.com</who>
            <bug_when>2013-04-05 11:46:41 -0400</bug_when>
            <thetext>It partially solves what I was looking for, thanks. But if I wanna test if a template throws an exception when it&apos;s supposed to, could I do it with that as well?</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2240272</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2013-04-05 12:31:39 -0400</bug_when>
            <thetext>assertMatchingLine is not intended for that, I&apos;m afraid. However, &quot;assertError(expr)&quot; might work for you in that case: if passes if an exception is thrown while evaluating &quot;expr&quot;, and fails otherwise. You could combine it with &quot;runTarget(&apos;runYourEGLScript&apos;)&quot;, like this:

  assertError(runTarget(&apos;runYourEGLScript&apos;));

That should fail only if the EGL script doesn&apos;t throw an exception. If that doesn&apos;t work for you, please open another bug report and we can continue our discussion over there.

Note: I&apos;ve updated the Epsilon Book in SVN r2183. I&apos;m currently updating the interim site.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2240274</commentid>
            <who name="Patricia Fernández">patricia.fernandez.pardo@gmail.com</who>
            <bug_when>2013-04-05 12:33:40 -0400</bug_when>
            <thetext>Perfect! Thank you so much for the help.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2240278</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2013-04-05 12:47:18 -0400</bug_when>
            <thetext>I&apos;ve updated the very-new interim site, in case you might want to try it:

http://download.eclipse.org/epsilon/interim-very-new/

This interim site has a few small issues, so we&apos;re still keeping the official interim site as it is. However, it should work for most people.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2240940</commentid>
            <who name="Patricia Fernández">patricia.fernandez.pardo@gmail.com</who>
            <bug_when>2013-04-08 09:44:02 -0400</bug_when>
            <thetext>Hello Antonio,

I&apos;m trying to use assertMatchingLine, but it doesn&apos;t work as expected:

My source file has the following line:
--&gt; \t\tpartial class Edge{
When I use assertMatchingLine:
FAILS:
* if I put &quot;^ *partial class Edge*&quot;
* if I put &quot;^ *partial class Edge{*&quot;
* if I put &quot;^ *\t\tpartial class Edge*&quot;
WORKS OK:
* if I edit the source file to:
--&gt; partial class Edge
(without the bracket at the end and without those two tabulators).

Could you please change that, if it&apos;s not too much to ask?

Thanks in advance.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2241100</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2013-04-08 13:43:05 -0400</bug_when>
            <thetext>(In reply to comment #6)
&gt; Could you please change that, if it&apos;s not too much to ask?
&gt; 
&gt; Thanks in advance.

Sorry! It seems the documentation didn&apos;t make this clear. The assertMatchingLine(...) method looks for a line that fully matches the regular expression passed to it, from start to finish. Essentially, it&apos;s like we added &quot;^&quot; and &quot;$&quot; to the regular expression, no matter what you did.

I&apos;ll add another assertion that checks for this. It will probably look like:

assertLineWithMatch([message,] file, regexp);</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2241104</commentid>
            <who name="Patricia Fernández">patricia.fernandez.pardo@gmail.com</who>
            <bug_when>2013-04-08 13:48:23 -0400</bug_when>
            <thetext>Ah! Alright, thanks for clearing it up. I will wait until you add that other assertion then. Thanks again for the help.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2241149</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2013-04-08 16:14:59 -0400</bug_when>
            <thetext>(In reply to comment #8)
&gt; Ah! Alright, thanks for clearing it up. I will wait until you add that other
&gt; assertion then. Thanks again for the help.

I&apos;ve added the assertLineWithMatch assertion in SVN r2201-2202, with the semantics I described above. This should work:

assertLineWithMatch(&quot;foo.cs&quot;, &quot;partial class Edge&quot;);

I&apos;ve updated the interim-very-new update site as well. Could you give it a try?</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2241497</commentid>
            <who name="Patricia Fernández">patricia.fernandez.pardo@gmail.com</who>
            <bug_when>2013-04-09 09:58:32 -0400</bug_when>
            <thetext>Hello Antonio,

I tried it and works great. Thanks!</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2241717</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2013-04-09 15:30:50 -0400</bug_when>
            <thetext>Marking as fixed, then :-).</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249315</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-27 05:30:44 -0400</bug_when>
            <thetext>Fixed in the latest interim version (1.0.0.201304211529).</thetext>
          </long_desc>
      
      

    </bug>
    <bug>
          <bug_id>404797</bug_id>
          
          <creation_ts>2013-04-03 06:15:00 -0400</creation_ts>
          <short_desc>Epsilon triggers major early startup loading</short_desc>
          <delta_ts>2013-04-27 05:29:44 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows Vista</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>major</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Ed Willink">ed@willink.me.uk</reporter>
          <assigned_to name="Louis Rose">louis@cs.york.ac.uk</assigned_to>
          <cc>dkolovos@cs.york.ac.uk</cc>
    
    <cc>louis@cs.york.ac.uk</cc>
          
          <votes>0</votes>

      
          <token>1377789460-613947447f67a4aed06b84e7e34fbb55</token>

      

      

          <long_desc isprivate="0">
            <commentid>2239061</commentid>
            <who name="Ed Willink">ed@willink.me.uk</who>
            <bug_when>2013-04-03 06:15:14 -0400</bug_when>
            <thetext>When starting a nested Eclipse with no editors open I see

Papyrus starting up an Xtext parse

because Epsilon performs a full registry extension point scan in

org.eclipse.epsilon.concordance.reporter.metamodel.EPackageRegistryCache.refreshCurrentRegistry()

which is activated from earlyStartup activation.

1) earlyStartup is very undesirable
2) total registry scans are very undesitable
[3) total registry scans must catch per element exceptions]

The full stack trace is:

Eclipse Application [Eclipse Application]	
	org.eclipse.equinox.launcher.Main at localhost:50847	
		Thread [Worker-1] (Suspended (breakpoint at line 1921 in org.eclipse.emf.ecore.util.BasicExtendedMetaData))	
			org.eclipse.emf.ecore.util.BasicExtendedMetaData.demandPackage(java.lang.String) line: 1921	
			org.eclipse.emf.ecore.util.BasicExtendedMetaData.demandFeature(java.lang.String, java.lang.String, boolean, boolean) line: 2016	
			org.eclipse.emf.ecore.util.BasicExtendedMetaData.demandFeature(java.lang.String, java.lang.String, boolean) line: 2011	
			org.eclipse.emf.ecore.xmi.impl.XMLContentHandlerImpl$1$1$1(org.eclipse.emf.ecore.xmi.impl.XMLHandler).handleTopLocations(java.lang.String, java.lang.String) line: 1763	
			org.eclipse.emf.ecore.xmi.impl.XMLContentHandlerImpl$1$1$1(org.eclipse.emf.ecore.xmi.impl.XMLHandler).createObjectByType(java.lang.String, java.lang.String, boolean) line: 1303	
			org.eclipse.emf.ecore.xmi.impl.XMLContentHandlerImpl$1$1$1(org.eclipse.emf.ecore.xmi.impl.XMLHandler).createTopObject(java.lang.String, java.lang.String) line: 1475	
			org.eclipse.emf.ecore.xmi.impl.XMLContentHandlerImpl$1$1$1(org.eclipse.emf.ecore.xmi.impl.XMLHandler).processElement(java.lang.String, java.lang.String, java.lang.String) line: 1026	
			org.eclipse.emf.ecore.xmi.impl.XMLContentHandlerImpl$1$1$1(org.eclipse.emf.ecore.xmi.impl.XMLHandler).startElement(java.lang.String, java.lang.String, java.lang.String) line: 1008	
			org.eclipse.emf.ecore.xmi.impl.XMLContentHandlerImpl$1$1$1(org.eclipse.emf.ecore.xmi.impl.XMLHandler).startElement(java.lang.String, java.lang.String, java.lang.String, org.xml.sax.Attributes) line: 719	
			org.eclipse.emf.ecore.xmi.impl.XMLContentHandlerImpl$1$1$1.startElement(java.lang.String, java.lang.String, java.lang.String, org.xml.sax.Attributes) line: 129	
			com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser(com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser).startElement(com.sun.org.apache.xerces.internal.xni.QName, com.sun.org.apache.xerces.internal.xni.XMLAttributes, com.sun.org.apache.xerces.internal.xni.Augmentations) line: 501	
			com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement() line: 400	
			com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl$NSContentDriver.scanRootElementHook() line: 626	
			com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl$NSContentDriver(com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver).next() line: 3104	
			com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next() line: 921	
			com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl(com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl).next() line: 647	
			com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next() line: 140	
			com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl(com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl).scanDocument(boolean) line: 511	
			com.sun.org.apache.xerces.internal.parsers.XIncludeAwareParserConfiguration(com.sun.org.apache.xerces.internal.parsers.XML11Configuration).parse(boolean) line: 808	
			com.sun.org.apache.xerces.internal.parsers.XIncludeAwareParserConfiguration(com.sun.org.apache.xerces.internal.parsers.XML11Configuration).parse(com.sun.org.apache.xerces.internal.xni.parser.XMLInputSource) line: 737	
			com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser(com.sun.org.apache.xerces.internal.parsers.XMLParser).parse(com.sun.org.apache.xerces.internal.xni.parser.XMLInputSource) line: 119	
			com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser(com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser).parse(org.xml.sax.InputSource) line: 1205	
			com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(org.xml.sax.InputSource) line: 522	
			com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl(javax.xml.parsers.SAXParser).parse(org.xml.sax.InputSource, org.xml.sax.helpers.DefaultHandler) line: 395	
			org.eclipse.emf.ecore.xmi.impl.XMLContentHandlerImpl$1$1(org.eclipse.emf.ecore.xmi.impl.XMLLoadImpl).load(org.eclipse.emf.ecore.xmi.XMLResource, java.io.InputStream, java.util.Map&lt;?,?&gt;) line: 175	
			org.eclipse.emf.ecore.xmi.impl.XMLContentHandlerImpl$1(org.eclipse.emf.ecore.xmi.impl.XMLResourceImpl).doLoad(java.io.InputStream, java.util.Map&lt;?,?&gt;) line: 259	
			org.eclipse.emf.ecore.xmi.impl.XMLContentHandlerImpl$1(org.eclipse.emf.ecore.resource.impl.ResourceImpl).load(java.io.InputStream, java.util.Map&lt;?,?&gt;) line: 1518	
			org.eclipse.emf.ecore.xmi.impl.XMLContentHandlerImpl$XMI(org.eclipse.emf.ecore.xmi.impl.XMLContentHandlerImpl).load(org.eclipse.emf.common.util.URI, java.io.InputStream, java.util.Map&lt;?,?&gt;, java.util.Map&lt;java.lang.Object,java.lang.Object&gt;) line: 205	
			org.eclipse.emf.ecore.xmi.impl.XMLContentHandlerImpl$XMI.contentDescription(org.eclipse.emf.common.util.URI, java.io.InputStream, java.util.Map&lt;?,?&gt;, java.util.Map&lt;java.lang.Object,java.lang.Object&gt;) line: 240	
			org.eclipse.emf.ecore.xmi.impl.XMLContentHandlerImpl$XMI$Describer(org.eclipse.emf.ecore.resource.impl.ContentHandlerImpl$Describer).describe(java.io.InputStream, org.eclipse.core.runtime.content.IContentDescription) line: 366	
			org.eclipse.core.internal.content.ContentTypeCatalog.describe(org.eclipse.core.internal.content.ContentType, org.eclipse.core.internal.content.ILazySource, org.eclipse.core.internal.content.ContentDescription, java.util.Map) line: 218	
			org.eclipse.core.internal.content.ContentTypeCatalog.collectMatchingByContents(int, org.eclipse.core.runtime.content.IContentType[], java.util.List, org.eclipse.core.internal.content.ILazySource, java.util.Map) line: 190	
			org.eclipse.core.internal.content.ContentTypeCatalog.internalFindContentTypesFor(org.eclipse.core.internal.content.ILazySource, org.eclipse.core.runtime.content.IContentType[][], java.util.Comparator, java.util.Comparator) line: 403	
			org.eclipse.core.internal.content.ContentTypeCatalog.internalFindContentTypesFor(org.eclipse.core.internal.content.ContentTypeMatcher, org.eclipse.core.internal.content.ILazySource, java.lang.String, boolean) line: 450	
			org.eclipse.core.internal.content.ContentTypeCatalog.getDescriptionFor(org.eclipse.core.internal.content.ContentTypeMatcher, org.eclipse.core.internal.content.ILazySource, java.lang.String, org.eclipse.core.runtime.QualifiedName[]) line: 346	
			org.eclipse.core.internal.content.ContentTypeCatalog.getDescriptionFor(org.eclipse.core.internal.content.ContentTypeMatcher, java.io.InputStream, java.lang.String, org.eclipse.core.runtime.QualifiedName[]) line: 360	
			org.eclipse.core.internal.content.ContentTypeManager(org.eclipse.core.internal.content.ContentTypeMatcher).getDescriptionFor(java.io.InputStream, java.lang.String, org.eclipse.core.runtime.QualifiedName[]) line: 86	
			org.eclipse.emf.ecore.resource.impl.PlatformContentHandlerImpl.contentDescription(org.eclipse.emf.common.util.URI, java.io.InputStream, java.util.Map&lt;?,?&gt;, java.util.Map&lt;java.lang.Object,java.lang.Object&gt;) line: 97	
			org.eclipse.emf.ecore.resource.impl.FileURIHandlerImpl(org.eclipse.emf.ecore.resource.impl.URIHandlerImpl).contentDescription(org.eclipse.emf.common.util.URI, java.util.Map&lt;?,?&gt;) line: 261	
			org.eclipse.emf.ecore.resource.impl.ExtensibleURIConverterImpl.contentDescription(org.eclipse.emf.common.util.URI, java.util.Map&lt;?,?&gt;) line: 372	
			org.eclipse.emf.ecore.resource.impl.ResourceSetImpl$2(org.eclipse.emf.ecore.resource.impl.ResourceFactoryRegistryImpl).getContentTypeIdentifier(org.eclipse.emf.common.util.URI) line: 157	
			org.eclipse.emf.ecore.resource.impl.ResourceSetImpl$2(org.eclipse.emf.ecore.resource.impl.ResourceFactoryRegistryImpl).getFactory(org.eclipse.emf.common.util.URI, java.util.Map&lt;java.lang.String,java.lang.Object&gt;, java.util.Map&lt;java.lang.String,java.lang.Object&gt;, java.util.Map&lt;java.lang.String,java.lang.Object&gt;, java.lang.String, boolean) line: 123	
			org.eclipse.emf.ecore.resource.impl.ResourceSetImpl$2.delegatedGetFactory(org.eclipse.emf.common.util.URI, java.lang.String) line: 459	
			org.eclipse.emf.ecore.resource.impl.ResourceSetImpl$2(org.eclipse.emf.ecore.resource.impl.ResourceFactoryRegistryImpl).getFactory(org.eclipse.emf.common.util.URI, java.util.Map&lt;java.lang.String,java.lang.Object&gt;, java.util.Map&lt;java.lang.String,java.lang.Object&gt;, java.util.Map&lt;java.lang.String,java.lang.Object&gt;, java.lang.String, boolean) line: 144	
			org.eclipse.emf.ecore.resource.impl.ResourceSetImpl$2(org.eclipse.emf.ecore.resource.impl.ResourceFactoryRegistryImpl).getFactory(org.eclipse.emf.common.util.URI, java.lang.String) line: 85	
			org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.createResource(org.eclipse.emf.common.util.URI, java.lang.String) line: 431	
			org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.demandCreateResource(org.eclipse.emf.common.util.URI) line: 243	
			org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.getResource(org.eclipse.emf.common.util.URI, boolean) line: 400	
			org.eclipse.papyrus.infra.emf.utils.EMFHelper.loadEMFModel(org.eclipse.emf.ecore.resource.ResourceSet, org.eclipse.emf.common.util.URI) line: 304	
			org.eclipse.papyrus.uml.properties.preferences.LanguageRegistry.&lt;init&gt;() line: 57	
			org.eclipse.papyrus.uml.properties.preferences.LanguageRegistry.&lt;clinit&gt;() line: 46	
			org.eclipse.papyrus.uml.properties.extensionpoint.LanguageEditorExtensionPoint.&lt;init&gt;() line: 48	
			org.eclipse.papyrus.uml.properties.Activator.start(org.osgi.framework.BundleContext) line: 52	
			org.eclipse.osgi.framework.internal.core.BundleContextImpl$1.run() line: 711	
			java.security.AccessController.doPrivileged(java.security.PrivilegedExceptionAction&lt;T&gt;) line: not available [native method]	
			org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(org.osgi.framework.BundleActivator) line: 702	
			org.eclipse.osgi.framework.internal.core.BundleContextImpl.start() line: 683	
			org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(int) line: 381	
			org.eclipse.osgi.framework.internal.core.BundleHost(org.eclipse.osgi.framework.internal.core.AbstractBundle).start(int) line: 300	
			org.eclipse.osgi.framework.util.SecureAction.start(org.osgi.framework.Bundle, int) line: 440	
			org.eclipse.osgi.internal.loader.BundleLoader.setLazyTrigger() line: 263	
			org.eclipse.core.runtime.internal.adaptor.EclipseLazyStarter.postFindLocalClass(java.lang.String, java.lang.Class&lt;?&gt;, org.eclipse.osgi.baseadaptor.loader.ClasspathManager) line: 107	
			org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass(java.lang.String) line: 469	
			org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass(java.lang.String) line: 224	
			org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(java.lang.String) line: 395	
			org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(java.lang.String, boolean, java.lang.ClassLoader) line: 464	
			org.eclipse.osgi.internal.loader.BundleLoader.findClass(java.lang.String, boolean) line: 421	
			org.eclipse.osgi.internal.loader.BundleLoader.findClass(java.lang.String) line: 412	
			org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(java.lang.String, boolean) line: 107	
			org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader(java.lang.ClassLoader).loadClass(java.lang.String) line: 247	
			org.eclipse.osgi.internal.loader.BundleLoader.loadClass(java.lang.String) line: 340	
			org.eclipse.osgi.framework.internal.core.BundleHost.loadClass(java.lang.String, boolean) line: 229	
			org.eclipse.osgi.framework.internal.core.BundleHost(org.eclipse.osgi.framework.internal.core.AbstractBundle).loadClass(java.lang.String) line: 1212	
			org.eclipse.emf.common.CommonPlugin$Implementation.loadClass(java.lang.String, java.lang.String) line: 254	
			org.eclipse.emf.common.CommonPlugin.loadClass(java.lang.String, java.lang.String) line: 96	
			org.eclipse.emf.ecore.plugin.RegistryReader$EPackageDescriptor.getEPackage() line: 271	
			org.eclipse.emf.ecore.impl.EPackageRegistryImpl.getEPackage(java.lang.String) line: 127	
			org.eclipse.epsilon.concordance.reporter.metamodel.EPackageRegistryCache.getEPackage(java.lang.String) line: 121	
			org.eclipse.epsilon.concordance.reporter.metamodel.EPackageRegistryCache.refreshCurrentRegistry() line: 114	
			org.eclipse.epsilon.concordance.reporter.metamodel.EPackageRegistryCache.&lt;init&gt;() line: 37	
			org.eclipse.epsilon.concordance.reporter.metamodel.MetamodelChangeReporter.&lt;init&gt;(org.eclipse.epsilon.concordance.reporter.metamodel.MetamodelChangeListener...) line: 25	
			org.eclipse.epsilon.concordance.dt.ConcordanceStartup.&lt;init&gt;() line: 31	
			sun.reflect.NativeConstructorAccessorImpl.newInstance0(java.lang.reflect.Constructor, java.lang.Object[]) line: not available [native method]	
			sun.reflect.NativeConstructorAccessorImpl.newInstance(java.lang.Object[]) line: 39	
			sun.reflect.DelegatingConstructorAccessorImpl.newInstance(java.lang.Object[]) line: 27	
			java.lang.reflect.Constructor&lt;T&gt;.newInstance(java.lang.Object...) line: 513	
			java.lang.Class&lt;T&gt;.newInstance0() line: 357	
			java.lang.Class&lt;T&gt;.newInstance() line: 310	
			org.eclipse.core.internal.registry.osgi.EquinoxRegistryStrategy(org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI).createExecutableExtension(org.eclipse.core.runtime.spi.RegistryContributor, java.lang.String, java.lang.String) line: 184	
			org.eclipse.core.internal.registry.ExtensionRegistry.createExecutableExtension(org.eclipse.core.runtime.spi.RegistryContributor, java.lang.String, java.lang.String) line: 905	
			org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension(java.lang.String) line: 243	
			org.eclipse.core.internal.registry.ConfigurationElementHandle.createExecutableExtension(java.lang.String) line: 55	
			org.eclipse.ui.internal.WorkbenchPlugin$1.run() line: 279	
			org.eclipse.swt.custom.BusyIndicator.showWhile(org.eclipse.swt.widgets.Display, java.lang.Runnable) line: 52	
			org.eclipse.ui.internal.WorkbenchPlugin.createExtension(org.eclipse.core.runtime.IConfigurationElement, java.lang.String) line: 275	
			org.eclipse.ui.internal.EarlyStartupRunnable.getExecutableExtension(org.eclipse.core.runtime.IConfigurationElement) line: 117	
			org.eclipse.ui.internal.EarlyStartupRunnable.run() line: 66	
			org.eclipse.core.runtime.SafeRunner.run(org.eclipse.core.runtime.ISafeRunnable) line: 42	
			org.eclipse.ui.internal.Workbench$55.run(org.eclipse.core.runtime.IProgressMonitor) line: 2518	
			org.eclipse.core.internal.jobs.Worker.run() line: 53	
		Daemon Thread [Java indexing] (Running)	
		Daemon Thread [H2 Log Writer H2DB] (Running)	
		Daemon Thread [H2 File Lock Watchdog C:\Development\Hart\runtime-EclipseApplication\.metadata\.plugins\org.eclipse.epsilon.concordance.core\h2db.lock.db] (Running)	
		Daemon Thread [[ThreadPool Manager] - Idle Thread] (Running)	
		Daemon Thread [com.google.inject.internal.util.$Finalizer] (Running)	
		Thread [Worker-6] (Running)	
	C:\Program Files\Java\jdk1.6.0_43\bin\javaw.exe (3 Apr 2013 11:05:35)</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2239089</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-03 07:51:38 -0400</bug_when>
            <thetext>Thanks for reporting this. I&apos;ve CC&apos;ed Louis and we&apos;ll discuss potential solutions when he&apos;s back from vacation.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2243874</commentid>
            <who name="Louis Rose">louis@cs.york.ac.uk</who>
            <bug_when>2013-04-15 11:41:31 -0400</bug_when>
            <thetext>Thanks for this -- an important issue!

I&apos;ve changed Concordance such that scanning the EPackage registry only occurs when a user&apos;s workspace contains at least one project that has the Concordance nature. This should mean that most Epsilon users will now experience almost no activity caused by Concordance during workspace startup.

Longer term, I&apos;d also like to move away from polling the EPackage registry for changes but I suspect this requires changes to EMF (to support change notifications).

I&apos;ve also ensured that Concordance&apos;s EPackageRegistryCache catches unchecked exception that might arise when visiting an element of the EPakcage registry, so that we more gracefully handle exceptions like the one that Ed has reported.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2243895</commentid>
            <who name="Louis Rose">louis@cs.york.ac.uk</who>
            <bug_when>2013-04-15 11:43:13 -0400</bug_when>
            <thetext>Checked into SVN, r2206.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2243982</commentid>
            <who name="Ed Willink">ed@willink.me.uk</who>
            <bug_when>2013-04-15 13:00:12 -0400</bug_when>
            <thetext>(In reply to comment #2)
&gt; Longer term, I&apos;d also like to move away from polling the EPackage registry
&gt; for changes but I suspect this requires changes to EMF (to support change
&gt; notifications).

I don&apos;t think EMF needs a change.

If you&apos;re clever you will use your classpath rather than the EMF Registry as your primary location mechanism and so avoid de-delegating irrelevant projects.

IMHO a total EMF Registry scan should only be used interactively as part of e.g. a content assist in which a SearchEverywhere rather than SearchClassPath option has been selected. Specifically; running a developed transformation should not do a total scan.

EMF has a change mechanism, ModificationTrackingAdapter that you can install. It&apos;s expensive.

Xtext/MWE has another expensive mechanism that it may be best to reuse rather than duplicate.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249313</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-27 05:29:44 -0400</bug_when>
            <thetext>Fixed in the latest interim version (1.0.0.201304211529).</thetext>
          </long_desc>
      
      

    </bug>
    <bug>
          <bug_id>292132</bug_id>
          
          <creation_ts>2009-10-13 07:03:00 -0400</creation_ts>
          <short_desc>multiline comment not colouring text in EGL</short_desc>
          <delta_ts>2013-04-27 05:27:17 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows XP</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>trivial</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Darren">d.clowes@lboro.ac.uk</reporter>
          <assigned_to name="Louis Rose">louis@cs.york.ac.uk</assigned_to>
          <cc>dkolovos@cs.york.ac.uk</cc>
    
    <cc>louis@cs.york.ac.uk</cc>
    
    <cc>nyoescape@gmail.com</cc>
          
          <votes>0</votes>

      
          <token>1377789460-3dbee0e556f424f51daf3856ef82df9f</token>

      

      

          <long_desc isprivate="0">
            <commentid>1609808</commentid>
            <who name="Darren">d.clowes@lboro.ac.uk</who>
            <bug_when>2009-10-13 07:03:09 -0400</bug_when>
            <thetext>User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.1; en-GB; rv:1.9.1.3) Gecko/20090824 Firefox/3.5.3 (.NET CLR 3.5.30729)
Build Identifier: SVN build dated 12th October 2009

multiline comment not colouring text in EGL

single line comment in EGL -- colors text
multiline -* *- does not.

It does work in EOL however.

Reproducible: Always

Steps to Reproduce:
1. Open EGL
2. enter any text 
3. comment text using -* and *-</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>1609813</commentid>
            <who name="Darren">d.clowes@lboro.ac.uk</who>
            <bug_when>2009-10-13 07:20:04 -0400</bug_when>
            <thetext>I have an old EGL file where this works but if I start a new EGL file and enter:

[%
operation test(){
	var y=1;
	y = y+1;
	out.print(y);
}
%]

then add -* and *- it does not.

[%
operation test(){
-*
	var y=1;
	y = y+1;
	out.print(y);
*-
}
%]

Or
[%
-*
operation test(){
	var y=1;
	y = y+1;
	out.print(y);
}
*-
%]</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>1996239</commentid>
            <who name="Louis Rose">louis@cs.york.ac.uk</who>
            <bug_when>2011-09-20 04:31:55 -0400</bug_when>
            <thetext>I&apos;ve noticed problems with this lately too. Will take a look...</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>1996343</commentid>
            <who name="Louis Rose">louis@cs.york.ac.uk</who>
            <bug_when>2011-09-20 07:37:17 -0400</bug_when>
            <thetext>I can recreate the problem, but I&apos;m not sure how to fix it. We maybe need a nested DocumentProvider or PartitionScanner...

Dimitris / Antonio: Are either of you available and willing to pair on this for an hour in the first week of October?</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>1996864</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2011-09-20 16:05:13 -0400</bug_when>
            <thetext>(In reply to comment #3)
&gt; I can recreate the problem, but I&apos;m not sure how to fix it. We maybe need a
&gt; nested DocumentProvider or PartitionScanner...
&gt; 
&gt; Dimitris / Antonio: Are either of you available and willing to pair on this for
&gt; an hour in the first week of October?

Sorry, I don&apos;t think I&apos;ll have much time on that week, and I&apos;m not that familiar with the code involved :-/.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>1998642</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2011-09-23 03:55:51 -0400</bug_when>
            <thetext>It&apos;s been a really long time since I last touched this code but let&apos;s give it a go.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2240864</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-08 07:38:41 -0400</bug_when>
            <thetext>Fixed in the SVN - r2198</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249311</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-27 05:27:17 -0400</bug_when>
            <thetext>Fixed in the latest interim version (1.0.0.201304211529).</thetext>
          </long_desc>
      
      

    </bug>
    <bug>
          <bug_id>295410</bug_id>
          
          <creation_ts>2009-11-17 22:47:00 -0500</creation_ts>
          <short_desc>Eugenia: When two @gmf.nodes have same tool.name, gmfmap is not generated and no error message</short_desc>
          <delta_ts>2013-04-27 05:26:33 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows XP</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Christoph Wienands">cwienands@gmx.net</reporter>
          <assigned_to name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</assigned_to>
          <cc>mrbcuda@mac.com</cc>
          
          <votes>0</votes>

      
          <token>1377789460-c627344794d1a43b6cdc231ab082f117</token>

      

      

          <long_desc isprivate="0">
            <commentid>1629881</commentid>
            <who name="Christoph Wienands">cwienands@gmx.net</who>
            <bug_when>2009-11-17 22:47:47 -0500</bug_when>
            <thetext>I just found out after long try-and-error that Eugenia does not generate the gmfmap file and also does not generate any error messages when two @gmf.nodes have the same value for their respective tool.name attribute.

Since duplicate tool names are not allowed (I assume), the expected behavior for Eugenia is to show an error message and refuse generation of gmf artifacts at all (as it is, it generates gmfgraph and gmftool but not gmfmap).

Greetings, Christoph</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>1630232</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2009-11-18 11:35:35 -0500</bug_when>
            <thetext>Thanks for reporting this! There are actually many things that can go wrong with EuGENia annotations (e.g. one may forget to specify a label for a node, mistype something etc.). We&apos;re working on specifying validation constraints that will detect these errors and produce sensible error messages before trying to generate the .gmfxxx models. This should be available on 0.8.9.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>1847764</commentid>
            <who name="Matt Barry">mrbcuda@mac.com</who>
            <bug_when>2010-11-24 14:24:04 -0500</bug_when>
            <thetext> (In reply to comment #0)
&gt; I just found out after long try-and-error that Eugenia does not generate the
&gt; gmfmap file and also does not generate any error messages when two @gmf.nodes
&gt; have the same value for their respective tool.name attribute.
&gt; 
&gt; Since duplicate tool names are not allowed (I assume), the expected behavior
&gt; for Eugenia is to show an error message and refuse generation of gmf artifacts
&gt; at all (as it is, it generates gmfgraph and gmftool but not gmfmap).
&gt; 
&gt; Greetings, Christoph

Hurray, this report saved me a few more hours of head scratching.  Thanks.  
Matt</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2240955</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-08 09:58:31 -0400</bug_when>
            <thetext>This appears to have been fixed somewhere along the way (e.g. the following metamodel works fine)

---
@namespace(uri=&quot;sametoolname&quot;, prefix=&quot;&quot;)
package sametoolname;

@gmf.diagram
class Model {
	val Object[*] objects;	
}

@gmf.node(label=&quot;name&quot;, tool.name=&quot;Object&quot;)
class Object {
	attr String name;
}

@gmf.node(tool.name=&quot;Object&quot;)
class SubObject extends Object {
   
}
---
Closing as fixed but please feel free to reopen if needed.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249309</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-27 05:26:33 -0400</bug_when>
            <thetext>Fixed in the latest interim version (1.0.0.201304211529).</thetext>
          </long_desc>
      
      

    </bug>
    <bug>
          <bug_id>344134</bug_id>
          
          <creation_ts>2011-04-28 10:28:00 -0400</creation_ts>
          <short_desc>org.hamcrest.matchers bundles source and class files in same directory</short_desc>
          <delta_ts>2013-04-27 05:25:48 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Mac OS X - Carbon (unsup.)</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>minor</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Louis Rose">louis@cs.york.ac.uk</reporter>
          <assigned_to name="Louis Rose">louis@cs.york.ac.uk</assigned_to>
          <cc>dkolovos@cs.york.ac.uk</cc>
    
    <cc>nyoescape@gmail.com</cc>
          
          <votes>0</votes>

      
          <token>1377789460-b014bd77f18b9f7e07f6549c5570d01e</token>

      

      

          <long_desc isprivate="0">
            <commentid>1920586</commentid>
            <who name="Louis Rose">louis@cs.york.ac.uk</who>
            <bug_when>2011-04-28 10:28:38 -0400</bug_when>
            <thetext>From Antonio by email:

&quot;org.hamcrest.matchers_1.2 is a bit confusing: it seems to have both binary and source versions mixed up in the same directories, and the unit tests are throwing a fit with finding two compiled versions of the same class.

Shouldn&apos;t we either build the .class files from sources, or just distribute the included .class files? Doing both seems a bit confusing to me.&quot;</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>1920587</commentid>
            <who name="Louis Rose">louis@cs.york.ac.uk</who>
            <bug_when>2011-04-28 10:30:08 -0400</bug_when>
            <thetext>This shouldn&apos;t be a problem, as long as org.hamcrest.matchers appears above org.junit in the plug-in dependencies of org.eclipse.epsilon.test.dependencies: JUnit has, for a while, shipped with a version of Hamcrest. However, Helios bundles quite an old version of JUnit+Hamcrest, which lacks a lot of useful features, so we use Hamcrest 1.2 and put it before the JUnit dependency.

I&apos;m hoping that Indigo will include a more recent version of JUnit+Hamcrest, and then we won&apos;t need to keep our own copy of Hamcrest in our SVN. Given that we might be able to delete our copy of Hamcrest soon, I think that we don&apos;t need to clean our Hamcrest project right now. We can either delete it or clean it after Indigo is released.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2240771</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-08 04:12:09 -0400</bug_when>
            <thetext>Hamcrest is used mainly in the test projects. The only non-test code where it appears to be used is EmfMetamodelDirectory in the the hutn.dt plugin. 

I haven&apos;t looked at the code there too closely but it would seem fairly straightforward to replace the Hamcrest calls with Hamcresst-independent code. If we do this, we can move hamcrest under the /test directory in the SVN and remove it from the binary distribution.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2244243</commentid>
            <who name="Louis Rose">louis@cs.york.ac.uk</who>
            <bug_when>2013-04-16 07:51:40 -0400</bug_when>
            <thetext>I&apos;ve fixed this in r2207: HUTN&apos;s development tools plugin (and feature) no longer depend on Hamcrest. I&apos;ve moved the org.hamcrest.matchers_1.2 directory under the tests directory.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249308</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-27 05:25:48 -0400</bug_when>
            <thetext>Fixed in the latest interim version (1.0.0.201304211529).</thetext>
          </long_desc>
      
      

    </bug>
    <bug>
          <bug_id>286385</bug_id>
          
          <creation_ts>2009-08-12 08:48:00 -0400</creation_ts>
          <short_desc>$pre / $post annotations are mistaken for ERL pre / post blocks by ERL parser</short_desc>
          <delta_ts>2013-04-27 05:24:37 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Mac OS X - Carbon (unsup.)</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Louis Rose">louis@cs.york.ac.uk</reporter>
          <assigned_to name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</assigned_to>
          <cc>nyoescape@gmail.com</cc>
          
          <votes>0</votes>

      
          <token>1377789460-db927d330eeec77208e29a4e1fc2ebfc</token>

      

      

          <long_desc isprivate="0">
            <commentid>1568770</commentid>
            <who name="Louis Rose">louis@cs.york.ac.uk</who>
            <bug_when>2009-08-12 08:48:04 -0400</bug_when>
            <thetext>From Antonio García Domínguez, via:
http://www.eclipse.org/forums/index.php?t=msg&amp;th=152271&amp;start=0&amp;S=4f777a7e47b1300054d73e4b10991b8c

Hello everyone,

I tried adding a precondition executable annotation to an operation
which I&apos;d use as part of an EVL module, and ran into some problems.

For instance, the canonical example from the Epsilon book shows several
parsing errors:

$pre i &gt; 0 &lt;-- **here**
$post _result &gt; self &lt;- **and here**
operation Integer add(i : Integer) : Integer {
  return self + i;
}

I&apos;ve been poking around the grammar files and EVL files can contain
annotationBlock symbols, which are formed by one or more annotations,
which can be either Annotations (@likethis) or executableAnnotations
(the $pre and $post lines in the previous example, if I&apos;m not mistaken).

However, Evl.g also imports the ErlParserRules.g, which define the pre
and post named blocks like this:

pre
	:	p=&apos;pre&apos;^ NAME? statementBlock
	{$p.setType(PRE);}
	;

post
	:	p=&apos;post&apos;^ NAME? statementBlock
	{$p.setType(POST);}
	;

I don&apos;t know much about ANTLR (I have only used JavaCC and flex/bison),
but from what I&apos;ve been able to debug, it seems that the lexer processes
the &apos;pre&apos; as the ERL &apos;pre&apos;: it goes to EvlLexer#mT__131, which contains
a &apos;match(&quot;pre&quot;);&apos; line, instead of Evl_EolLexerRules#mNAME.

However, the scanner does use the executableAnnotation rule, but since
there&apos;s the wrong token in the stream, it reports a parse error.

If I change it to this, it works, but obviously they&apos;re not interpreted
as preconditions and postconditions anymore:

$Pre i &gt; 0
$Post _result &gt; self
operation Integer add(i : Integer) : Integer {
  return self + i;
}

This also parses correctly:

pre { i &gt; 0; }
post { _result &gt; self; }
operation Integer add(i : Integer) : Integer {
  return self + i;
}

I&apos;m not sure how to deal with this problem. Perhaps we could change the
name for the precondition and postcondition executable annotations to
$requires and $ensures, as in JML, or simply $Pre and $Post? However,
the &quot;$pre ...&quot; syntax would still fail, though it&apos;s valid, according to
the documentation. :-/

Regards,
Antonio</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>1568775</commentid>
            <who name="Louis Rose">louis@cs.york.ac.uk</who>
            <bug_when>2009-08-12 08:51:24 -0400</bug_when>
            <thetext>I&apos;m afraid I wasn&apos;t able to fix this one Dimitris, would you take a look?

I have added a couple of acceptance tests to org.eclipse.epsilon.eol.engine.test.acceptance for operations annotated with $pre in EOL. These currently pass. I couldn&apos;t figure out how to write a similar test for EVL - I think perhaps EUnitModule only supports EOL at the moment?</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>1568791</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2009-08-12 09:08:36 -0400</bug_when>
            <thetext>This is a conflict that we&apos;ll have to resolve in the next version. In the meantime you can use the following workaround:

$&quot;pre&quot; i &gt; 0 &lt;-- **here**
$&quot;post&quot; _result &gt; self &lt;- **and here**
operation Integer add(i : Integer) : Integer {
  return self + i;
}

or place your operations in a separate .eol file and import it from your .evl module using the import statement.
</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>1568892</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2009-08-12 10:17:41 -0400</bug_when>
            <thetext>Both workarounds do the job perfectly. Thanks!</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>1572505</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2009-08-18 07:49:17 -0400</bug_when>
            <thetext>Will stick to the workaround for 0.8.7 and put this in the 0.8.8 todo list for fixing.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>1624370</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2009-11-08 14:46:17 -0500</bug_when>
            <thetext>Somehow, even the $&quot;pre&quot; and $&quot;post&quot; workarounds stopped working with the latest interim release (0.8.8.200911040608). Guess I&apos;ll have to drop those checks or use assertions for the time being :-/.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>1624372</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2009-11-08 14:56:51 -0500</bug_when>
            <thetext>In fact, things like $&quot;pre&quot; produce parsing errors on EOL files. I guess this comes from the same change which turned things like x.&quot;a&quot; into syntax errors, right? That is, NAME cannot contain double quotes anymore.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>1624377</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2009-11-08 15:46:54 -0500</bug_when>
            <thetext>Apologies for breaking your code. In 0.8.8 we introduced &quot; &quot; for string literals (see http://www.eclipse.org/gmt/epsilon/doc/articles/eol-syntax-updates/ for more updates) and changed to ` ` for reserved words and other non-standard identifiers/properties. Changing your $&quot;pre&quot; to $`pre` should get it running once again.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2244722</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-17 07:42:57 -0400</bug_when>
            <thetext>Fixed properly (no `` required any more) in the SVN - r2210</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249306</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-27 05:24:37 -0400</bug_when>
            <thetext>Fixed in the latest interim version (1.0.0.201304211529).</thetext>
          </long_desc>
      
      

    </bug>
    <bug>
          <bug_id>288339</bug_id>
          
          <creation_ts>2009-09-02 06:43:00 -0400</creation_ts>
          <short_desc>Storing model using eol script creates Exceptions</short_desc>
          <delta_ts>2013-04-27 05:23:35 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows XP</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="nikos">nikos@cs.york.ac.uk</reporter>
          <assigned_to name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</assigned_to>
          
          
          <votes>0</votes>

      
          <token>1377789461-f79bd9a50ac93f8579345cc51a2e644f</token>

      

      

          <long_desc isprivate="0">
            <commentid>1588941</commentid>
              <attachid>146270</attachid>
            <who name="nikos">nikos@cs.york.ac.uk</who>
            <bug_when>2009-09-02 06:43:05 -0400</bug_when>
            <thetext>Created attachment 146270
Models_and_LaunchConfiguration

I have 2 models: ClassModel and InstanceModel1. InstanceModel1 has a reference
to ClassModel. When I run the simple attached eol script using the attached
launch configuration I get the following exceptions:

java.lang.NullPointerException at
org.eclipse.epsilon.eol.exceptions.EolIllegalPropertyException.getReason(EolIllegalPropertyException.java:50)
at
org.eclipse.epsilon.eol.exceptions.EolRuntimeException.getMessage(EolRuntimeException.java:65)
at
org.eclipse.epsilon.eol.exceptions.EolRuntimeException.toString(EolRuntimeException.java:81)
at java.lang.String.valueOf(Unknown Source)
at java.io.PrintStream.println(Unknown Source)
at java.lang.Throwable.printStackTrace(Throwable.java:461)
at java.lang.Throwable.printStackTrace(Throwable.java:451)
at
org.eclipse.epsilon.eol.dt.launching.EolLaunchConfigurationDelegate.launch(EolLaunchConfigurationDelegate.java:101)
at
org.eclipse.debug.internal.core.LaunchConfiguration.launch(LaunchConfiguration.java:853)
at
org.eclipse.debug.internal.core.LaunchConfiguration.launch(LaunchConfiguration.java:703)
at
org.eclipse.debug.internal.ui.DebugUIPlugin.buildAndLaunch(DebugUIPlugin.java:866)
at org.eclipse.debug.internal.ui.DebugUIPlugin$8.run(DebugUIPlugin.java:1069)
at org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2244727</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-17 07:53:56 -0400</bug_when>
            <thetext>This seems to be working fine now (possibly due to commit 1994 from Louis).</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2249304</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-04-27 05:23:35 -0400</bug_when>
            <thetext>Fixed in the latest interim version (1.0.0.201304211529).</thetext>
          </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>146270</attachid>
            <date>2009-09-02 06:43:00 -0400</date>
            <delta_ts>2009-09-02 06:43:05 -0400</delta_ts>
            <desc>Models_and_LaunchConfiguration</desc>
            <filename>Bug.zip</filename>
            <type>application/zip</type>
            <size>3765</size>
            <attacher>nikos@cs.york.ac.uk</attacher>
            
              <token>1377789461-bc44e94af4253d60c513a80a1cc47e2b</token>

          </attachment>
      

    </bug>
    <bug>
          <bug_id>397658</bug_id>
          
          <creation_ts>2013-01-08 06:09:00 -0500</creation_ts>
          <short_desc>[HUTN] Null values cause exception when generating model</short_desc>
          <delta_ts>2013-01-24 18:40:33 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Mac OS X</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Louis Rose">louis@cs.york.ac.uk</reporter>
          <assigned_to name="Louis Rose">louis@cs.york.ac.uk</assigned_to>
          <cc>dkolovos@cs.york.ac.uk</cc>
          
          <votes>0</votes>

      
          <token>1377789461-28bc0a243d01b604beb612d6a8ba8ad1</token>

      

      

          <long_desc isprivate="0">
            <commentid>2200065</commentid>
            <who name="Louis Rose">louis@cs.york.ac.uk</who>
            <bug_when>2013-01-08 06:09:36 -0500</bug_when>
            <thetext>Specifying null as the value for a slot causes HUTN to throw an exception when generating a model.

Family {
  name: null
}

Generating a model from the above HUTN results in the following exception:

org.eclipse.epsilon.hutn.exceptions.HutnTranslationException: Method &apos;getValue&apos; not found for: org.eclipse.epsilon.hutn.model.hutnAntlrAst.impl.NullNodeImpl@34fe315d [text: null, line: 1, column: 117] (/Users/louis/Code/Work/epsilon/juno/epsilon-workspace/epsilon-repository/plugins/org.eclipse.epsilon.hutn.engine/bin/org/eclipse/epsilon/hutn/translate/AntlrAst2Intermediate.etl@284:46)</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2200066</commentid>
            <who name="Louis Rose">louis@cs.york.ac.uk</who>
            <bug_when>2013-01-08 06:11:07 -0500</bug_when>
            <thetext>I&apos;ve changed the way in which HUTN process null values. Previously, we tried to create a slot and add &quot;null&quot; to that slot. Given the way that null is used in the HUTN grammar, I think it makes more sense to simply not create a slot when a null value is encountered.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2200070</commentid>
            <who name="Louis Rose">louis@cs.york.ac.uk</who>
            <bug_when>2013-01-08 06:15:09 -0500</bug_when>
            <thetext>Checked into SVN.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2207424</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-01-24 18:40:33 -0500</bug_when>
            <thetext>Fixed in the latest interim version</thetext>
          </long_desc>
      
      

    </bug>
    <bug>
          <bug_id>338193</bug_id>
          
          <creation_ts>2011-02-25 05:18:00 -0500</creation_ts>
          <short_desc>Backwards incompatible changes to print, println, err, end errln</short_desc>
          <delta_ts>2013-01-24 18:40:22 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Mac OS X - Carbon (unsup.)</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</reporter>
          <assigned_to name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</assigned_to>
          
          
          <votes>0</votes>

      
          <token>1377789461-89f8d833bb6987bd820b383ffbd7b2a2</token>

      

      

          <long_desc isprivate="0">
            <commentid>1889049</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2011-02-25 05:18:43 -0500</bug_when>
            <thetext>In previous versions the prefix and suffix parameters in printing functions used to be objects but they are now strings and this breaks existing code.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2197160</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2012-12-22 12:16:58 -0500</bug_when>
            <thetext>Fixed in the SVN.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2207423</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-01-24 18:40:22 -0500</bug_when>
            <thetext>Fixed in the latest interim version</thetext>
          </long_desc>
      
      

    </bug>
    <bug>
          <bug_id>395819</bug_id>
          
          <creation_ts>2012-12-05 09:37:00 -0500</creation_ts>
          <short_desc>[EOL] Casting operations (asInteger, etc) no longer present on Any</short_desc>
          <delta_ts>2013-01-24 18:39:24 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Mac OS X</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Louis Rose">louis@cs.york.ac.uk</reporter>
          <assigned_to name="Louis Rose">louis@cs.york.ac.uk</assigned_to>
          <cc>dkolovos@cs.york.ac.uk</cc>
    
    <cc>louis@cs.york.ac.uk</cc>
    
    <cc>nyoescape@gmail.com</cc>
          
          <votes>0</votes>

      
          <token>1377789461-d5bbcf1469a163a2d2e2e55c55219e21</token>

      

      

          <long_desc isprivate="0">
            <commentid>2190910</commentid>
            <who name="Louis Rose">louis@cs.york.ac.uk</who>
            <bug_when>2012-12-05 09:37:32 -0500</bug_when>
            <thetext>I think we might have a regression in EOL 0.9 onwards, or at least an out-of-date part of the Epsilon book...

Table 4.1 on pg 28 of the book states that Any provides casting operations such as asInteger(), asBoolean() etc. However, looking at the latest code, it seems that these operations are not implemented by the AnyOperationContributor. Some are implemented by the StringOperationContributor, some by the NumberOperationContributor, and some by the ScalarOperationContributor.

The complete list of &quot;casting&quot; operations are below. Does it perhaps make sense to implement all of these on the AnyOperationContributor, and hence make them available for all types? In looking at some old code with Julian and Bill at BAE, it seems that Epsilon 0.8 used to support all of the following for Any type.

asString()
asInteger()
asReal()
asBoolean()
asBag()
asSequence()
asSet()
asOrderedSet()

For now, it&apos;s possible for our users to write their own workaround operations, such as the one shown below. This is the approach that Julian and Bill are using for now.

operation Any asInteger() {
	return new Native(&quot;java.lang.Integer&quot;)(self.asString());
}</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2191022</commentid>
            <who name="Antonio Garcia-Dominguez">nyoescape@gmail.com</who>
            <bug_when>2012-12-05 12:38:57 -0500</bug_when>
            <thetext>Epsilon 0.8 lasted for a pretty long time. Which minor version are they using? There are posts from 2008 talking about 0.8, if I recall correctly.

Digging through the code with git-svn seems to point at SVN r1084 (&quot;Removed object wrapping for primitive types and Collections.&quot;), which removed AsIntegerOperation and many other similar simple operations which performed these conversions. These were replaced with the AnyOperationContributor and other operation contributors, apparently.

It seems we missed adding those conversions back into the AnyOperationContributor. Could Julian and Bill provide some acceptance test cases that we could use to reimplement these operations?</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2194960</commentid>
            <who name="Louis Rose">louis@cs.york.ac.uk</who>
            <bug_when>2012-12-16 06:28:45 -0500</bug_when>
            <thetext>(In reply to comment #1)
&gt; It seems we missed adding those conversions back into the
&gt; AnyOperationContributor. Could Julian and Bill provide some acceptance test
&gt; cases that we could use to reimplement these operations?

I think you&apos;re exactly right Antonio; we missed putting these operations back on to AnyOperationContributor. I spoke to Dimitris about this last week, and it seems that the correct solution is indeed to move them to AnyOperationContributor.

I&apos;ve done this in SVN revision 2105, and added some regression tests based on Julian and Bill&apos;s code. (They were using x.asInteger() where x was an instance of EEnumLiteral).

In short, we now try to convert the string representation of an object to the primitive requested (Integer, Real, Boolean, ...).</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2207422</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-01-24 18:39:24 -0500</bug_when>
            <thetext>Fixed in the latest interim version</thetext>
          </long_desc>
      
      

    </bug>
    <bug>
          <bug_id>395874</bug_id>
          
          <creation_ts>2012-12-05 18:20:00 -0500</creation_ts>
          <short_desc>ECL guards overwrite variables</short_desc>
          <delta_ts>2013-01-24 18:39:10 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Mac OS X</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</reporter>
          <assigned_to name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</assigned_to>
          <cc>fak505@york.ac.uk</cc>
          
          <votes>0</votes>

      
          <token>1377789461-c62ea5d124ba878623015b8cd253ece0</token>

      

      

          <long_desc isprivate="0">
            <commentid>2191150</commentid>
              <attachid>224338</attachid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2012-12-05 18:20:37 -0500</bug_when>
            <thetext>Created attachment 224338
Minimal example that reproduces this bug

(Copied from direct email)
 
Can you have a look at the following code? I am not sure if this is a mistake in my code or it is a bug.

rule matchSLO
 match c : ConsumerSLA!SLO
 with p: ProviderSLA!SLO{
 compare {
  return (c.violation.matches(p.violation) and c.expression.matches(p.expression) and c.parameterValue.matches(p.parameterValue);
 }
 }

It returns an error says a property expression is not found in object QoSParameter. This error disappears when I delete the  guard statements in matchExpression and QoSParameter or when I change the name of parameters in these rules. The necessary files with sample code are attached.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2191151</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2012-12-05 18:20:54 -0500</bug_when>
            <thetext>Fixed in the SVN.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2207421</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-01-24 18:39:10 -0500</bug_when>
            <thetext>Fixed in the latest interim version</thetext>
          </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>224338</attachid>
            <date>2012-12-05 18:20:00 -0500</date>
            <delta_ts>2012-12-05 18:20:37 -0500</delta_ts>
            <desc>Minimal example that reproduces this bug</desc>
            <filename>minimal_example.zip</filename>
            <type>application/zip</type>
            <size>8193</size>
            <attacher>dkolovos@cs.york.ac.uk</attacher>
            
              <token>1377789461-cc86116e12c137e589f4bcb22b701432</token>

          </attachment>
      

    </bug>
    <bug>
          <bug_id>395806</bug_id>
          
          <creation_ts>2012-12-05 05:24:00 -0500</creation_ts>
          <short_desc>Epsilon example launch file need to be updated</short_desc>
          <delta_ts>2013-01-24 18:38:56 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows 7</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>0</everconfirmed>
          <reporter name="Rafidah Pakir">rpm507@york.ac.uk</reporter>
          <assigned_to name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</assigned_to>
          
          
          <votes>0</votes>

      
          <token>1377789461-218195635a9cdc056d6c67d57ef60081</token>

      

      

          <long_desc isprivate="0">
            <commentid>2190812</commentid>
            <who name="Rafidah Pakir">rpm507@york.ac.uk</who>
            <bug_when>2012-12-05 05:24:32 -0500</bug_when>
            <thetext>I found the launch file for Heterogeneous Model Merging with ECL/EML example needs to be updated on few paths it referring to.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2191157</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2012-12-05 18:37:45 -0500</bug_when>
            <thetext>Thanks for reporting this! I&apos;ve fixed it in the SVN.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2207420</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-01-24 18:38:56 -0500</bug_when>
            <thetext>Fixed in the latest interim version</thetext>
          </long_desc>
      
      

    </bug>
    <bug>
          <bug_id>388705</bug_id>
          
          <creation_ts>2012-09-03 14:38:00 -0400</creation_ts>
          <short_desc>print() behaves differently based on prefix, might report EolNoType, EolTypeNoInstance</short_desc>
          <delta_ts>2013-01-24 18:38:44 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>enhancement</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>0</everconfirmed>
          <reporter name="Fabian Hänsel">fabtagon@gmx.de</reporter>
          <assigned_to name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</assigned_to>
          
          
          <votes>0</votes>

      
          <token>1377789461-9dedaadd459044f1f203e52b978934a5</token>

      

      

          <long_desc isprivate="0">
            <commentid>2155524</commentid>
            <who name="Fabian Hänsel">fabtagon@gmx.de</who>
            <bug_when>2012-09-03 14:38:20 -0400</bug_when>
            <thetext>Short: someObject.print() gives confusing messages while someObject.print(&quot;foo: &quot;) gives proper results even though both should only differ by a prefixed foo in the latter case.

= Explanation =

consider the following EOL program:

  var a : OrderedSet = new OrderedSet;

  print(&quot;Type of a: &quot;); a.println();
  a.println(&quot;Type of a: &quot;);

= Expected behaviour =

Two identical lines are printed.

= Experienced behaviour =

The following is printed:
  Type of a: org.eclipse.epsilon.eol.types.EolNoType$EolNoTypeInstance@20b9b80dOrderedSet {}
  Type of a: OrderedSet {}

The first line with &apos;disgusting&apos; things like NoType and NoInstance strongly smells like something with declaration/instantiation went wrong and is quite confusing and attracts my attention while debugging even though everything is perfectly ok there.

= Proposed resolution =

Both prints should give the same information (besides the prefix of course).

If the &apos;strange&apos; information is just an infelicitous verbalisation of other issues (e.g. packages, namespaces, whatever) information not available at this point, this should be made clearer or it should be removed in cases where output includes such misleading information.

= Description of print in the Epsilon book (for reference) =

Prints a string representation of the object on which it is invoked pre-fixed with the optional prefix string and returns the object on which it was invoked. In this way, the print operation can be used for debugging purposes in a non-invasive manner.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2188483</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2012-11-28 08:52:23 -0500</bug_when>
            <thetext>Thanks for reporting this! In fact, print() and println() are not meant to be called in a context-less fashion. I&apos;ve tightened the respective class in the SVN so that now print(&quot;x&quot;) fails (&quot;x&quot;.print() should be used instead)</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2207419</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-01-24 18:38:44 -0500</bug_when>
            <thetext>Fixed in the latest interim version</thetext>
          </long_desc>
      
      

    </bug>
    <bug>
          <bug_id>394971</bug_id>
          
          <creation_ts>2012-11-23 08:53:00 -0500</creation_ts>
          <short_desc>ProfilerTool throws NullPointerException when stop() is called more often than start()</short_desc>
          <delta_ts>2013-01-24 18:38:33 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>Epsilon</product>
          <component>Core</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows 7</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>interim</status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>0</everconfirmed>
          <reporter name="Joost van Pinxten">joostvanpinxten@gmail.com</reporter>
          <assigned_to name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</assigned_to>
          
          
          <votes>0</votes>

      
          <token>1377789461-117ad3c8627367a9c85ac32b419958ff</token>

      

      

          <long_desc isprivate="0">
            <commentid>2186983</commentid>
              <attachid>223911</attachid>
            <who name="Joost van Pinxten">joostvanpinxten@gmail.com</who>
            <bug_when>2012-11-23 08:53:18 -0500</bug_when>
            <thetext>Created attachment 223911
Minimal project which reproduces the bug.

While profiling, I removed a profile start statement without removing the corresponding stop statement. The profiler throws a NullPointerException and the profiling window will then simply start throwing a lot of errors/exceptions on interaction. 


Reproducing is simple: test.eol:

var profiler = new Native(&apos;org.eclipse.epsilon.eol.tools.ProfilerTool&apos;);
profiler.start(&quot;test&quot;);

profiler.stop();
// second call to stop() will throw exception
profiler.stop();

Internal error: java.lang.NullPointerException
	at org.eclipse.epsilon.profiling.Profiler.stop[Profiler.java:117]
	at org.eclipse.epsilon.eol.tools.ProfilerTool.stop[ProfilerTool.java:52]
	at sun.reflect.NativeMethodAccessorImpl.invoke0[Native Method]
	at sun.reflect.NativeMethodAccessorImpl.invoke[Unknown Source]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke[Unknown Source]
	at java.lang.reflect.Method.invoke[Unknown Source]
	at org.eclipse.epsilon.eol.util.ReflectionUtil.executeMethod[ReflectionUtil.java:175]
	at org.eclipse.epsilon.eol.util.ReflectionUtil.executeMethod[ReflectionUtil.java:157]
	at org.eclipse.epsilon.eol.execute.PointExecutor.executeOperation[PointExecutor.java:154]
	at org.eclipse.epsilon.eol.execute.PointExecutor.execute[PointExecutor.java:75]
	at org.eclipse.epsilon.eol.execute.PointExecutor.execute[PointExecutor.java:44]
	at org.eclipse.epsilon.eol.execute.PointExecutor.execute[PointExecutor.java:90]
	at org.eclipse.epsilon.eol.execute.ExecutorFactory.executeAST[ExecutorFactory.java:226]
	at org.eclipse.epsilon.eol.execute.ExecutorFactory.executeAST[ExecutorFactory.java:196]
	at org.eclipse.epsilon.eol.execute.StatementBlockExecutor.execute[StatementBlockExecutor.java:26]
	at org.eclipse.epsilon.eol.execute.ExecutorFactory.executeAST[ExecutorFactory.java:226]
	at org.eclipse.epsilon.eol.EolModule.execute[EolModule.java:43]
	at org.eclipse.epsilon.eol.dt.launching.EpsilonLaunchConfigurationDelegate.launch[EpsilonLaunchConfigurationDelegate.java:79]
	at org.eclipse.epsilon.eol.dt.launching.EpsilonLaunchConfigurationDelegate.launch[EpsilonLaunchConfigurationDelegate.java:56]
	at org.eclipse.debug.internal.core.LaunchConfiguration.launch[LaunchConfiguration.java:855]
	at org.eclipse.debug.internal.core.LaunchConfiguration.launch[LaunchConfiguration.java:704]
	at org.eclipse.debug.internal.ui.DebugUIPlugin.buildAndLaunch[DebugUIPlugin.java:1047]
	at org.eclipse.debug.internal.ui.DebugUIPlugin$8.run[DebugUIPlugin.java:1251]
	at org.eclipse.core.internal.jobs.Worker.run[Worker.java:53]</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2188424</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2012-11-28 08:11:23 -0500</bug_when>
            <thetext>Thanks for reporting this. This has now been fixed in the SVN: the second call to stop() now throws the following exception early enough so that it doesn&apos;t compromise the state of the profiler:

Internal error: java.lang.IllegalStateException: There is no profiling target to stop. Too many calls to the stop method?
	at org.eclipse.epsilon.profiling.Profiler.stop[Profiler.java:86]
        ...

Cheers,
Dimitris</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>2207418</commentid>
            <who name="Dimitris Kolovos">dkolovos@cs.york.ac.uk</who>
            <bug_when>2013-01-24 18:38:33 -0500</bug_when>
            <thetext>Fixed in the latest interim version</thetext>
          </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>223911</attachid>
            <date>2012-11-23 08:53:00 -0500</date>
            <delta_ts>2012-11-23 08:53:18 -0500</delta_ts>
            <desc>Minimal project which reproduces the bug.</desc>
            <filename>profilerexception.zip</filename>
            <type>application/x-zip-compressed</type>
            <size>1066</size>
            <attacher>joostvanpinxten@gmail.com</attacher>
            
              <token>1377789461-6ec03ad30b6b7ff5f851f562ff86ef43</token>

          </attachment>
      

    </bug>

</bugzilla>