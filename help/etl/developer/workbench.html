<html>
<head>
<style></style>
</head>
<body style='color:#000000; background:#ffffff; '><pre>
<span style='color:#7f0055; font-weight:bold; '>package</span><span style='color:#7f0055; '> org</span><span style='color:#7f0055; '>.</span><span style='color:#7f0055; '>epsilon</span><span style='color:#7f0055; '>.</span><span style='color:#7f0055; '>etl</span><span style='color:#7f0055; '>.</span><span style='color:#7f0055; '>java</span><span style='color:#7f0055; '>;</span>

<span style='color:#7f0055; font-weight:bold; '>import</span><span style='color:#7f0055; '> java</span><span style='color:#7f0055; '>.</span><span style='color:#7f0055; '>io</span><span style='color:#7f0055; '>.</span><span style='color:#7f0055; '>File</span><span style='color:#7f0055; '>;</span>
<span style='color:#7f0055; font-weight:bold; '>import</span><span style='color:#7f0055; '> java</span><span style='color:#7f0055; '>.</span><span style='color:#7f0055; '>util</span><span style='color:#7f0055; '>.</span><span style='color:#7f0055; '>List</span><span style='color:#7f0055; '>;</span>

<span style='color:#7f0055; font-weight:bold; '>import</span><span style='color:#7f0055; '> org</span><span style='color:#7f0055; '>.</span><span style='color:#7f0055; '>epsilon</span><span style='color:#7f0055; '>.</span><span style='color:#7f0055; '>eol</span><span style='color:#7f0055; '>.</span><span style='color:#7f0055; '>exceptions</span><span style='color:#7f0055; '>.</span><span style='color:#7f0055; '>EolRuntimeException</span><span style='color:#7f0055; '>;</span>
<span style='color:#7f0055; font-weight:bold; '>import</span><span style='color:#7f0055; '> org</span><span style='color:#7f0055; '>.</span><span style='color:#7f0055; '>epsilon</span><span style='color:#7f0055; '>.</span><span style='color:#7f0055; '>eol</span><span style='color:#7f0055; '>.</span><span style='color:#7f0055; '>models</span><span style='color:#7f0055; '>.</span><span style='color:#7f0055; '>emf</span><span style='color:#7f0055; '>.</span><span style='color:#7f0055; '>EmfModel</span><span style='color:#7f0055; '>;</span>
<span style='color:#7f0055; font-weight:bold; '>import</span><span style='color:#7f0055; '> org</span><span style='color:#7f0055; '>.</span><span style='color:#7f0055; '>epsilon</span><span style='color:#7f0055; '>.</span><span style='color:#7f0055; '>etl</span><span style='color:#7f0055; '>.</span><span style='color:#7f0055; '>EtlModuleImpl</span><span style='color:#7f0055; '>;</span>

<span style='color:#7f0055; font-weight:bold; '>public</span> <span style='color:#7f0055; font-weight:bold; '>class</span> Workbench {

	<span style='color:#7f0055; font-weight:bold; '>public</span> <span style='color:#7f0055; font-weight:bold; '>static</span> <span style='color:#7f0055; font-weight:bold; '>void</span> main(<span style='color:#7f0055; font-weight:bold; '>String</span>[] args) {
		
		
		EtlModuleImpl module = <span style='color:#7f0055; font-weight:bold; '>new</span> EtlModuleImpl();
		
		<span style='color:#7f0055; font-weight:bold; '>try</span> {
			module.parse(<span style='color:#7f0055; font-weight:bold; '>new</span> <span style='color:#7f0055; font-weight:bold; '>File</span>(getAbsolutePath(<span style='color:#2a00ff; '>"OO2DB.etl"</span>)));
		} <span style='color:#7f0055; font-weight:bold; '>catch</span> (<span style='color:#7f0055; font-weight:bold; '>Exception</span> e) {
			e.printStackTrace();
			<span style='color:#7f0055; font-weight:bold; '>return</span>;
		}
		
		<span style='color:#3f7f59; '>// Look for and report parse errors</span>
		<span style='color:#7f0055; font-weight:bold; '>List</span> parseErrors = module.getParseErrors();
		<span style='color:#7f0055; font-weight:bold; '>if</span> (parseErrors.size() > 0) {
			<span style='color:#7f0055; font-weight:bold; '>for</span> (<span style='color:#7f0055; font-weight:bold; '>int</span> i=0;i&lt;parseErrors.size();i++){
				<span style='color:#7f0055; font-weight:bold; '>System</span>.err.println(parseErrors.get(i).toString());
			}
			<span style='color:#7f0055; font-weight:bold; '>return</span>;
		}
		
		<span style='color:#3f7f59; '>// Load the OO model</span>
		EmfModel ooModel = <span style='color:#7f0055; font-weight:bold; '>new</span> EmfModel();
		ooModel.setModelFile(getAbsolutePath(<span style='color:#2a00ff; '>"OOInstance.ecore"</span>));
		ooModel.setMetamodelFile(getAbsolutePath(<span style='color:#2a00ff; '>"OO.ecore"</span>));
		ooModel.setMetamodel(<span style='color:#7f0055; font-weight:bold; '>false</span>);
		ooModel.setMetamodelFileBased(<span style='color:#7f0055; font-weight:bold; '>true</span>);
		ooModel.setName(<span style='color:#2a00ff; '>"OO"</span>);
		ooModel.load();
		
		<span style='color:#3f7f59; '>//Load the DB model</span>
		EmfModel dbModel = <span style='color:#7f0055; font-weight:bold; '>new</span> EmfModel();
		dbModel.setModelFile(getAbsolutePath(<span style='color:#2a00ff; '>"DBInstance.ecore"</span>));
		dbModel.setMetamodelFile(getAbsolutePath(<span style='color:#2a00ff; '>"DB.ecore"</span>));
		dbModel.setMetamodel(<span style='color:#7f0055; font-weight:bold; '>false</span>);
		dbModel.setMetamodelFileBased(<span style='color:#7f0055; font-weight:bold; '>true</span>);
		dbModel.setName(<span style='color:#2a00ff; '>"DB"</span>);
		dbModel.load();
		
		module.getContext().setDefaultDebugStream(<span style='color:#7f0055; font-weight:bold; '>System</span>.out);
		module.getContext().setDefaultErrorStream(<span style='color:#7f0055; font-weight:bold; '>System</span>.err);
		
		module.setSourceModel(ooModel);
		module.setTargetModel(dbModel);
		
		<span style='color:#7f0055; font-weight:bold; '>try</span> {
			module.process();
		}
		<span style='color:#7f0055; font-weight:bold; '>catch</span> (EolRuntimeException e) {
			<span style='color:#7f0055; font-weight:bold; '>System</span>.err.println(e.getMessage());
		}
		
	}
	
	<span style='color:#7f0055; font-weight:bold; '>public</span> <span style='color:#7f0055; font-weight:bold; '>static</span> <span style='color:#7f0055; font-weight:bold; '>String</span> getAbsolutePath(<span style='color:#7f0055; font-weight:bold; '>String</span> relativePath){
		<span style='color:#7f0055; font-weight:bold; '>return</span> <span style='color:#2a00ff; '>"C://EtlFromJava//"</span> + relativePath;
	}
	
}
</pre></body></html>
