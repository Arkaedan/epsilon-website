<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<link rel="stylesheet" href="../../../../common/css/style.css" charset="ISO-8859-1"
type="text/css">
	<title>User-defined operations</title>
</head>

<body>
<h2>User-defined operations</h2>
In EOL, user-defined operations on instances can be defined (in a way similar
to the OCL helpers). However, in EOL, user-defined operations can modify the
state of the instance on which they are applied (and any other instances in the
accessible models of course). Each operation declares a context that
defines the type of instances it applies on, a name, a set of input parameters
and a return type. To return a value, in the body of the operation, the
<a href="../statements/return.html" class="code">return</a> statement can be used. The
instance on which the operation is applied is accessible from inside the body of
the operation through the <code>self</code> built-in variable.

<h3>Syntax</h3>
<code>
<b><font color='#7F0055'>operation</font></b>&nbsp;context&nbsp;operationName((parameterName&nbsp;:&nbsp;parameterType)*)&nbsp;(:&nbsp;returnType)?&nbsp;{<br>
&nbsp;&nbsp;body<br>
}
</code>

<h3>Examples</h3>

<code>
1.add(5).println();<br>
<br>
<b><font color='#7F0055'>operation</font></b>&nbsp;Integer&nbsp;add(i&nbsp;:&nbsp;Integer)&nbsp;{<br>
&nbsp;&nbsp;<b><font color='#7F0055'>return</font></b>&nbsp;<i><font color='#2A00FF'>self</font></i>&nbsp;+&nbsp;i;<br>
}
</code>
<br><br>
The <code>add</code> operation is defined to be applicable to instances of type <code>Integer</code>,
to accept a parameter of type <code>Integer</code>, add its value with the value of the instance on which
it is applied (<code>self</code>) and return the sum. Consequently, when executing the first line of the
example, <code>6</code> will be printed in the default output stream.
<br><br>
<code>
c.hasStereotype(<font color='#2A00FF'>'singleton'</font>).println();<br>
<br>
<b><font color='#7F0055'>operation</font></b>&nbsp;Uml!Class&nbsp;hasStereotype(name&nbsp;:&nbsp;String)&nbsp;:&nbsp;Boolean&nbsp;{<br>
&nbsp;&nbsp;<b><font color='#7F0055'>return</font></b>&nbsp;<i><font color='#2A00FF'>self</font></i>.stereotype.exists(s:Uml!Stereotype|s.name&nbsp;=&nbsp;name);<br>
}
</code>
<br><br>
The <code>hasSingleton</code> operation is defined to be applicable to instances of the
<a href="../types/modelelementtypes.html">model-element type</a> <code>Uml!Class</code>,
to accept a parameter of type <code>String</code> and return if the instance on which
it is invoked has a stereptype with the specified name.
</body>
</html>